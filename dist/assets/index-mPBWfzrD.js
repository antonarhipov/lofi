(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();var $u={exports:{}},Ei={},Hu={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf;function i_(){if(kf)return Te;kf=1;var o=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function y(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function x(C,F,de){this.props=C,this.context=F,this.refs=T,this.updater=de||k}x.prototype.isReactComponent={},x.prototype.setState=function(C,F){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,F,"setState")},x.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function O(){}O.prototype=x.prototype;function V(C,F,de){this.props=C,this.context=F,this.refs=T,this.updater=de||k}var L=V.prototype=new O;L.constructor=V,w(L,x.prototype),L.isPureReactComponent=!0;var z=Array.isArray,N=Object.prototype.hasOwnProperty,I={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function D(C,F,de){var fe,se={},he=null,we=null;if(F!=null)for(fe in F.ref!==void 0&&(we=F.ref),F.key!==void 0&&(he=""+F.key),F)N.call(F,fe)&&!P.hasOwnProperty(fe)&&(se[fe]=F[fe]);var ee=arguments.length-2;if(ee===1)se.children=de;else if(1<ee){for(var Se=Array(ee),Oe=0;Oe<ee;Oe++)Se[Oe]=arguments[Oe+2];se.children=Se}if(C&&C.defaultProps)for(fe in ee=C.defaultProps,ee)se[fe]===void 0&&(se[fe]=ee[fe]);return{$$typeof:o,type:C,key:he,ref:we,props:se,_owner:I.current}}function Y(C,F){return{$$typeof:o,type:C.type,key:F,ref:C.ref,props:C.props,_owner:C._owner}}function W(C){return typeof C=="object"&&C!==null&&C.$$typeof===o}function U(C){var F={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(de){return F[de]})}var q=/\/+/g;function te(C,F){return typeof C=="object"&&C!==null&&C.key!=null?U(""+C.key):F.toString(36)}function ne(C,F,de,fe,se){var he=typeof C;(he==="undefined"||he==="boolean")&&(C=null);var we=!1;if(C===null)we=!0;else switch(he){case"string":case"number":we=!0;break;case"object":switch(C.$$typeof){case o:case e:we=!0}}if(we)return we=C,se=se(we),C=fe===""?"."+te(we,0):fe,z(se)?(de="",C!=null&&(de=C.replace(q,"$&/")+"/"),ne(se,F,de,"",function(Oe){return Oe})):se!=null&&(W(se)&&(se=Y(se,de+(!se.key||we&&we.key===se.key?"":(""+se.key).replace(q,"$&/")+"/")+C)),F.push(se)),1;if(we=0,fe=fe===""?".":fe+":",z(C))for(var ee=0;ee<C.length;ee++){he=C[ee];var Se=fe+te(he,ee);we+=ne(he,F,de,Se,se)}else if(Se=y(C),typeof Se=="function")for(C=Se.call(C),ee=0;!(he=C.next()).done;)he=he.value,Se=fe+te(he,ee++),we+=ne(he,F,de,Se,se);else if(he==="object")throw F=String(C),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return we}function le(C,F,de){if(C==null)return C;var fe=[],se=0;return ne(C,fe,"","",function(he){return F.call(de,he,se++)}),fe}function G(C){if(C._status===-1){var F=C._result;F=F(),F.then(function(de){(C._status===0||C._status===-1)&&(C._status=1,C._result=de)},function(de){(C._status===0||C._status===-1)&&(C._status=2,C._result=de)}),C._status===-1&&(C._status=0,C._result=F)}if(C._status===1)return C._result.default;throw C._result}var Z={current:null},j={transition:null},$={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:j,ReactCurrentOwner:I};function B(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:le,forEach:function(C,F,de){le(C,function(){F.apply(this,arguments)},de)},count:function(C){var F=0;return le(C,function(){F++}),F},toArray:function(C){return le(C,function(F){return F})||[]},only:function(C){if(!W(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Te.Component=x,Te.Fragment=s,Te.Profiler=l,Te.PureComponent=V,Te.StrictMode=i,Te.Suspense=p,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Te.act=B,Te.cloneElement=function(C,F,de){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var fe=w({},C.props),se=C.key,he=C.ref,we=C._owner;if(F!=null){if(F.ref!==void 0&&(he=F.ref,we=I.current),F.key!==void 0&&(se=""+F.key),C.type&&C.type.defaultProps)var ee=C.type.defaultProps;for(Se in F)N.call(F,Se)&&!P.hasOwnProperty(Se)&&(fe[Se]=F[Se]===void 0&&ee!==void 0?ee[Se]:F[Se])}var Se=arguments.length-2;if(Se===1)fe.children=de;else if(1<Se){ee=Array(Se);for(var Oe=0;Oe<Se;Oe++)ee[Oe]=arguments[Oe+2];fe.children=ee}return{$$typeof:o,type:C.type,key:se,ref:he,props:fe,_owner:we}},Te.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:u,_context:C},C.Consumer=C},Te.createElement=D,Te.createFactory=function(C){var F=D.bind(null,C);return F.type=C,F},Te.createRef=function(){return{current:null}},Te.forwardRef=function(C){return{$$typeof:f,render:C}},Te.isValidElement=W,Te.lazy=function(C){return{$$typeof:_,_payload:{_status:-1,_result:C},_init:G}},Te.memo=function(C,F){return{$$typeof:m,type:C,compare:F===void 0?null:F}},Te.startTransition=function(C){var F=j.transition;j.transition={};try{C()}finally{j.transition=F}},Te.unstable_act=B,Te.useCallback=function(C,F){return Z.current.useCallback(C,F)},Te.useContext=function(C){return Z.current.useContext(C)},Te.useDebugValue=function(){},Te.useDeferredValue=function(C){return Z.current.useDeferredValue(C)},Te.useEffect=function(C,F){return Z.current.useEffect(C,F)},Te.useId=function(){return Z.current.useId()},Te.useImperativeHandle=function(C,F,de){return Z.current.useImperativeHandle(C,F,de)},Te.useInsertionEffect=function(C,F){return Z.current.useInsertionEffect(C,F)},Te.useLayoutEffect=function(C,F){return Z.current.useLayoutEffect(C,F)},Te.useMemo=function(C,F){return Z.current.useMemo(C,F)},Te.useReducer=function(C,F,de){return Z.current.useReducer(C,F,de)},Te.useRef=function(C){return Z.current.useRef(C)},Te.useState=function(C){return Z.current.useState(C)},Te.useSyncExternalStore=function(C,F,de){return Z.current.useSyncExternalStore(C,F,de)},Te.useTransition=function(){return Z.current.useTransition()},Te.version="18.3.1",Te}var Tf;function lc(){return Tf||(Tf=1,Hu.exports=i_()),Hu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf;function o_(){if(xf)return Ei;xf=1;var o=lc(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,m){var _,v={},y=null,k=null;m!==void 0&&(y=""+m),p.key!==void 0&&(y=""+p.key),p.ref!==void 0&&(k=p.ref);for(_ in p)i.call(p,_)&&!u.hasOwnProperty(_)&&(v[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)v[_]===void 0&&(v[_]=p[_]);return{$$typeof:e,type:f,key:y,ref:k,props:v,_owner:l.current}}return Ei.Fragment=s,Ei.jsx=d,Ei.jsxs=d,Ei}var Cf;function a_(){return Cf||(Cf=1,$u.exports=o_()),$u.exports}var xe=a_(),qe=lc(),ca={},Qu={exports:{}},bt={},Yu={exports:{}},Xu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ef;function l_(){return Ef||(Ef=1,(function(o){function e(j,$){var B=j.length;j.push($);e:for(;0<B;){var C=B-1>>>1,F=j[C];if(0<l(F,$))j[C]=$,j[B]=F,B=C;else break e}}function s(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var $=j[0],B=j.pop();if(B!==$){j[0]=B;e:for(var C=0,F=j.length,de=F>>>1;C<de;){var fe=2*(C+1)-1,se=j[fe],he=fe+1,we=j[he];if(0>l(se,B))he<F&&0>l(we,se)?(j[C]=we,j[he]=B,C=he):(j[C]=se,j[fe]=B,C=fe);else if(he<F&&0>l(we,B))j[C]=we,j[he]=B,C=he;else break e}}return $}function l(j,$){var B=j.sortIndex-$.sortIndex;return B!==0?B:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();o.unstable_now=function(){return d.now()-f}}var p=[],m=[],_=1,v=null,y=3,k=!1,w=!1,T=!1,x=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(j){for(var $=s(m);$!==null;){if($.callback===null)i(m);else if($.startTime<=j)i(m),$.sortIndex=$.expirationTime,e(p,$);else break;$=s(m)}}function z(j){if(T=!1,L(j),!w)if(s(p)!==null)w=!0,G(N);else{var $=s(m);$!==null&&Z(z,$.startTime-j)}}function N(j,$){w=!1,T&&(T=!1,O(D),D=-1),k=!0;var B=y;try{for(L($),v=s(p);v!==null&&(!(v.expirationTime>$)||j&&!U());){var C=v.callback;if(typeof C=="function"){v.callback=null,y=v.priorityLevel;var F=C(v.expirationTime<=$);$=o.unstable_now(),typeof F=="function"?v.callback=F:v===s(p)&&i(p),L($)}else i(p);v=s(p)}if(v!==null)var de=!0;else{var fe=s(m);fe!==null&&Z(z,fe.startTime-$),de=!1}return de}finally{v=null,y=B,k=!1}}var I=!1,P=null,D=-1,Y=5,W=-1;function U(){return!(o.unstable_now()-W<Y)}function q(){if(P!==null){var j=o.unstable_now();W=j;var $=!0;try{$=P(!0,j)}finally{$?te():(I=!1,P=null)}}else I=!1}var te;if(typeof V=="function")te=function(){V(q)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,le=ne.port2;ne.port1.onmessage=q,te=function(){le.postMessage(null)}}else te=function(){x(q,0)};function G(j){P=j,I||(I=!0,te())}function Z(j,$){D=x(function(){j(o.unstable_now())},$)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(j){j.callback=null},o.unstable_continueExecution=function(){w||k||(w=!0,G(N))},o.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<j?Math.floor(1e3/j):5},o.unstable_getCurrentPriorityLevel=function(){return y},o.unstable_getFirstCallbackNode=function(){return s(p)},o.unstable_next=function(j){switch(y){case 1:case 2:case 3:var $=3;break;default:$=y}var B=y;y=$;try{return j()}finally{y=B}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var B=y;y=j;try{return $()}finally{y=B}},o.unstable_scheduleCallback=function(j,$,B){var C=o.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?C+B:C):B=C,j){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=B+F,j={id:_++,callback:$,priorityLevel:j,startTime:B,expirationTime:F,sortIndex:-1},B>C?(j.sortIndex=B,e(m,j),s(p)===null&&j===s(m)&&(T?(O(D),D=-1):T=!0,Z(z,B-C))):(j.sortIndex=F,e(p,j),w||k||(w=!0,G(N))),j},o.unstable_shouldYield=U,o.unstable_wrapCallback=function(j){var $=y;return function(){var B=y;y=$;try{return j.apply(this,arguments)}finally{y=B}}}})(Xu)),Xu}var Nf;function u_(){return Nf||(Nf=1,Yu.exports=l_()),Yu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af;function c_(){if(Af)return bt;Af=1;var o=lc(),e=u_();function s(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function u(t,n){d(t,n),d(t+"Capture",n)}function d(t,n){for(l[t]=n,t=0;t<n.length;t++)i.add(n[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},v={};function y(t){return p.call(v,t)?!0:p.call(_,t)?!1:m.test(t)?v[t]=!0:(_[t]=!0,!1)}function k(t,n,r,a){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w(t,n,r,a){if(n===null||typeof n>"u"||k(t,n,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function T(t,n,r,a,c,h,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=r,this.propertyName=t,this.type=n,this.sanitizeURL=h,this.removeEmptyString=g}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){x[t]=new T(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];x[n]=new T(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){x[t]=new T(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){x[t]=new T(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){x[t]=new T(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){x[t]=new T(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){x[t]=new T(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){x[t]=new T(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){x[t]=new T(t,5,!1,t.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function V(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(O,V);x[n]=new T(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(O,V);x[n]=new T(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(O,V);x[n]=new T(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){x[t]=new T(t,1,!1,t.toLowerCase(),null,!1,!1)}),x.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){x[t]=new T(t,1,!1,t.toLowerCase(),null,!0,!0)});function L(t,n,r,a){var c=x.hasOwnProperty(n)?x[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(w(n,r,c,a)&&(r=null),a||c===null?y(n)&&(r===null?t.removeAttribute(n):t.setAttribute(n,""+r)):c.mustUseProperty?t[c.propertyName]=r===null?c.type===3?!1:"":r:(n=c.attributeName,a=c.attributeNamespace,r===null?t.removeAttribute(n):(c=c.type,r=c===3||c===4&&r===!0?"":""+r,a?t.setAttributeNS(a,n,r):t.setAttribute(n,r))))}var z=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),I=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),U=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),j=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var B=Object.assign,C;function F(t){if(C===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);C=n&&n[1]||""}return`
`+C+t}var de=!1;function fe(t,n){if(!t||de)return"";de=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(b){var a=b}Reflect.construct(t,[],n)}else{try{n.call()}catch(b){a=b}t.call(n.prototype)}else{try{throw Error()}catch(b){a=b}t()}}catch(b){if(b&&a&&typeof b.stack=="string"){for(var c=b.stack.split(`
`),h=a.stack.split(`
`),g=c.length-1,S=h.length-1;1<=g&&0<=S&&c[g]!==h[S];)S--;for(;1<=g&&0<=S;g--,S--)if(c[g]!==h[S]){if(g!==1||S!==1)do if(g--,S--,0>S||c[g]!==h[S]){var E=`
`+c[g].replace(" at new "," at ");return t.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",t.displayName)),E}while(1<=g&&0<=S);break}}}finally{de=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?F(t):""}function se(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=fe(t.type,!1),t;case 11:return t=fe(t.type.render,!1),t;case 1:return t=fe(t.type,!0),t;default:return""}}function he(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case I:return"Portal";case Y:return"Profiler";case D:return"StrictMode";case te:return"Suspense";case ne:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case U:return(t.displayName||"Context")+".Consumer";case W:return(t._context.displayName||"Context")+".Provider";case q:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case le:return n=t.displayName||null,n!==null?n:he(t.type)||"Memo";case G:n=t._payload,t=t._init;try{return he(t(n))}catch{}}return null}function we(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(n);case 8:return n===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ee(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Se(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oe(t){var n=Se(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),a=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Lt(t){t._valueTracker||(t._valueTracker=Oe(t))}function Gt(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),a="";return t&&(a=Se(t)?t.checked?"true":"false":t.value),t=a,t!==r?(n.setValue(t),!0):!1}function Xs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wr(t,n){var r=n.checked;return B({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function re(t,n){var r=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;r=ee(n.value!=null?n.value:r),t._wrapperState={initialChecked:a,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function ge(t,n){n=n.checked,n!=null&&L(t,"checked",n,!1)}function He(t,n){ge(t,n);var r=ee(n.value),a=n.type;if(r!=null)a==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Ce(t,n.type,r):n.hasOwnProperty("defaultValue")&&Ce(t,n.type,ee(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Ve(t,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,r||n===t.value||(t.value=n),t.defaultValue=n}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ce(t,n,r){(n!=="number"||Xs(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Re=Array.isArray;function ot(t,n,r,a){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&a&&(t[r].defaultSelected=!0)}else{for(r=""+ee(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function $t(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return B({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qn(t,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(s(92));if(Re(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}n==null&&(n=""),r=n}t._wrapperState={initialValue:ee(r)}}function Zs(t,n){var r=ee(n.value),a=ee(n.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),n.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),a!=null&&(t.defaultValue=""+a)}function Ji(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function eo(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sl(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?eo(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var to,bc=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,a,c){MSApp.execUnsafeLocalFunction(function(){return t(n,r,a,c)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(to=to||document.createElement("div"),to.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=to.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function qr(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},um=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(t){um.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Br[n]=Br[t]})});function Fc(t,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||Br.hasOwnProperty(t)&&Br[t]?(""+n).trim():n+"px"}function Vc(t,n){t=t.style;for(var r in n)if(n.hasOwnProperty(r)){var a=r.indexOf("--")===0,c=Fc(r,n[r],a);r==="float"&&(r="cssFloat"),a?t.setProperty(r,c):t[r]=c}}var cm=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rl(t,n){if(n){if(cm[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function il(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ol=null;function al(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ll=null,Ks=null,Js=null;function Lc(t){if(t=hi(t)){if(typeof ll!="function")throw Error(s(280));var n=t.stateNode;n&&(n=Co(n),ll(t.stateNode,t.type,n))}}function jc(t){Ks?Js?Js.push(t):Js=[t]:Ks=t}function zc(){if(Ks){var t=Ks,n=Js;if(Js=Ks=null,Lc(t),n)for(t=0;t<n.length;t++)Lc(n[t])}}function Wc(t,n){return t(n)}function qc(){}var ul=!1;function Bc(t,n,r){if(ul)return t(n,r);ul=!0;try{return Wc(t,n,r)}finally{ul=!1,(Ks!==null||Js!==null)&&(qc(),zc())}}function Ur(t,n){var r=t.stateNode;if(r===null)return null;var a=Co(r);if(a===null)return null;r=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var cl=!1;if(f)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){cl=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{cl=!1}function hm(t,n,r,a,c,h,g,S,E){var b=Array.prototype.slice.call(arguments,3);try{n.apply(r,b)}catch(X){this.onError(X)}}var $r=!1,no=null,so=!1,hl=null,dm={onError:function(t){$r=!0,no=t}};function fm(t,n,r,a,c,h,g,S,E){$r=!1,no=null,hm.apply(dm,arguments)}function pm(t,n,r,a,c,h,g,S,E){if(fm.apply(this,arguments),$r){if($r){var b=no;$r=!1,no=null}else throw Error(s(198));so||(so=!0,hl=b)}}function xs(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Uc(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Gc(t){if(xs(t)!==t)throw Error(s(188))}function mm(t){var n=t.alternate;if(!n){if(n=xs(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,a=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){r=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return Gc(c),t;if(h===a)return Gc(c),n;h=h.sibling}throw Error(s(188))}if(r.return!==a.return)r=c,a=h;else{for(var g=!1,S=c.child;S;){if(S===r){g=!0,r=c,a=h;break}if(S===a){g=!0,a=c,r=h;break}S=S.sibling}if(!g){for(S=h.child;S;){if(S===r){g=!0,r=h,a=c;break}if(S===a){g=!0,a=h,r=c;break}S=S.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function $c(t){return t=mm(t),t!==null?Hc(t):null}function Hc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Hc(t);if(n!==null)return n;t=t.sibling}return null}var Qc=e.unstable_scheduleCallback,Yc=e.unstable_cancelCallback,gm=e.unstable_shouldYield,_m=e.unstable_requestPaint,Je=e.unstable_now,vm=e.unstable_getCurrentPriorityLevel,dl=e.unstable_ImmediatePriority,Xc=e.unstable_UserBlockingPriority,ro=e.unstable_NormalPriority,ym=e.unstable_LowPriority,Zc=e.unstable_IdlePriority,io=null,vn=null;function wm(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(io,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:Tm,Sm=Math.log,km=Math.LN2;function Tm(t){return t>>>=0,t===0?32:31-(Sm(t)/km|0)|0}var oo=64,ao=4194304;function Hr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lo(t,n){var r=t.pendingLanes;if(r===0)return 0;var a=0,c=t.suspendedLanes,h=t.pingedLanes,g=r&268435455;if(g!==0){var S=g&~c;S!==0?a=Hr(S):(h&=g,h!==0&&(a=Hr(h)))}else g=r&~c,g!==0?a=Hr(g):h!==0&&(a=Hr(h));if(a===0)return 0;if(n!==0&&n!==a&&(n&c)===0&&(c=a&-a,h=n&-n,c>=h||c===16&&(h&4194240)!==0))return n;if((a&4)!==0&&(a|=r&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=a;0<n;)r=31-tn(n),c=1<<r,a|=t[r],n&=~c;return a}function xm(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cm(t,n){for(var r=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes;0<h;){var g=31-tn(h),S=1<<g,E=c[g];E===-1?((S&r)===0||(S&a)!==0)&&(c[g]=xm(S,n)):E<=n&&(t.expiredLanes|=S),h&=~S}}function fl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kc(){var t=oo;return oo<<=1,(oo&4194240)===0&&(oo=64),t}function pl(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Qr(t,n,r){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-tn(n),t[n]=r}function Em(t,n){var r=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<r;){var c=31-tn(r),h=1<<c;n[c]=0,a[c]=-1,t[c]=-1,r&=~h}}function ml(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var a=31-tn(r),c=1<<a;c&n|t[a]&n&&(t[a]|=n),r&=~c}}var De=0;function Jc(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var eh,gl,th,nh,sh,_l=!1,uo=[],Yn=null,Xn=null,Zn=null,Yr=new Map,Xr=new Map,Kn=[],Nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rh(t,n){switch(t){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Yr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(n.pointerId)}}function Zr(t,n,r,a,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:r,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},n!==null&&(n=hi(n),n!==null&&gl(n)),t):(t.eventSystemFlags|=a,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function Am(t,n,r,a,c){switch(n){case"focusin":return Yn=Zr(Yn,t,n,r,a,c),!0;case"dragenter":return Xn=Zr(Xn,t,n,r,a,c),!0;case"mouseover":return Zn=Zr(Zn,t,n,r,a,c),!0;case"pointerover":var h=c.pointerId;return Yr.set(h,Zr(Yr.get(h)||null,t,n,r,a,c)),!0;case"gotpointercapture":return h=c.pointerId,Xr.set(h,Zr(Xr.get(h)||null,t,n,r,a,c)),!0}return!1}function ih(t){var n=Cs(t.target);if(n!==null){var r=xs(n);if(r!==null){if(n=r.tag,n===13){if(n=Uc(r),n!==null){t.blockedOn=n,sh(t.priority,function(){th(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function co(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=yl(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);ol=a,r.target.dispatchEvent(a),ol=null}else return n=hi(r),n!==null&&gl(n),t.blockedOn=r,!1;n.shift()}return!0}function oh(t,n,r){co(t)&&r.delete(n)}function Om(){_l=!1,Yn!==null&&co(Yn)&&(Yn=null),Xn!==null&&co(Xn)&&(Xn=null),Zn!==null&&co(Zn)&&(Zn=null),Yr.forEach(oh),Xr.forEach(oh)}function Kr(t,n){t.blockedOn===n&&(t.blockedOn=null,_l||(_l=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Om)))}function Jr(t){function n(c){return Kr(c,t)}if(0<uo.length){Kr(uo[0],t);for(var r=1;r<uo.length;r++){var a=uo[r];a.blockedOn===t&&(a.blockedOn=null)}}for(Yn!==null&&Kr(Yn,t),Xn!==null&&Kr(Xn,t),Zn!==null&&Kr(Zn,t),Yr.forEach(n),Xr.forEach(n),r=0;r<Kn.length;r++)a=Kn[r],a.blockedOn===t&&(a.blockedOn=null);for(;0<Kn.length&&(r=Kn[0],r.blockedOn===null);)ih(r),r.blockedOn===null&&Kn.shift()}var er=z.ReactCurrentBatchConfig,ho=!0;function Dm(t,n,r,a){var c=De,h=er.transition;er.transition=null;try{De=1,vl(t,n,r,a)}finally{De=c,er.transition=h}}function Rm(t,n,r,a){var c=De,h=er.transition;er.transition=null;try{De=4,vl(t,n,r,a)}finally{De=c,er.transition=h}}function vl(t,n,r,a){if(ho){var c=yl(t,n,r,a);if(c===null)Fl(t,n,a,fo,r),rh(t,a);else if(Am(c,t,n,r,a))a.stopPropagation();else if(rh(t,a),n&4&&-1<Nm.indexOf(t)){for(;c!==null;){var h=hi(c);if(h!==null&&eh(h),h=yl(t,n,r,a),h===null&&Fl(t,n,a,fo,r),h===c)break;c=h}c!==null&&a.stopPropagation()}else Fl(t,n,a,null,r)}}var fo=null;function yl(t,n,r,a){if(fo=null,t=al(a),t=Cs(t),t!==null)if(n=xs(t),n===null)t=null;else if(r=n.tag,r===13){if(t=Uc(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return fo=t,null}function ah(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vm()){case dl:return 1;case Xc:return 4;case ro:case ym:return 16;case Zc:return 536870912;default:return 16}default:return 16}}var Jn=null,wl=null,po=null;function lh(){if(po)return po;var t,n=wl,r=n.length,a,c="value"in Jn?Jn.value:Jn.textContent,h=c.length;for(t=0;t<r&&n[t]===c[t];t++);var g=r-t;for(a=1;a<=g&&n[r-a]===c[h-a];a++);return po=c.slice(t,1<a?1-a:void 0)}function mo(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function go(){return!0}function uh(){return!1}function jt(t){function n(r,a,c,h,g){this._reactName=r,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?go:uh,this.isPropagationStopped=uh,this}return B(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),n}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=jt(tr),ei=B({},tr,{view:0,detail:0}),Im=jt(ei),kl,Tl,ti,_o=B({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ti&&(ti&&t.type==="mousemove"?(kl=t.screenX-ti.screenX,Tl=t.screenY-ti.screenY):Tl=kl=0,ti=t),kl)},movementY:function(t){return"movementY"in t?t.movementY:Tl}}),ch=jt(_o),Mm=B({},_o,{dataTransfer:0}),Pm=jt(Mm),bm=B({},ei,{relatedTarget:0}),xl=jt(bm),Fm=B({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Vm=jt(Fm),Lm=B({},tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jm=jt(Lm),zm=B({},tr,{data:0}),hh=jt(zm),Wm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Um(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Bm[t])?!!n[t]:!1}function Cl(){return Um}var Gm=B({},ei,{key:function(t){if(t.key){var n=Wm[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(t){return t.type==="keypress"?mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$m=jt(Gm),Hm=B({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dh=jt(Hm),Qm=B({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),Ym=jt(Qm),Xm=B({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zm=jt(Xm),Km=B({},_o,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jm=jt(Km),eg=[9,13,27,32],El=f&&"CompositionEvent"in window,ni=null;f&&"documentMode"in document&&(ni=document.documentMode);var tg=f&&"TextEvent"in window&&!ni,fh=f&&(!El||ni&&8<ni&&11>=ni),ph=" ",mh=!1;function gh(t,n){switch(t){case"keyup":return eg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _h(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nr=!1;function ng(t,n){switch(t){case"compositionend":return _h(n);case"keypress":return n.which!==32?null:(mh=!0,ph);case"textInput":return t=n.data,t===ph&&mh?null:t;default:return null}}function sg(t,n){if(nr)return t==="compositionend"||!El&&gh(t,n)?(t=lh(),po=wl=Jn=null,nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fh&&n.locale!=="ko"?null:n.data;default:return null}}var rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!rg[t.type]:n==="textarea"}function yh(t,n,r,a){jc(a),n=ko(n,"onChange"),0<n.length&&(r=new Sl("onChange","change",null,r,a),t.push({event:r,listeners:n}))}var si=null,ri=null;function ig(t){Vh(t,0)}function vo(t){var n=ar(t);if(Gt(n))return t}function og(t,n){if(t==="change")return n}var wh=!1;if(f){var Nl;if(f){var Al="oninput"in document;if(!Al){var Sh=document.createElement("div");Sh.setAttribute("oninput","return;"),Al=typeof Sh.oninput=="function"}Nl=Al}else Nl=!1;wh=Nl&&(!document.documentMode||9<document.documentMode)}function kh(){si&&(si.detachEvent("onpropertychange",Th),ri=si=null)}function Th(t){if(t.propertyName==="value"&&vo(ri)){var n=[];yh(n,ri,t,al(t)),Bc(ig,n)}}function ag(t,n,r){t==="focusin"?(kh(),si=n,ri=r,si.attachEvent("onpropertychange",Th)):t==="focusout"&&kh()}function lg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vo(ri)}function ug(t,n){if(t==="click")return vo(n)}function cg(t,n){if(t==="input"||t==="change")return vo(n)}function hg(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:hg;function ii(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),a=Object.keys(n);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var c=r[a];if(!p.call(n,c)||!nn(t[c],n[c]))return!1}return!0}function xh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ch(t,n){var r=xh(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=n&&a>=n)return{node:r,offset:n-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xh(r)}}function Eh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Eh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Nh(){for(var t=window,n=Xs();n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Xs(t.document)}return n}function Ol(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function dg(t){var n=Nh(),r=t.focusedElem,a=t.selectionRange;if(n!==r&&r&&r.ownerDocument&&Eh(r.ownerDocument.documentElement,r)){if(a!==null&&Ol(r)){if(n=a.start,t=a.end,t===void 0&&(t=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(t,r.value.length);else if(t=(n=r.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var c=r.textContent.length,h=Math.min(a.start,c);a=a.end===void 0?h:Math.min(a.end,c),!t.extend&&h>a&&(c=a,a=h,h=c),c=Ch(r,h);var g=Ch(r,a);c&&g&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==g.node||t.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),t.removeAllRanges(),h>a?(t.addRange(n),t.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),t.addRange(n)))}}for(n=[],t=r;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)t=n[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fg=f&&"documentMode"in document&&11>=document.documentMode,sr=null,Dl=null,oi=null,Rl=!1;function Ah(t,n,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rl||sr==null||sr!==Xs(a)||(a=sr,"selectionStart"in a&&Ol(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),oi&&ii(oi,a)||(oi=a,a=ko(Dl,"onSelect"),0<a.length&&(n=new Sl("onSelect","select",null,n,r),t.push({event:n,listeners:a}),n.target=sr)))}function yo(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var rr={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},Il={},Oh={};f&&(Oh=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function wo(t){if(Il[t])return Il[t];if(!rr[t])return t;var n=rr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Oh)return Il[t]=n[r];return t}var Dh=wo("animationend"),Rh=wo("animationiteration"),Ih=wo("animationstart"),Mh=wo("transitionend"),Ph=new Map,bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(t,n){Ph.set(t,n),u(n,[t])}for(var Ml=0;Ml<bh.length;Ml++){var Pl=bh[Ml],pg=Pl.toLowerCase(),mg=Pl[0].toUpperCase()+Pl.slice(1);es(pg,"on"+mg)}es(Dh,"onAnimationEnd"),es(Rh,"onAnimationIteration"),es(Ih,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(Mh,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ai));function Fh(t,n,r){var a=t.type||"unknown-event";t.currentTarget=r,pm(a,n,void 0,t),t.currentTarget=null}function Vh(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],c=a.event;a=a.listeners;e:{var h=void 0;if(n)for(var g=a.length-1;0<=g;g--){var S=a[g],E=S.instance,b=S.currentTarget;if(S=S.listener,E!==h&&c.isPropagationStopped())break e;Fh(c,S,b),h=E}else for(g=0;g<a.length;g++){if(S=a[g],E=S.instance,b=S.currentTarget,S=S.listener,E!==h&&c.isPropagationStopped())break e;Fh(c,S,b),h=E}}}if(so)throw t=hl,so=!1,hl=null,t}function ze(t,n){var r=n[ql];r===void 0&&(r=n[ql]=new Set);var a=t+"__bubble";r.has(a)||(Lh(n,t,2,!1),r.add(a))}function bl(t,n,r){var a=0;n&&(a|=4),Lh(r,t,a,n)}var So="_reactListening"+Math.random().toString(36).slice(2);function li(t){if(!t[So]){t[So]=!0,i.forEach(function(r){r!=="selectionchange"&&(gg.has(r)||bl(r,!1,t),bl(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[So]||(n[So]=!0,bl("selectionchange",!1,n))}}function Lh(t,n,r,a){switch(ah(n)){case 1:var c=Dm;break;case 4:c=Rm;break;default:c=vl}r=c.bind(null,n,r,t),c=void 0,!cl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Fl(t,n,r,a,c){var h=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var S=a.stateNode.containerInfo;if(S===c||S.nodeType===8&&S.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var E=g.tag;if((E===3||E===4)&&(E=g.stateNode.containerInfo,E===c||E.nodeType===8&&E.parentNode===c))return;g=g.return}for(;S!==null;){if(g=Cs(S),g===null)return;if(E=g.tag,E===5||E===6){a=h=g;continue e}S=S.parentNode}}a=a.return}Bc(function(){var b=h,X=al(r),K=[];e:{var H=Ph.get(t);if(H!==void 0){var ie=Sl,ae=t;switch(t){case"keypress":if(mo(r)===0)break e;case"keydown":case"keyup":ie=$m;break;case"focusin":ae="focus",ie=xl;break;case"focusout":ae="blur",ie=xl;break;case"beforeblur":case"afterblur":ie=xl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Ym;break;case Dh:case Rh:case Ih:ie=Vm;break;case Mh:ie=Zm;break;case"scroll":ie=Im;break;case"wheel":ie=Jm;break;case"copy":case"cut":case"paste":ie=jm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=dh}var ue=(n&4)!==0,et=!ue&&t==="scroll",R=ue?H!==null?H+"Capture":null:H;ue=[];for(var A=b,M;A!==null;){M=A;var J=M.stateNode;if(M.tag===5&&J!==null&&(M=J,R!==null&&(J=Ur(A,R),J!=null&&ue.push(ui(A,J,M)))),et)break;A=A.return}0<ue.length&&(H=new ie(H,ae,null,r,X),K.push({event:H,listeners:ue}))}}if((n&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",H&&r!==ol&&(ae=r.relatedTarget||r.fromElement)&&(Cs(ae)||ae[Rn]))break e;if((ie||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,ie?(ae=r.relatedTarget||r.toElement,ie=b,ae=ae?Cs(ae):null,ae!==null&&(et=xs(ae),ae!==et||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(ie=null,ae=b),ie!==ae)){if(ue=ch,J="onMouseLeave",R="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(ue=dh,J="onPointerLeave",R="onPointerEnter",A="pointer"),et=ie==null?H:ar(ie),M=ae==null?H:ar(ae),H=new ue(J,A+"leave",ie,r,X),H.target=et,H.relatedTarget=M,J=null,Cs(X)===b&&(ue=new ue(R,A+"enter",ae,r,X),ue.target=M,ue.relatedTarget=et,J=ue),et=J,ie&&ae)t:{for(ue=ie,R=ae,A=0,M=ue;M;M=ir(M))A++;for(M=0,J=R;J;J=ir(J))M++;for(;0<A-M;)ue=ir(ue),A--;for(;0<M-A;)R=ir(R),M--;for(;A--;){if(ue===R||R!==null&&ue===R.alternate)break t;ue=ir(ue),R=ir(R)}ue=null}else ue=null;ie!==null&&jh(K,H,ie,ue,!1),ae!==null&&et!==null&&jh(K,et,ae,ue,!0)}}e:{if(H=b?ar(b):window,ie=H.nodeName&&H.nodeName.toLowerCase(),ie==="select"||ie==="input"&&H.type==="file")var ce=og;else if(vh(H))if(wh)ce=cg;else{ce=lg;var pe=ag}else(ie=H.nodeName)&&ie.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(ce=ug);if(ce&&(ce=ce(t,b))){yh(K,ce,r,X);break e}pe&&pe(t,H,b),t==="focusout"&&(pe=H._wrapperState)&&pe.controlled&&H.type==="number"&&Ce(H,"number",H.value)}switch(pe=b?ar(b):window,t){case"focusin":(vh(pe)||pe.contentEditable==="true")&&(sr=pe,Dl=b,oi=null);break;case"focusout":oi=Dl=sr=null;break;case"mousedown":Rl=!0;break;case"contextmenu":case"mouseup":case"dragend":Rl=!1,Ah(K,r,X);break;case"selectionchange":if(fg)break;case"keydown":case"keyup":Ah(K,r,X)}var me;if(El)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else nr?gh(t,r)&&(ye="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ye="onCompositionStart");ye&&(fh&&r.locale!=="ko"&&(nr||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&nr&&(me=lh()):(Jn=X,wl="value"in Jn?Jn.value:Jn.textContent,nr=!0)),pe=ko(b,ye),0<pe.length&&(ye=new hh(ye,t,null,r,X),K.push({event:ye,listeners:pe}),me?ye.data=me:(me=_h(r),me!==null&&(ye.data=me)))),(me=tg?ng(t,r):sg(t,r))&&(b=ko(b,"onBeforeInput"),0<b.length&&(X=new hh("onBeforeInput","beforeinput",null,r,X),K.push({event:X,listeners:b}),X.data=me))}Vh(K,n)})}function ui(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ko(t,n){for(var r=n+"Capture",a=[];t!==null;){var c=t,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=Ur(t,r),h!=null&&a.unshift(ui(t,h,c)),h=Ur(t,n),h!=null&&a.push(ui(t,h,c))),t=t.return}return a}function ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jh(t,n,r,a,c){for(var h=n._reactName,g=[];r!==null&&r!==a;){var S=r,E=S.alternate,b=S.stateNode;if(E!==null&&E===a)break;S.tag===5&&b!==null&&(S=b,c?(E=Ur(r,h),E!=null&&g.unshift(ui(r,E,S))):c||(E=Ur(r,h),E!=null&&g.push(ui(r,E,S)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var _g=/\r\n?/g,vg=/\u0000|\uFFFD/g;function zh(t){return(typeof t=="string"?t:""+t).replace(_g,`
`).replace(vg,"")}function To(t,n,r){if(n=zh(n),zh(t)!==n&&r)throw Error(s(425))}function xo(){}var Vl=null,Ll=null;function jl(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zl=typeof setTimeout=="function"?setTimeout:void 0,yg=typeof clearTimeout=="function"?clearTimeout:void 0,Wh=typeof Promise=="function"?Promise:void 0,wg=typeof queueMicrotask=="function"?queueMicrotask:typeof Wh<"u"?function(t){return Wh.resolve(null).then(t).catch(Sg)}:zl;function Sg(t){setTimeout(function(){throw t})}function Wl(t,n){var r=n,a=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(a===0){t.removeChild(c),Jr(n);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=c}while(r);Jr(n)}function ts(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function qh(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}var or=Math.random().toString(36).slice(2),yn="__reactFiber$"+or,ci="__reactProps$"+or,Rn="__reactContainer$"+or,ql="__reactEvents$"+or,kg="__reactListeners$"+or,Tg="__reactHandles$"+or;function Cs(t){var n=t[yn];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Rn]||r[yn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=qh(t);t!==null;){if(r=t[yn])return r;t=qh(t)}return n}t=r,r=t.parentNode}return null}function hi(t){return t=t[yn]||t[Rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ar(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function Co(t){return t[ci]||null}var Bl=[],lr=-1;function ns(t){return{current:t}}function We(t){0>lr||(t.current=Bl[lr],Bl[lr]=null,lr--)}function Le(t,n){lr++,Bl[lr]=t.current,t.current=n}var ss={},_t=ns(ss),Dt=ns(!1),Es=ss;function ur(t,n){var r=t.type.contextTypes;if(!r)return ss;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in r)c[h]=n[h];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=c),c}function Rt(t){return t=t.childContextTypes,t!=null}function Eo(){We(Dt),We(_t)}function Bh(t,n,r){if(_t.current!==ss)throw Error(s(168));Le(_t,n),Le(Dt,r)}function Uh(t,n,r){var a=t.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(s(108,we(t)||"Unknown",c));return B({},r,a)}function No(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ss,Es=_t.current,Le(_t,t),Le(Dt,Dt.current),!0}function Gh(t,n,r){var a=t.stateNode;if(!a)throw Error(s(169));r?(t=Uh(t,n,Es),a.__reactInternalMemoizedMergedChildContext=t,We(Dt),We(_t),Le(_t,t)):We(Dt),Le(Dt,r)}var In=null,Ao=!1,Ul=!1;function $h(t){In===null?In=[t]:In.push(t)}function xg(t){Ao=!0,$h(t)}function rs(){if(!Ul&&In!==null){Ul=!0;var t=0,n=De;try{var r=In;for(De=1;t<r.length;t++){var a=r[t];do a=a(!0);while(a!==null)}In=null,Ao=!1}catch(c){throw In!==null&&(In=In.slice(t+1)),Qc(dl,rs),c}finally{De=n,Ul=!1}}return null}var cr=[],hr=0,Oo=null,Do=0,Ht=[],Qt=0,Ns=null,Mn=1,Pn="";function As(t,n){cr[hr++]=Do,cr[hr++]=Oo,Oo=t,Do=n}function Hh(t,n,r){Ht[Qt++]=Mn,Ht[Qt++]=Pn,Ht[Qt++]=Ns,Ns=t;var a=Mn;t=Pn;var c=32-tn(a)-1;a&=~(1<<c),r+=1;var h=32-tn(n)+c;if(30<h){var g=c-c%5;h=(a&(1<<g)-1).toString(32),a>>=g,c-=g,Mn=1<<32-tn(n)+c|r<<c|a,Pn=h+t}else Mn=1<<h|r<<c|a,Pn=t}function Gl(t){t.return!==null&&(As(t,1),Hh(t,1,0))}function $l(t){for(;t===Oo;)Oo=cr[--hr],cr[hr]=null,Do=cr[--hr],cr[hr]=null;for(;t===Ns;)Ns=Ht[--Qt],Ht[Qt]=null,Pn=Ht[--Qt],Ht[Qt]=null,Mn=Ht[--Qt],Ht[Qt]=null}var zt=null,Wt=null,Ge=!1,sn=null;function Qh(t,n){var r=Kt(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=t,n=t.deletions,n===null?(t.deletions=[r],t.flags|=16):n.push(r)}function Yh(t,n){switch(t.tag){case 5:var r=t.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,zt=t,Wt=ts(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,zt=t,Wt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=Ns!==null?{id:Mn,overflow:Pn}:null,t.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=Kt(18,null,null,0),r.stateNode=n,r.return=t,t.child=r,zt=t,Wt=null,!0):!1;default:return!1}}function Hl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ql(t){if(Ge){var n=Wt;if(n){var r=n;if(!Yh(t,n)){if(Hl(t))throw Error(s(418));n=ts(r.nextSibling);var a=zt;n&&Yh(t,n)?Qh(a,r):(t.flags=t.flags&-4097|2,Ge=!1,zt=t)}}else{if(Hl(t))throw Error(s(418));t.flags=t.flags&-4097|2,Ge=!1,zt=t}}}function Xh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zt=t}function Ro(t){if(t!==zt)return!1;if(!Ge)return Xh(t),Ge=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!jl(t.type,t.memoizedProps)),n&&(n=Wt)){if(Hl(t))throw Zh(),Error(s(418));for(;n;)Qh(t,n),n=ts(n.nextSibling)}if(Xh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(n===0){Wt=ts(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}t=t.nextSibling}Wt=null}}else Wt=zt?ts(t.stateNode.nextSibling):null;return!0}function Zh(){for(var t=Wt;t;)t=ts(t.nextSibling)}function dr(){Wt=zt=null,Ge=!1}function Yl(t){sn===null?sn=[t]:sn.push(t)}var Cg=z.ReactCurrentBatchConfig;function di(t,n,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var a=r.stateNode}if(!a)throw Error(s(147,t));var c=a,h=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(g){var S=c.refs;g===null?delete S[h]:S[h]=g},n._stringRef=h,n)}if(typeof t!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,t))}return t}function Io(t,n){throw t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Kh(t){var n=t._init;return n(t._payload)}function Jh(t){function n(R,A){if(t){var M=R.deletions;M===null?(R.deletions=[A],R.flags|=16):M.push(A)}}function r(R,A){if(!t)return null;for(;A!==null;)n(R,A),A=A.sibling;return null}function a(R,A){for(R=new Map;A!==null;)A.key!==null?R.set(A.key,A):R.set(A.index,A),A=A.sibling;return R}function c(R,A){return R=ds(R,A),R.index=0,R.sibling=null,R}function h(R,A,M){return R.index=M,t?(M=R.alternate,M!==null?(M=M.index,M<A?(R.flags|=2,A):M):(R.flags|=2,A)):(R.flags|=1048576,A)}function g(R){return t&&R.alternate===null&&(R.flags|=2),R}function S(R,A,M,J){return A===null||A.tag!==6?(A=zu(M,R.mode,J),A.return=R,A):(A=c(A,M),A.return=R,A)}function E(R,A,M,J){var ce=M.type;return ce===P?X(R,A,M.props.children,J,M.key):A!==null&&(A.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===G&&Kh(ce)===A.type)?(J=c(A,M.props),J.ref=di(R,A,M),J.return=R,J):(J=na(M.type,M.key,M.props,null,R.mode,J),J.ref=di(R,A,M),J.return=R,J)}function b(R,A,M,J){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=Wu(M,R.mode,J),A.return=R,A):(A=c(A,M.children||[]),A.return=R,A)}function X(R,A,M,J,ce){return A===null||A.tag!==7?(A=Fs(M,R.mode,J,ce),A.return=R,A):(A=c(A,M),A.return=R,A)}function K(R,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return A=zu(""+A,R.mode,M),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case N:return M=na(A.type,A.key,A.props,null,R.mode,M),M.ref=di(R,null,A),M.return=R,M;case I:return A=Wu(A,R.mode,M),A.return=R,A;case G:var J=A._init;return K(R,J(A._payload),M)}if(Re(A)||$(A))return A=Fs(A,R.mode,M,null),A.return=R,A;Io(R,A)}return null}function H(R,A,M,J){var ce=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ce!==null?null:S(R,A,""+M,J);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case N:return M.key===ce?E(R,A,M,J):null;case I:return M.key===ce?b(R,A,M,J):null;case G:return ce=M._init,H(R,A,ce(M._payload),J)}if(Re(M)||$(M))return ce!==null?null:X(R,A,M,J,null);Io(R,M)}return null}function ie(R,A,M,J,ce){if(typeof J=="string"&&J!==""||typeof J=="number")return R=R.get(M)||null,S(A,R,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case N:return R=R.get(J.key===null?M:J.key)||null,E(A,R,J,ce);case I:return R=R.get(J.key===null?M:J.key)||null,b(A,R,J,ce);case G:var pe=J._init;return ie(R,A,M,pe(J._payload),ce)}if(Re(J)||$(J))return R=R.get(M)||null,X(A,R,J,ce,null);Io(A,J)}return null}function ae(R,A,M,J){for(var ce=null,pe=null,me=A,ye=A=0,dt=null;me!==null&&ye<M.length;ye++){me.index>ye?(dt=me,me=null):dt=me.sibling;var Ne=H(R,me,M[ye],J);if(Ne===null){me===null&&(me=dt);break}t&&me&&Ne.alternate===null&&n(R,me),A=h(Ne,A,ye),pe===null?ce=Ne:pe.sibling=Ne,pe=Ne,me=dt}if(ye===M.length)return r(R,me),Ge&&As(R,ye),ce;if(me===null){for(;ye<M.length;ye++)me=K(R,M[ye],J),me!==null&&(A=h(me,A,ye),pe===null?ce=me:pe.sibling=me,pe=me);return Ge&&As(R,ye),ce}for(me=a(R,me);ye<M.length;ye++)dt=ie(me,R,ye,M[ye],J),dt!==null&&(t&&dt.alternate!==null&&me.delete(dt.key===null?ye:dt.key),A=h(dt,A,ye),pe===null?ce=dt:pe.sibling=dt,pe=dt);return t&&me.forEach(function(fs){return n(R,fs)}),Ge&&As(R,ye),ce}function ue(R,A,M,J){var ce=$(M);if(typeof ce!="function")throw Error(s(150));if(M=ce.call(M),M==null)throw Error(s(151));for(var pe=ce=null,me=A,ye=A=0,dt=null,Ne=M.next();me!==null&&!Ne.done;ye++,Ne=M.next()){me.index>ye?(dt=me,me=null):dt=me.sibling;var fs=H(R,me,Ne.value,J);if(fs===null){me===null&&(me=dt);break}t&&me&&fs.alternate===null&&n(R,me),A=h(fs,A,ye),pe===null?ce=fs:pe.sibling=fs,pe=fs,me=dt}if(Ne.done)return r(R,me),Ge&&As(R,ye),ce;if(me===null){for(;!Ne.done;ye++,Ne=M.next())Ne=K(R,Ne.value,J),Ne!==null&&(A=h(Ne,A,ye),pe===null?ce=Ne:pe.sibling=Ne,pe=Ne);return Ge&&As(R,ye),ce}for(me=a(R,me);!Ne.done;ye++,Ne=M.next())Ne=ie(me,R,ye,Ne.value,J),Ne!==null&&(t&&Ne.alternate!==null&&me.delete(Ne.key===null?ye:Ne.key),A=h(Ne,A,ye),pe===null?ce=Ne:pe.sibling=Ne,pe=Ne);return t&&me.forEach(function(r_){return n(R,r_)}),Ge&&As(R,ye),ce}function et(R,A,M,J){if(typeof M=="object"&&M!==null&&M.type===P&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case N:e:{for(var ce=M.key,pe=A;pe!==null;){if(pe.key===ce){if(ce=M.type,ce===P){if(pe.tag===7){r(R,pe.sibling),A=c(pe,M.props.children),A.return=R,R=A;break e}}else if(pe.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===G&&Kh(ce)===pe.type){r(R,pe.sibling),A=c(pe,M.props),A.ref=di(R,pe,M),A.return=R,R=A;break e}r(R,pe);break}else n(R,pe);pe=pe.sibling}M.type===P?(A=Fs(M.props.children,R.mode,J,M.key),A.return=R,R=A):(J=na(M.type,M.key,M.props,null,R.mode,J),J.ref=di(R,A,M),J.return=R,R=J)}return g(R);case I:e:{for(pe=M.key;A!==null;){if(A.key===pe)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){r(R,A.sibling),A=c(A,M.children||[]),A.return=R,R=A;break e}else{r(R,A);break}else n(R,A);A=A.sibling}A=Wu(M,R.mode,J),A.return=R,R=A}return g(R);case G:return pe=M._init,et(R,A,pe(M._payload),J)}if(Re(M))return ae(R,A,M,J);if($(M))return ue(R,A,M,J);Io(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,A!==null&&A.tag===6?(r(R,A.sibling),A=c(A,M),A.return=R,R=A):(r(R,A),A=zu(M,R.mode,J),A.return=R,R=A),g(R)):r(R,A)}return et}var fr=Jh(!0),ed=Jh(!1),Mo=ns(null),Po=null,pr=null,Xl=null;function Zl(){Xl=pr=Po=null}function Kl(t){var n=Mo.current;We(Mo),t._currentValue=n}function Jl(t,n,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),t===r)break;t=t.return}}function mr(t,n){Po=t,Xl=pr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(It=!0),t.firstContext=null)}function Yt(t){var n=t._currentValue;if(Xl!==t)if(t={context:t,memoizedValue:n,next:null},pr===null){if(Po===null)throw Error(s(308));pr=t,Po.dependencies={lanes:0,firstContext:t}}else pr=pr.next=t;return n}var Os=null;function eu(t){Os===null?Os=[t]:Os.push(t)}function td(t,n,r,a){var c=n.interleaved;return c===null?(r.next=r,eu(n)):(r.next=c.next,c.next=r),n.interleaved=r,bn(t,a)}function bn(t,n){t.lanes|=n;var r=t.alternate;for(r!==null&&(r.lanes|=n),r=t,t=t.return;t!==null;)t.childLanes|=n,r=t.alternate,r!==null&&(r.childLanes|=n),r=t,t=t.return;return r.tag===3?r.stateNode:null}var is=!1;function tu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fn(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function os(t,n,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Ee&2)!==0){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,bn(t,r)}return c=a.interleaved,c===null?(n.next=n,eu(a)):(n.next=c.next,c.next=n),a.interleaved=n,bn(t,r)}function bo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var a=n.lanes;a&=t.pendingLanes,r|=a,n.lanes=r,ml(t,r)}}function sd(t,n){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};h===null?c=h=g:h=h.next=g,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,effects:a.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}function Fo(t,n,r,a){var c=t.updateQueue;is=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var E=S,b=E.next;E.next=null,g===null?h=b:g.next=b,g=E;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==g&&(S===null?X.firstBaseUpdate=b:S.next=b,X.lastBaseUpdate=E))}if(h!==null){var K=c.baseState;g=0,X=b=E=null,S=h;do{var H=S.lane,ie=S.eventTime;if((a&H)===H){X!==null&&(X=X.next={eventTime:ie,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ae=t,ue=S;switch(H=n,ie=r,ue.tag){case 1:if(ae=ue.payload,typeof ae=="function"){K=ae.call(ie,K,H);break e}K=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ue.payload,H=typeof ae=="function"?ae.call(ie,K,H):ae,H==null)break e;K=B({},K,H);break e;case 2:is=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,H=c.effects,H===null?c.effects=[S]:H.push(S))}else ie={eventTime:ie,lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(b=X=ie,E=K):X=X.next=ie,g|=H;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;H=S,S=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);if(X===null&&(E=K),c.baseState=E,c.firstBaseUpdate=b,c.lastBaseUpdate=X,n=c.shared.interleaved,n!==null){c=n;do g|=c.lane,c=c.next;while(c!==n)}else h===null&&(c.shared.lanes=0);Is|=g,t.lanes=g,t.memoizedState=K}}function rd(t,n,r){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var a=t[n],c=a.callback;if(c!==null){if(a.callback=null,a=r,typeof c!="function")throw Error(s(191,c));c.call(a)}}}var fi={},wn=ns(fi),pi=ns(fi),mi=ns(fi);function Ds(t){if(t===fi)throw Error(s(174));return t}function nu(t,n){switch(Le(mi,n),Le(pi,t),Le(wn,fi),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:sl(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=sl(n,t)}We(wn),Le(wn,n)}function gr(){We(wn),We(pi),We(mi)}function id(t){Ds(mi.current);var n=Ds(wn.current),r=sl(n,t.type);n!==r&&(Le(pi,t),Le(wn,r))}function su(t){pi.current===t&&(We(wn),We(pi))}var Qe=ns(0);function Vo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ru=[];function iu(){for(var t=0;t<ru.length;t++)ru[t]._workInProgressVersionPrimary=null;ru.length=0}var Lo=z.ReactCurrentDispatcher,ou=z.ReactCurrentBatchConfig,Rs=0,Ye=null,at=null,ct=null,jo=!1,gi=!1,_i=0,Eg=0;function vt(){throw Error(s(321))}function au(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!nn(t[r],n[r]))return!1;return!0}function lu(t,n,r,a,c,h){if(Rs=h,Ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Lo.current=t===null||t.memoizedState===null?Dg:Rg,t=r(a,c),gi){h=0;do{if(gi=!1,_i=0,25<=h)throw Error(s(301));h+=1,ct=at=null,n.updateQueue=null,Lo.current=Ig,t=r(a,c)}while(gi)}if(Lo.current=qo,n=at!==null&&at.next!==null,Rs=0,ct=at=Ye=null,jo=!1,n)throw Error(s(300));return t}function uu(){var t=_i!==0;return _i=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ye.memoizedState=ct=t:ct=ct.next=t,ct}function Xt(){if(at===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=ct===null?Ye.memoizedState:ct.next;if(n!==null)ct=n,at=t;else{if(t===null)throw Error(s(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ct===null?Ye.memoizedState=ct=t:ct=ct.next=t}return ct}function vi(t,n){return typeof n=="function"?n(t):n}function cu(t){var n=Xt(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var a=at,c=a.baseQueue,h=r.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}a.baseQueue=c=h,r.pending=null}if(c!==null){h=c.next,a=a.baseState;var S=g=null,E=null,b=h;do{var X=b.lane;if((Rs&X)===X)E!==null&&(E=E.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),a=b.hasEagerState?b.eagerState:t(a,b.action);else{var K={lane:X,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};E===null?(S=E=K,g=a):E=E.next=K,Ye.lanes|=X,Is|=X}b=b.next}while(b!==null&&b!==h);E===null?g=a:E.next=S,nn(a,n.memoizedState)||(It=!0),n.memoizedState=a,n.baseState=g,n.baseQueue=E,r.lastRenderedState=a}if(t=r.interleaved,t!==null){c=t;do h=c.lane,Ye.lanes|=h,Is|=h,c=c.next;while(c!==t)}else c===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function hu(t){var n=Xt(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var a=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);nn(h,n.memoizedState)||(It=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,a]}function od(){}function ad(t,n){var r=Ye,a=Xt(),c=n(),h=!nn(a.memoizedState,c);if(h&&(a.memoizedState=c,It=!0),a=a.queue,du(cd.bind(null,r,a,t),[t]),a.getSnapshot!==n||h||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,yi(9,ud.bind(null,r,a,c,n),void 0,null),ht===null)throw Error(s(349));(Rs&30)!==0||ld(r,n,c)}return c}function ld(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ye.updateQueue,n===null?(n={lastEffect:null,stores:null},Ye.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ud(t,n,r,a){n.value=r,n.getSnapshot=a,hd(n)&&dd(t)}function cd(t,n,r){return r(function(){hd(n)&&dd(t)})}function hd(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!nn(t,r)}catch{return!0}}function dd(t){var n=bn(t,1);n!==null&&ln(n,t,1,-1)}function fd(t){var n=Sn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},n.queue=t,t=t.dispatch=Og.bind(null,Ye,t),[n.memoizedState,t]}function yi(t,n,r,a){return t={tag:t,create:n,destroy:r,deps:a,next:null},n=Ye.updateQueue,n===null?(n={lastEffect:null,stores:null},Ye.updateQueue=n,n.lastEffect=t.next=t):(r=n.lastEffect,r===null?n.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,n.lastEffect=t)),t}function pd(){return Xt().memoizedState}function zo(t,n,r,a){var c=Sn();Ye.flags|=t,c.memoizedState=yi(1|n,r,void 0,a===void 0?null:a)}function Wo(t,n,r,a){var c=Xt();a=a===void 0?null:a;var h=void 0;if(at!==null){var g=at.memoizedState;if(h=g.destroy,a!==null&&au(a,g.deps)){c.memoizedState=yi(n,r,h,a);return}}Ye.flags|=t,c.memoizedState=yi(1|n,r,h,a)}function md(t,n){return zo(8390656,8,t,n)}function du(t,n){return Wo(2048,8,t,n)}function gd(t,n){return Wo(4,2,t,n)}function _d(t,n){return Wo(4,4,t,n)}function vd(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function yd(t,n,r){return r=r!=null?r.concat([t]):null,Wo(4,4,vd.bind(null,n,t),r)}function fu(){}function wd(t,n){var r=Xt();n=n===void 0?null:n;var a=r.memoizedState;return a!==null&&n!==null&&au(n,a[1])?a[0]:(r.memoizedState=[t,n],t)}function Sd(t,n){var r=Xt();n=n===void 0?null:n;var a=r.memoizedState;return a!==null&&n!==null&&au(n,a[1])?a[0]:(t=t(),r.memoizedState=[t,n],t)}function kd(t,n,r){return(Rs&21)===0?(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=r):(nn(r,n)||(r=Kc(),Ye.lanes|=r,Is|=r,t.baseState=!0),n)}function Ng(t,n){var r=De;De=r!==0&&4>r?r:4,t(!0);var a=ou.transition;ou.transition={};try{t(!1),n()}finally{De=r,ou.transition=a}}function Td(){return Xt().memoizedState}function Ag(t,n,r){var a=cs(t);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},xd(t))Cd(n,r);else if(r=td(t,n,r,a),r!==null){var c=Et();ln(r,t,a,c),Ed(r,n,a)}}function Og(t,n,r){var a=cs(t),c={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(xd(t))Cd(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,S=h(g,r);if(c.hasEagerState=!0,c.eagerState=S,nn(S,g)){var E=n.interleaved;E===null?(c.next=c,eu(n)):(c.next=E.next,E.next=c),n.interleaved=c;return}}catch{}finally{}r=td(t,n,c,a),r!==null&&(c=Et(),ln(r,t,a,c),Ed(r,n,a))}}function xd(t){var n=t.alternate;return t===Ye||n!==null&&n===Ye}function Cd(t,n){gi=jo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Ed(t,n,r){if((r&4194240)!==0){var a=n.lanes;a&=t.pendingLanes,r|=a,n.lanes=r,ml(t,r)}}var qo={readContext:Yt,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},Dg={readContext:Yt,useCallback:function(t,n){return Sn().memoizedState=[t,n===void 0?null:n],t},useContext:Yt,useEffect:md,useImperativeHandle:function(t,n,r){return r=r!=null?r.concat([t]):null,zo(4194308,4,vd.bind(null,n,t),r)},useLayoutEffect:function(t,n){return zo(4194308,4,t,n)},useInsertionEffect:function(t,n){return zo(4,2,t,n)},useMemo:function(t,n){var r=Sn();return n=n===void 0?null:n,t=t(),r.memoizedState=[t,n],t},useReducer:function(t,n,r){var a=Sn();return n=r!==void 0?r(n):n,a.memoizedState=a.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},a.queue=t,t=t.dispatch=Ag.bind(null,Ye,t),[a.memoizedState,t]},useRef:function(t){var n=Sn();return t={current:t},n.memoizedState=t},useState:fd,useDebugValue:fu,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=fd(!1),n=t[0];return t=Ng.bind(null,t[1]),Sn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,r){var a=Ye,c=Sn();if(Ge){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),ht===null)throw Error(s(349));(Rs&30)!==0||ld(a,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,md(cd.bind(null,a,h,t),[t]),a.flags|=2048,yi(9,ud.bind(null,a,h,r,n),void 0,null),r},useId:function(){var t=Sn(),n=ht.identifierPrefix;if(Ge){var r=Pn,a=Mn;r=(a&~(1<<32-tn(a)-1)).toString(32)+r,n=":"+n+"R"+r,r=_i++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Eg++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Rg={readContext:Yt,useCallback:wd,useContext:Yt,useEffect:du,useImperativeHandle:yd,useInsertionEffect:gd,useLayoutEffect:_d,useMemo:Sd,useReducer:cu,useRef:pd,useState:function(){return cu(vi)},useDebugValue:fu,useDeferredValue:function(t){var n=Xt();return kd(n,at.memoizedState,t)},useTransition:function(){var t=cu(vi)[0],n=Xt().memoizedState;return[t,n]},useMutableSource:od,useSyncExternalStore:ad,useId:Td,unstable_isNewReconciler:!1},Ig={readContext:Yt,useCallback:wd,useContext:Yt,useEffect:du,useImperativeHandle:yd,useInsertionEffect:gd,useLayoutEffect:_d,useMemo:Sd,useReducer:hu,useRef:pd,useState:function(){return hu(vi)},useDebugValue:fu,useDeferredValue:function(t){var n=Xt();return at===null?n.memoizedState=t:kd(n,at.memoizedState,t)},useTransition:function(){var t=hu(vi)[0],n=Xt().memoizedState;return[t,n]},useMutableSource:od,useSyncExternalStore:ad,useId:Td,unstable_isNewReconciler:!1};function rn(t,n){if(t&&t.defaultProps){n=B({},n),t=t.defaultProps;for(var r in t)n[r]===void 0&&(n[r]=t[r]);return n}return n}function pu(t,n,r,a){n=t.memoizedState,r=r(a,n),r=r==null?n:B({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Bo={isMounted:function(t){return(t=t._reactInternals)?xs(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var a=Et(),c=cs(t),h=Fn(a,c);h.payload=n,r!=null&&(h.callback=r),n=os(t,h,c),n!==null&&(ln(n,t,c,a),bo(n,t,c))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var a=Et(),c=cs(t),h=Fn(a,c);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=os(t,h,c),n!==null&&(ln(n,t,c,a),bo(n,t,c))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Et(),a=cs(t),c=Fn(r,a);c.tag=2,n!=null&&(c.callback=n),n=os(t,c,a),n!==null&&(ln(n,t,a,r),bo(n,t,a))}};function Nd(t,n,r,a,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,h,g):n.prototype&&n.prototype.isPureReactComponent?!ii(r,a)||!ii(c,h):!0}function Ad(t,n,r){var a=!1,c=ss,h=n.contextType;return typeof h=="object"&&h!==null?h=Yt(h):(c=Rt(n)?Es:_t.current,a=n.contextTypes,h=(a=a!=null)?ur(t,c):ss),n=new n(r,h),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Bo,t.stateNode=n,n._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=h),n}function Od(t,n,r,a){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,a),n.state!==t&&Bo.enqueueReplaceState(n,n.state,null)}function mu(t,n,r,a){var c=t.stateNode;c.props=r,c.state=t.memoizedState,c.refs={},tu(t);var h=n.contextType;typeof h=="object"&&h!==null?c.context=Yt(h):(h=Rt(n)?Es:_t.current,c.context=ur(t,h)),c.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(pu(t,n,h,r),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&Bo.enqueueReplaceState(c,c.state,null),Fo(t,r,c,a),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function _r(t,n){try{var r="",a=n;do r+=se(a),a=a.return;while(a);var c=r}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:t,source:n,stack:c,digest:null}}function gu(t,n,r){return{value:t,source:null,stack:r??null,digest:n??null}}function _u(t,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var Mg=typeof WeakMap=="function"?WeakMap:Map;function Dd(t,n,r){r=Fn(-1,r),r.tag=3,r.payload={element:null};var a=n.value;return r.callback=function(){Xo||(Xo=!0,Iu=a),_u(t,n)},r}function Rd(t,n,r){r=Fn(-1,r),r.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;r.payload=function(){return a(c)},r.callback=function(){_u(t,n)}}var h=t.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(r.callback=function(){_u(t,n),typeof a!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),r}function Id(t,n,r){var a=t.pingCache;if(a===null){a=t.pingCache=new Mg;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(r)||(c.add(r),t=Hg.bind(null,t,n,r),n.then(t,t))}function Md(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Pd(t,n,r,a,c){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=Fn(-1,1),n.tag=2,os(r,n,1))),r.lanes|=1),t):(t.flags|=65536,t.lanes=c,t)}var Pg=z.ReactCurrentOwner,It=!1;function Ct(t,n,r,a){n.child=t===null?ed(n,null,r,a):fr(n,t.child,r,a)}function bd(t,n,r,a,c){r=r.render;var h=n.ref;return mr(n,c),a=lu(t,n,r,a,h,c),r=uu(),t!==null&&!It?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~c,Vn(t,n,c)):(Ge&&r&&Gl(n),n.flags|=1,Ct(t,n,a,c),n.child)}function Fd(t,n,r,a,c){if(t===null){var h=r.type;return typeof h=="function"&&!ju(h)&&h.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=h,Vd(t,n,h,a,c)):(t=na(r.type,null,a,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,(t.lanes&c)===0){var g=h.memoizedProps;if(r=r.compare,r=r!==null?r:ii,r(g,a)&&t.ref===n.ref)return Vn(t,n,c)}return n.flags|=1,t=ds(h,a),t.ref=n.ref,t.return=n,n.child=t}function Vd(t,n,r,a,c){if(t!==null){var h=t.memoizedProps;if(ii(h,a)&&t.ref===n.ref)if(It=!1,n.pendingProps=a=h,(t.lanes&c)!==0)(t.flags&131072)!==0&&(It=!0);else return n.lanes=t.lanes,Vn(t,n,c)}return vu(t,n,r,a,c)}function Ld(t,n,r){var a=n.pendingProps,c=a.children,h=t!==null?t.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(yr,qt),qt|=r;else{if((r&1073741824)===0)return t=h!==null?h.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Le(yr,qt),qt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:r,Le(yr,qt),qt|=a}else h!==null?(a=h.baseLanes|r,n.memoizedState=null):a=r,Le(yr,qt),qt|=a;return Ct(t,n,c,r),n.child}function jd(t,n){var r=n.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function vu(t,n,r,a,c){var h=Rt(r)?Es:_t.current;return h=ur(n,h),mr(n,c),r=lu(t,n,r,a,h,c),a=uu(),t!==null&&!It?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~c,Vn(t,n,c)):(Ge&&a&&Gl(n),n.flags|=1,Ct(t,n,r,c),n.child)}function zd(t,n,r,a,c){if(Rt(r)){var h=!0;No(n)}else h=!1;if(mr(n,c),n.stateNode===null)Go(t,n),Ad(n,r,a),mu(n,r,a,c),a=!0;else if(t===null){var g=n.stateNode,S=n.memoizedProps;g.props=S;var E=g.context,b=r.contextType;typeof b=="object"&&b!==null?b=Yt(b):(b=Rt(r)?Es:_t.current,b=ur(n,b));var X=r.getDerivedStateFromProps,K=typeof X=="function"||typeof g.getSnapshotBeforeUpdate=="function";K||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==a||E!==b)&&Od(n,g,a,b),is=!1;var H=n.memoizedState;g.state=H,Fo(n,a,g,c),E=n.memoizedState,S!==a||H!==E||Dt.current||is?(typeof X=="function"&&(pu(n,r,X,a),E=n.memoizedState),(S=is||Nd(n,r,S,a,H,E,b))?(K||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=E),g.props=a,g.state=E,g.context=b,a=S):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{g=n.stateNode,nd(t,n),S=n.memoizedProps,b=n.type===n.elementType?S:rn(n.type,S),g.props=b,K=n.pendingProps,H=g.context,E=r.contextType,typeof E=="object"&&E!==null?E=Yt(E):(E=Rt(r)?Es:_t.current,E=ur(n,E));var ie=r.getDerivedStateFromProps;(X=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==K||H!==E)&&Od(n,g,a,E),is=!1,H=n.memoizedState,g.state=H,Fo(n,a,g,c);var ae=n.memoizedState;S!==K||H!==ae||Dt.current||is?(typeof ie=="function"&&(pu(n,r,ie,a),ae=n.memoizedState),(b=is||Nd(n,r,b,a,H,ae,E)||!1)?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,ae,E),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,ae,E)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=ae),g.props=a,g.state=ae,g.context=E,a=b):(typeof g.componentDidUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),a=!1)}return yu(t,n,r,a,h,c)}function yu(t,n,r,a,c,h){jd(t,n);var g=(n.flags&128)!==0;if(!a&&!g)return c&&Gh(n,r,!1),Vn(t,n,h);a=n.stateNode,Pg.current=n;var S=g&&typeof r.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,t!==null&&g?(n.child=fr(n,t.child,null,h),n.child=fr(n,null,S,h)):Ct(t,n,S,h),n.memoizedState=a.state,c&&Gh(n,r,!0),n.child}function Wd(t){var n=t.stateNode;n.pendingContext?Bh(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Bh(t,n.context,!1),nu(t,n.containerInfo)}function qd(t,n,r,a,c){return dr(),Yl(c),n.flags|=256,Ct(t,n,r,a),n.child}var wu={dehydrated:null,treeContext:null,retryLane:0};function Su(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bd(t,n,r){var a=n.pendingProps,c=Qe.current,h=!1,g=(n.flags&128)!==0,S;if((S=g)||(S=t!==null&&t.memoizedState===null?!1:(c&2)!==0),S?(h=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),Le(Qe,c&1),t===null)return Ql(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(g=a.children,t=a.fallback,h?(a=n.mode,h=n.child,g={mode:"hidden",children:g},(a&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=g):h=sa(g,a,0,null),t=Fs(t,a,r,null),h.return=n,t.return=n,h.sibling=t,n.child=h,n.child.memoizedState=Su(r),n.memoizedState=wu,t):ku(n,g));if(c=t.memoizedState,c!==null&&(S=c.dehydrated,S!==null))return bg(t,n,g,a,S,c,r);if(h){h=a.fallback,g=n.mode,c=t.child,S=c.sibling;var E={mode:"hidden",children:a.children};return(g&1)===0&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=E,n.deletions=null):(a=ds(c,E),a.subtreeFlags=c.subtreeFlags&14680064),S!==null?h=ds(S,h):(h=Fs(h,g,r,null),h.flags|=2),h.return=n,a.return=n,a.sibling=h,n.child=a,a=h,h=n.child,g=t.child.memoizedState,g=g===null?Su(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=t.childLanes&~r,n.memoizedState=wu,a}return h=t.child,t=h.sibling,a=ds(h,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=r),a.return=n,a.sibling=null,t!==null&&(r=n.deletions,r===null?(n.deletions=[t],n.flags|=16):r.push(t)),n.child=a,n.memoizedState=null,a}function ku(t,n){return n=sa({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Uo(t,n,r,a){return a!==null&&Yl(a),fr(n,t.child,null,r),t=ku(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function bg(t,n,r,a,c,h,g){if(r)return n.flags&256?(n.flags&=-257,a=gu(Error(s(422))),Uo(t,n,g,a)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(h=a.fallback,c=n.mode,a=sa({mode:"visible",children:a.children},c,0,null),h=Fs(h,c,g,null),h.flags|=2,a.return=n,h.return=n,a.sibling=h,n.child=a,(n.mode&1)!==0&&fr(n,t.child,null,g),n.child.memoizedState=Su(g),n.memoizedState=wu,h);if((n.mode&1)===0)return Uo(t,n,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var S=a.dgst;return a=S,h=Error(s(419)),a=gu(h,a,void 0),Uo(t,n,g,a)}if(S=(g&t.childLanes)!==0,It||S){if(a=ht,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|g))!==0?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,bn(t,c),ln(a,t,c,-1))}return Lu(),a=gu(Error(s(421))),Uo(t,n,g,a)}return c.data==="$?"?(n.flags|=128,n.child=t.child,n=Qg.bind(null,t),c._reactRetry=n,null):(t=h.treeContext,Wt=ts(c.nextSibling),zt=n,Ge=!0,sn=null,t!==null&&(Ht[Qt++]=Mn,Ht[Qt++]=Pn,Ht[Qt++]=Ns,Mn=t.id,Pn=t.overflow,Ns=n),n=ku(n,a.children),n.flags|=4096,n)}function Ud(t,n,r){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n),Jl(t.return,n,r)}function Tu(t,n,r,a,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=r,h.tailMode=c)}function Gd(t,n,r){var a=n.pendingProps,c=a.revealOrder,h=a.tail;if(Ct(t,n,a.children,r),a=Qe.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ud(t,r,n);else if(t.tag===19)Ud(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Le(Qe,a),(n.mode&1)===0)n.memoizedState=null;else switch(c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Vo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Tu(n,!1,c,r,h);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Vo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Tu(n,!0,r,null,h);break;case"together":Tu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Go(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Vn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Is|=n.lanes,(r&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=ds(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ds(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Fg(t,n,r){switch(n.tag){case 3:Wd(n),dr();break;case 5:id(n);break;case 1:Rt(n.type)&&No(n);break;case 4:nu(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;Le(Mo,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Le(Qe,Qe.current&1),n.flags|=128,null):(r&n.child.childLanes)!==0?Bd(t,n,r):(Le(Qe,Qe.current&1),t=Vn(t,n,r),t!==null?t.sibling:null);Le(Qe,Qe.current&1);break;case 19:if(a=(r&n.childLanes)!==0,(t.flags&128)!==0){if(a)return Gd(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Le(Qe,Qe.current),a)break;return null;case 22:case 23:return n.lanes=0,Ld(t,n,r)}return Vn(t,n,r)}var $d,xu,Hd,Qd;$d=function(t,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},xu=function(){},Hd=function(t,n,r,a){var c=t.memoizedProps;if(c!==a){t=n.stateNode,Ds(wn.current);var h=null;switch(r){case"input":c=Wr(t,c),a=Wr(t,a),h=[];break;case"select":c=B({},c,{value:void 0}),a=B({},a,{value:void 0}),h=[];break;case"textarea":c=$t(t,c),a=$t(t,a),h=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=xo)}rl(r,a);var g;r=null;for(b in c)if(!a.hasOwnProperty(b)&&c.hasOwnProperty(b)&&c[b]!=null)if(b==="style"){var S=c[b];for(g in S)S.hasOwnProperty(g)&&(r||(r={}),r[g]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(l.hasOwnProperty(b)?h||(h=[]):(h=h||[]).push(b,null));for(b in a){var E=a[b];if(S=c!=null?c[b]:void 0,a.hasOwnProperty(b)&&E!==S&&(E!=null||S!=null))if(b==="style")if(S){for(g in S)!S.hasOwnProperty(g)||E&&E.hasOwnProperty(g)||(r||(r={}),r[g]="");for(g in E)E.hasOwnProperty(g)&&S[g]!==E[g]&&(r||(r={}),r[g]=E[g])}else r||(h||(h=[]),h.push(b,r)),r=E;else b==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,S=S?S.__html:void 0,E!=null&&S!==E&&(h=h||[]).push(b,E)):b==="children"?typeof E!="string"&&typeof E!="number"||(h=h||[]).push(b,""+E):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(l.hasOwnProperty(b)?(E!=null&&b==="onScroll"&&ze("scroll",t),h||S===E||(h=[])):(h=h||[]).push(b,E))}r&&(h=h||[]).push("style",r);var b=h;(n.updateQueue=b)&&(n.flags|=4)}},Qd=function(t,n,r,a){r!==a&&(n.flags|=4)};function wi(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=r,n}function Vg(t,n,r){var a=n.pendingProps;switch($l(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return Rt(n.type)&&Eo(),yt(n),null;case 3:return a=n.stateNode,gr(),We(Dt),We(_t),iu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ro(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sn!==null&&(bu(sn),sn=null))),xu(t,n),yt(n),null;case 5:su(n);var c=Ds(mi.current);if(r=n.type,t!==null&&n.stateNode!=null)Hd(t,n,r,a,c),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(s(166));return yt(n),null}if(t=Ds(wn.current),Ro(n)){a=n.stateNode,r=n.type;var h=n.memoizedProps;switch(a[yn]=n,a[ci]=h,t=(n.mode&1)!==0,r){case"dialog":ze("cancel",a),ze("close",a);break;case"iframe":case"object":case"embed":ze("load",a);break;case"video":case"audio":for(c=0;c<ai.length;c++)ze(ai[c],a);break;case"source":ze("error",a);break;case"img":case"image":case"link":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"input":re(a,h),ze("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},ze("invalid",a);break;case"textarea":Qn(a,h),ze("invalid",a)}rl(r,h),c=null;for(var g in h)if(h.hasOwnProperty(g)){var S=h[g];g==="children"?typeof S=="string"?a.textContent!==S&&(h.suppressHydrationWarning!==!0&&To(a.textContent,S,t),c=["children",S]):typeof S=="number"&&a.textContent!==""+S&&(h.suppressHydrationWarning!==!0&&To(a.textContent,S,t),c=["children",""+S]):l.hasOwnProperty(g)&&S!=null&&g==="onScroll"&&ze("scroll",a)}switch(r){case"input":Lt(a),Ve(a,h,!0);break;case"textarea":Lt(a),Ji(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=xo)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eo(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=g.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=g.createElement(r,{is:a.is}):(t=g.createElement(r),r==="select"&&(g=t,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):t=g.createElementNS(t,r),t[yn]=n,t[ci]=a,$d(t,n,!1,!1),n.stateNode=t;e:{switch(g=il(r,a),r){case"dialog":ze("cancel",t),ze("close",t),c=a;break;case"iframe":case"object":case"embed":ze("load",t),c=a;break;case"video":case"audio":for(c=0;c<ai.length;c++)ze(ai[c],t);c=a;break;case"source":ze("error",t),c=a;break;case"img":case"image":case"link":ze("error",t),ze("load",t),c=a;break;case"details":ze("toggle",t),c=a;break;case"input":re(t,a),c=Wr(t,a),ze("invalid",t);break;case"option":c=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},c=B({},a,{value:void 0}),ze("invalid",t);break;case"textarea":Qn(t,a),c=$t(t,a),ze("invalid",t);break;default:c=a}rl(r,c),S=c;for(h in S)if(S.hasOwnProperty(h)){var E=S[h];h==="style"?Vc(t,E):h==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&bc(t,E)):h==="children"?typeof E=="string"?(r!=="textarea"||E!=="")&&qr(t,E):typeof E=="number"&&qr(t,""+E):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?E!=null&&h==="onScroll"&&ze("scroll",t):E!=null&&L(t,h,E,g))}switch(r){case"input":Lt(t),Ve(t,a,!1);break;case"textarea":Lt(t),Ji(t);break;case"option":a.value!=null&&t.setAttribute("value",""+ee(a.value));break;case"select":t.multiple=!!a.multiple,h=a.value,h!=null?ot(t,!!a.multiple,h,!1):a.defaultValue!=null&&ot(t,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=xo)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return yt(n),null;case 6:if(t&&n.stateNode!=null)Qd(t,n,t.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(s(166));if(r=Ds(mi.current),Ds(wn.current),Ro(n)){if(a=n.stateNode,r=n.memoizedProps,a[yn]=n,(h=a.nodeValue!==r)&&(t=zt,t!==null))switch(t.tag){case 3:To(a.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&To(a.nodeValue,r,(t.mode&1)!==0)}h&&(n.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[yn]=n,n.stateNode=a}return yt(n),null;case 13:if(We(Qe),a=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Wt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Zh(),dr(),n.flags|=98560,h=!1;else if(h=Ro(n),a!==null&&a.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[yn]=n}else dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else sn!==null&&(bu(sn),sn=null),h=!0;if(!h)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=r,n):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Qe.current&1)!==0?lt===0&&(lt=3):Lu())),n.updateQueue!==null&&(n.flags|=4),yt(n),null);case 4:return gr(),xu(t,n),t===null&&li(n.stateNode.containerInfo),yt(n),null;case 10:return Kl(n.type._context),yt(n),null;case 17:return Rt(n.type)&&Eo(),yt(n),null;case 19:if(We(Qe),h=n.memoizedState,h===null)return yt(n),null;if(a=(n.flags&128)!==0,g=h.rendering,g===null)if(a)wi(h,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(g=Vo(t),g!==null){for(n.flags|=128,wi(h,!1),a=g.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=r,r=n.child;r!==null;)h=r,t=a,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=t,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,t=g.dependencies,h.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Le(Qe,Qe.current&1|2),n.child}t=t.sibling}h.tail!==null&&Je()>wr&&(n.flags|=128,a=!0,wi(h,!1),n.lanes=4194304)}else{if(!a)if(t=Vo(g),t!==null){if(n.flags|=128,a=!0,r=t.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),wi(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Ge)return yt(n),null}else 2*Je()-h.renderingStartTime>wr&&r!==1073741824&&(n.flags|=128,a=!0,wi(h,!1),n.lanes=4194304);h.isBackwards?(g.sibling=n.child,n.child=g):(r=h.last,r!==null?r.sibling=g:n.child=g,h.last=g)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Je(),n.sibling=null,r=Qe.current,Le(Qe,a?r&1|2:r&1),n):(yt(n),null);case 22:case 23:return Vu(),a=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(qt&1073741824)!==0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function Lg(t,n){switch($l(n),n.tag){case 1:return Rt(n.type)&&Eo(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return gr(),We(Dt),We(_t),iu(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return su(n),null;case 13:if(We(Qe),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));dr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return We(Qe),null;case 4:return gr(),null;case 10:return Kl(n.type._context),null;case 22:case 23:return Vu(),null;case 24:return null;default:return null}}var $o=!1,wt=!1,jg=typeof WeakSet=="function"?WeakSet:Set,oe=null;function vr(t,n){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Xe(t,n,a)}else r.current=null}function Cu(t,n,r){try{r()}catch(a){Xe(t,n,a)}}var Yd=!1;function zg(t,n){if(Vl=ho,t=Nh(),Ol(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var g=0,S=-1,E=-1,b=0,X=0,K=t,H=null;t:for(;;){for(var ie;K!==r||c!==0&&K.nodeType!==3||(S=g+c),K!==h||a!==0&&K.nodeType!==3||(E=g+a),K.nodeType===3&&(g+=K.nodeValue.length),(ie=K.firstChild)!==null;)H=K,K=ie;for(;;){if(K===t)break t;if(H===r&&++b===c&&(S=g),H===h&&++X===a&&(E=g),(ie=K.nextSibling)!==null)break;K=H,H=K.parentNode}K=ie}r=S===-1||E===-1?null:{start:S,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ll={focusedElem:t,selectionRange:r},ho=!1,oe=n;oe!==null;)if(n=oe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,oe=t;else for(;oe!==null;){n=oe;try{var ae=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var ue=ae.memoizedProps,et=ae.memoizedState,R=n.stateNode,A=R.getSnapshotBeforeUpdate(n.elementType===n.type?ue:rn(n.type,ue),et);R.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var M=n.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(J){Xe(n,n.return,J)}if(t=n.sibling,t!==null){t.return=n.return,oe=t;break}oe=n.return}return ae=Yd,Yd=!1,ae}function Si(t,n,r){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&t)===t){var h=c.destroy;c.destroy=void 0,h!==void 0&&Cu(n,r,h)}c=c.next}while(c!==a)}}function Ho(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&t)===t){var a=r.create;r.destroy=a()}r=r.next}while(r!==n)}}function Eu(t){var n=t.ref;if(n!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof n=="function"?n(t):n.current=t}}function Xd(t){var n=t.alternate;n!==null&&(t.alternate=null,Xd(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[yn],delete n[ci],delete n[ql],delete n[kg],delete n[Tg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zd(t){return t.tag===5||t.tag===3||t.tag===4}function Kd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nu(t,n,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=xo));else if(a!==4&&(t=t.child,t!==null))for(Nu(t,n,r),t=t.sibling;t!==null;)Nu(t,n,r),t=t.sibling}function Au(t,n,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Au(t,n,r),t=t.sibling;t!==null;)Au(t,n,r),t=t.sibling}var pt=null,on=!1;function as(t,n,r){for(r=r.child;r!==null;)Jd(t,n,r),r=r.sibling}function Jd(t,n,r){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(io,r)}catch{}switch(r.tag){case 5:wt||vr(r,n);case 6:var a=pt,c=on;pt=null,as(t,n,r),pt=a,on=c,pt!==null&&(on?(t=pt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):pt.removeChild(r.stateNode));break;case 18:pt!==null&&(on?(t=pt,r=r.stateNode,t.nodeType===8?Wl(t.parentNode,r):t.nodeType===1&&Wl(t,r),Jr(t)):Wl(pt,r.stateNode));break;case 4:a=pt,c=on,pt=r.stateNode.containerInfo,on=!0,as(t,n,r),pt=a,on=c;break;case 0:case 11:case 14:case 15:if(!wt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var h=c,g=h.destroy;h=h.tag,g!==void 0&&((h&2)!==0||(h&4)!==0)&&Cu(r,n,g),c=c.next}while(c!==a)}as(t,n,r);break;case 1:if(!wt&&(vr(r,n),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(S){Xe(r,n,S)}as(t,n,r);break;case 21:as(t,n,r);break;case 22:r.mode&1?(wt=(a=wt)||r.memoizedState!==null,as(t,n,r),wt=a):as(t,n,r);break;default:as(t,n,r)}}function ef(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new jg),n.forEach(function(a){var c=Yg.bind(null,t,a);r.has(a)||(r.add(a),a.then(c,c))})}}function an(t,n){var r=n.deletions;if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];try{var h=t,g=n,S=g;e:for(;S!==null;){switch(S.tag){case 5:pt=S.stateNode,on=!1;break e;case 3:pt=S.stateNode.containerInfo,on=!0;break e;case 4:pt=S.stateNode.containerInfo,on=!0;break e}S=S.return}if(pt===null)throw Error(s(160));Jd(h,g,c),pt=null,on=!1;var E=c.alternate;E!==null&&(E.return=null),c.return=null}catch(b){Xe(c,n,b)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)tf(n,t),n=n.sibling}function tf(t,n){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(an(n,t),kn(t),a&4){try{Si(3,t,t.return),Ho(3,t)}catch(ue){Xe(t,t.return,ue)}try{Si(5,t,t.return)}catch(ue){Xe(t,t.return,ue)}}break;case 1:an(n,t),kn(t),a&512&&r!==null&&vr(r,r.return);break;case 5:if(an(n,t),kn(t),a&512&&r!==null&&vr(r,r.return),t.flags&32){var c=t.stateNode;try{qr(c,"")}catch(ue){Xe(t,t.return,ue)}}if(a&4&&(c=t.stateNode,c!=null)){var h=t.memoizedProps,g=r!==null?r.memoizedProps:h,S=t.type,E=t.updateQueue;if(t.updateQueue=null,E!==null)try{S==="input"&&h.type==="radio"&&h.name!=null&&ge(c,h),il(S,g);var b=il(S,h);for(g=0;g<E.length;g+=2){var X=E[g],K=E[g+1];X==="style"?Vc(c,K):X==="dangerouslySetInnerHTML"?bc(c,K):X==="children"?qr(c,K):L(c,X,K,b)}switch(S){case"input":He(c,h);break;case"textarea":Zs(c,h);break;case"select":var H=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var ie=h.value;ie!=null?ot(c,!!h.multiple,ie,!1):H!==!!h.multiple&&(h.defaultValue!=null?ot(c,!!h.multiple,h.defaultValue,!0):ot(c,!!h.multiple,h.multiple?[]:"",!1))}c[ci]=h}catch(ue){Xe(t,t.return,ue)}}break;case 6:if(an(n,t),kn(t),a&4){if(t.stateNode===null)throw Error(s(162));c=t.stateNode,h=t.memoizedProps;try{c.nodeValue=h}catch(ue){Xe(t,t.return,ue)}}break;case 3:if(an(n,t),kn(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Jr(n.containerInfo)}catch(ue){Xe(t,t.return,ue)}break;case 4:an(n,t),kn(t);break;case 13:an(n,t),kn(t),c=t.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(Ru=Je())),a&4&&ef(t);break;case 22:if(X=r!==null&&r.memoizedState!==null,t.mode&1?(wt=(b=wt)||X,an(n,t),wt=b):an(n,t),kn(t),a&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!X&&(t.mode&1)!==0)for(oe=t,X=t.child;X!==null;){for(K=oe=X;oe!==null;){switch(H=oe,ie=H.child,H.tag){case 0:case 11:case 14:case 15:Si(4,H,H.return);break;case 1:vr(H,H.return);var ae=H.stateNode;if(typeof ae.componentWillUnmount=="function"){a=H,r=H.return;try{n=a,ae.props=n.memoizedProps,ae.state=n.memoizedState,ae.componentWillUnmount()}catch(ue){Xe(a,r,ue)}}break;case 5:vr(H,H.return);break;case 22:if(H.memoizedState!==null){rf(K);continue}}ie!==null?(ie.return=H,oe=ie):rf(K)}X=X.sibling}e:for(X=null,K=t;;){if(K.tag===5){if(X===null){X=K;try{c=K.stateNode,b?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(S=K.stateNode,E=K.memoizedProps.style,g=E!=null&&E.hasOwnProperty("display")?E.display:null,S.style.display=Fc("display",g))}catch(ue){Xe(t,t.return,ue)}}}else if(K.tag===6){if(X===null)try{K.stateNode.nodeValue=b?"":K.memoizedProps}catch(ue){Xe(t,t.return,ue)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===t)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===t)break e;for(;K.sibling===null;){if(K.return===null||K.return===t)break e;X===K&&(X=null),K=K.return}X===K&&(X=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:an(n,t),kn(t),a&4&&ef(t);break;case 21:break;default:an(n,t),kn(t)}}function kn(t){var n=t.flags;if(n&2){try{e:{for(var r=t.return;r!==null;){if(Zd(r)){var a=r;break e}r=r.return}throw Error(s(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(qr(c,""),a.flags&=-33);var h=Kd(t);Au(t,h,c);break;case 3:case 4:var g=a.stateNode.containerInfo,S=Kd(t);Nu(t,S,g);break;default:throw Error(s(161))}}catch(E){Xe(t,t.return,E)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Wg(t,n,r){oe=t,nf(t)}function nf(t,n,r){for(var a=(t.mode&1)!==0;oe!==null;){var c=oe,h=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||$o;if(!g){var S=c.alternate,E=S!==null&&S.memoizedState!==null||wt;S=$o;var b=wt;if($o=g,(wt=E)&&!b)for(oe=c;oe!==null;)g=oe,E=g.child,g.tag===22&&g.memoizedState!==null?of(c):E!==null?(E.return=g,oe=E):of(c);for(;h!==null;)oe=h,nf(h),h=h.sibling;oe=c,$o=S,wt=b}sf(t)}else(c.subtreeFlags&8772)!==0&&h!==null?(h.return=c,oe=h):sf(t)}}function sf(t){for(;oe!==null;){var n=oe;if((n.flags&8772)!==0){var r=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:wt||Ho(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!wt)if(r===null)a.componentDidMount();else{var c=n.elementType===n.type?r.memoizedProps:rn(n.type,r.memoizedProps);a.componentDidUpdate(c,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&rd(n,h,a);break;case 3:var g=n.updateQueue;if(g!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}rd(n,g,r)}break;case 5:var S=n.stateNode;if(r===null&&n.flags&4){r=S;var E=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&r.focus();break;case"img":E.src&&(r.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var b=n.alternate;if(b!==null){var X=b.memoizedState;if(X!==null){var K=X.dehydrated;K!==null&&Jr(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}wt||n.flags&512&&Eu(n)}catch(H){Xe(n,n.return,H)}}if(n===t){oe=null;break}if(r=n.sibling,r!==null){r.return=n.return,oe=r;break}oe=n.return}}function rf(t){for(;oe!==null;){var n=oe;if(n===t){oe=null;break}var r=n.sibling;if(r!==null){r.return=n.return,oe=r;break}oe=n.return}}function of(t){for(;oe!==null;){var n=oe;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{Ho(4,n)}catch(E){Xe(n,r,E)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(E){Xe(n,c,E)}}var h=n.return;try{Eu(n)}catch(E){Xe(n,h,E)}break;case 5:var g=n.return;try{Eu(n)}catch(E){Xe(n,g,E)}}}catch(E){Xe(n,n.return,E)}if(n===t){oe=null;break}var S=n.sibling;if(S!==null){S.return=n.return,oe=S;break}oe=n.return}}var qg=Math.ceil,Qo=z.ReactCurrentDispatcher,Ou=z.ReactCurrentOwner,Zt=z.ReactCurrentBatchConfig,Ee=0,ht=null,it=null,mt=0,qt=0,yr=ns(0),lt=0,ki=null,Is=0,Yo=0,Du=0,Ti=null,Mt=null,Ru=0,wr=1/0,Ln=null,Xo=!1,Iu=null,ls=null,Zo=!1,us=null,Ko=0,xi=0,Mu=null,Jo=-1,ea=0;function Et(){return(Ee&6)!==0?Je():Jo!==-1?Jo:Jo=Je()}function cs(t){return(t.mode&1)===0?1:(Ee&2)!==0&&mt!==0?mt&-mt:Cg.transition!==null?(ea===0&&(ea=Kc()),ea):(t=De,t!==0||(t=window.event,t=t===void 0?16:ah(t.type)),t)}function ln(t,n,r,a){if(50<xi)throw xi=0,Mu=null,Error(s(185));Qr(t,r,a),((Ee&2)===0||t!==ht)&&(t===ht&&((Ee&2)===0&&(Yo|=r),lt===4&&hs(t,mt)),Pt(t,a),r===1&&Ee===0&&(n.mode&1)===0&&(wr=Je()+500,Ao&&rs()))}function Pt(t,n){var r=t.callbackNode;Cm(t,n);var a=lo(t,t===ht?mt:0);if(a===0)r!==null&&Yc(r),t.callbackNode=null,t.callbackPriority=0;else if(n=a&-a,t.callbackPriority!==n){if(r!=null&&Yc(r),n===1)t.tag===0?xg(lf.bind(null,t)):$h(lf.bind(null,t)),wg(function(){(Ee&6)===0&&rs()}),r=null;else{switch(Jc(a)){case 1:r=dl;break;case 4:r=Xc;break;case 16:r=ro;break;case 536870912:r=Zc;break;default:r=ro}r=gf(r,af.bind(null,t))}t.callbackPriority=n,t.callbackNode=r}}function af(t,n){if(Jo=-1,ea=0,(Ee&6)!==0)throw Error(s(327));var r=t.callbackNode;if(Sr()&&t.callbackNode!==r)return null;var a=lo(t,t===ht?mt:0);if(a===0)return null;if((a&30)!==0||(a&t.expiredLanes)!==0||n)n=ta(t,a);else{n=a;var c=Ee;Ee|=2;var h=cf();(ht!==t||mt!==n)&&(Ln=null,wr=Je()+500,Ps(t,n));do try{Gg();break}catch(S){uf(t,S)}while(!0);Zl(),Qo.current=h,Ee=c,it!==null?n=0:(ht=null,mt=0,n=lt)}if(n!==0){if(n===2&&(c=fl(t),c!==0&&(a=c,n=Pu(t,c))),n===1)throw r=ki,Ps(t,0),hs(t,a),Pt(t,Je()),r;if(n===6)hs(t,a);else{if(c=t.current.alternate,(a&30)===0&&!Bg(c)&&(n=ta(t,a),n===2&&(h=fl(t),h!==0&&(a=h,n=Pu(t,h))),n===1))throw r=ki,Ps(t,0),hs(t,a),Pt(t,Je()),r;switch(t.finishedWork=c,t.finishedLanes=a,n){case 0:case 1:throw Error(s(345));case 2:bs(t,Mt,Ln);break;case 3:if(hs(t,a),(a&130023424)===a&&(n=Ru+500-Je(),10<n)){if(lo(t,0)!==0)break;if(c=t.suspendedLanes,(c&a)!==a){Et(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=zl(bs.bind(null,t,Mt,Ln),n);break}bs(t,Mt,Ln);break;case 4:if(hs(t,a),(a&4194240)===a)break;for(n=t.eventTimes,c=-1;0<a;){var g=31-tn(a);h=1<<g,g=n[g],g>c&&(c=g),a&=~h}if(a=c,a=Je()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*qg(a/1960))-a,10<a){t.timeoutHandle=zl(bs.bind(null,t,Mt,Ln),a);break}bs(t,Mt,Ln);break;case 5:bs(t,Mt,Ln);break;default:throw Error(s(329))}}}return Pt(t,Je()),t.callbackNode===r?af.bind(null,t):null}function Pu(t,n){var r=Ti;return t.current.memoizedState.isDehydrated&&(Ps(t,n).flags|=256),t=ta(t,n),t!==2&&(n=Mt,Mt=r,n!==null&&bu(n)),t}function bu(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function Bg(t){for(var n=t;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var c=r[a],h=c.getSnapshot;c=c.value;try{if(!nn(h(),c))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hs(t,n){for(n&=~Du,n&=~Yo,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var r=31-tn(n),a=1<<r;t[r]=-1,n&=~a}}function lf(t){if((Ee&6)!==0)throw Error(s(327));Sr();var n=lo(t,0);if((n&1)===0)return Pt(t,Je()),null;var r=ta(t,n);if(t.tag!==0&&r===2){var a=fl(t);a!==0&&(n=a,r=Pu(t,a))}if(r===1)throw r=ki,Ps(t,0),hs(t,n),Pt(t,Je()),r;if(r===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,bs(t,Mt,Ln),Pt(t,Je()),null}function Fu(t,n){var r=Ee;Ee|=1;try{return t(n)}finally{Ee=r,Ee===0&&(wr=Je()+500,Ao&&rs())}}function Ms(t){us!==null&&us.tag===0&&(Ee&6)===0&&Sr();var n=Ee;Ee|=1;var r=Zt.transition,a=De;try{if(Zt.transition=null,De=1,t)return t()}finally{De=a,Zt.transition=r,Ee=n,(Ee&6)===0&&rs()}}function Vu(){qt=yr.current,We(yr)}function Ps(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,yg(r)),it!==null)for(r=it.return;r!==null;){var a=r;switch($l(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Eo();break;case 3:gr(),We(Dt),We(_t),iu();break;case 5:su(a);break;case 4:gr();break;case 13:We(Qe);break;case 19:We(Qe);break;case 10:Kl(a.type._context);break;case 22:case 23:Vu()}r=r.return}if(ht=t,it=t=ds(t.current,null),mt=qt=n,lt=0,ki=null,Du=Yo=Is=0,Mt=Ti=null,Os!==null){for(n=0;n<Os.length;n++)if(r=Os[n],a=r.interleaved,a!==null){r.interleaved=null;var c=a.next,h=r.pending;if(h!==null){var g=h.next;h.next=c,a.next=g}r.pending=a}Os=null}return t}function uf(t,n){do{var r=it;try{if(Zl(),Lo.current=qo,jo){for(var a=Ye.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}jo=!1}if(Rs=0,ct=at=Ye=null,gi=!1,_i=0,Ou.current=null,r===null||r.return===null){lt=1,ki=n,it=null;break}e:{var h=t,g=r.return,S=r,E=n;if(n=mt,S.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var b=E,X=S,K=X.tag;if((X.mode&1)===0&&(K===0||K===11||K===15)){var H=X.alternate;H?(X.updateQueue=H.updateQueue,X.memoizedState=H.memoizedState,X.lanes=H.lanes):(X.updateQueue=null,X.memoizedState=null)}var ie=Md(g);if(ie!==null){ie.flags&=-257,Pd(ie,g,S,h,n),ie.mode&1&&Id(h,b,n),n=ie,E=b;var ae=n.updateQueue;if(ae===null){var ue=new Set;ue.add(E),n.updateQueue=ue}else ae.add(E);break e}else{if((n&1)===0){Id(h,b,n),Lu();break e}E=Error(s(426))}}else if(Ge&&S.mode&1){var et=Md(g);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),Pd(et,g,S,h,n),Yl(_r(E,S));break e}}h=E=_r(E,S),lt!==4&&(lt=2),Ti===null?Ti=[h]:Ti.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var R=Dd(h,E,n);sd(h,R);break e;case 1:S=E;var A=h.type,M=h.stateNode;if((h.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(ls===null||!ls.has(M)))){h.flags|=65536,n&=-n,h.lanes|=n;var J=Rd(h,S,n);sd(h,J);break e}}h=h.return}while(h!==null)}df(r)}catch(ce){n=ce,it===r&&r!==null&&(it=r=r.return);continue}break}while(!0)}function cf(){var t=Qo.current;return Qo.current=qo,t===null?qo:t}function Lu(){(lt===0||lt===3||lt===2)&&(lt=4),ht===null||(Is&268435455)===0&&(Yo&268435455)===0||hs(ht,mt)}function ta(t,n){var r=Ee;Ee|=2;var a=cf();(ht!==t||mt!==n)&&(Ln=null,Ps(t,n));do try{Ug();break}catch(c){uf(t,c)}while(!0);if(Zl(),Ee=r,Qo.current=a,it!==null)throw Error(s(261));return ht=null,mt=0,lt}function Ug(){for(;it!==null;)hf(it)}function Gg(){for(;it!==null&&!gm();)hf(it)}function hf(t){var n=mf(t.alternate,t,qt);t.memoizedProps=t.pendingProps,n===null?df(t):it=n,Ou.current=null}function df(t){var n=t;do{var r=n.alternate;if(t=n.return,(n.flags&32768)===0){if(r=Vg(r,n,qt),r!==null){it=r;return}}else{if(r=Lg(r,n),r!==null){r.flags&=32767,it=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,it=null;return}}if(n=n.sibling,n!==null){it=n;return}it=n=t}while(n!==null);lt===0&&(lt=5)}function bs(t,n,r){var a=De,c=Zt.transition;try{Zt.transition=null,De=1,$g(t,n,r,a)}finally{Zt.transition=c,De=a}return null}function $g(t,n,r,a){do Sr();while(us!==null);if((Ee&6)!==0)throw Error(s(327));r=t.finishedWork;var c=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var h=r.lanes|r.childLanes;if(Em(t,h),t===ht&&(it=ht=null,mt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Zo||(Zo=!0,gf(ro,function(){return Sr(),null})),h=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||h){h=Zt.transition,Zt.transition=null;var g=De;De=1;var S=Ee;Ee|=4,Ou.current=null,zg(t,r),tf(r,t),dg(Ll),ho=!!Vl,Ll=Vl=null,t.current=r,Wg(r),_m(),Ee=S,De=g,Zt.transition=h}else t.current=r;if(Zo&&(Zo=!1,us=t,Ko=c),h=t.pendingLanes,h===0&&(ls=null),wm(r.stateNode),Pt(t,Je()),n!==null)for(a=t.onRecoverableError,r=0;r<n.length;r++)c=n[r],a(c.value,{componentStack:c.stack,digest:c.digest});if(Xo)throw Xo=!1,t=Iu,Iu=null,t;return(Ko&1)!==0&&t.tag!==0&&Sr(),h=t.pendingLanes,(h&1)!==0?t===Mu?xi++:(xi=0,Mu=t):xi=0,rs(),null}function Sr(){if(us!==null){var t=Jc(Ko),n=Zt.transition,r=De;try{if(Zt.transition=null,De=16>t?16:t,us===null)var a=!1;else{if(t=us,us=null,Ko=0,(Ee&6)!==0)throw Error(s(331));var c=Ee;for(Ee|=4,oe=t.current;oe!==null;){var h=oe,g=h.child;if((oe.flags&16)!==0){var S=h.deletions;if(S!==null){for(var E=0;E<S.length;E++){var b=S[E];for(oe=b;oe!==null;){var X=oe;switch(X.tag){case 0:case 11:case 15:Si(8,X,h)}var K=X.child;if(K!==null)K.return=X,oe=K;else for(;oe!==null;){X=oe;var H=X.sibling,ie=X.return;if(Xd(X),X===b){oe=null;break}if(H!==null){H.return=ie,oe=H;break}oe=ie}}}var ae=h.alternate;if(ae!==null){var ue=ae.child;if(ue!==null){ae.child=null;do{var et=ue.sibling;ue.sibling=null,ue=et}while(ue!==null)}}oe=h}}if((h.subtreeFlags&2064)!==0&&g!==null)g.return=h,oe=g;else e:for(;oe!==null;){if(h=oe,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Si(9,h,h.return)}var R=h.sibling;if(R!==null){R.return=h.return,oe=R;break e}oe=h.return}}var A=t.current;for(oe=A;oe!==null;){g=oe;var M=g.child;if((g.subtreeFlags&2064)!==0&&M!==null)M.return=g,oe=M;else e:for(g=A;oe!==null;){if(S=oe,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Ho(9,S)}}catch(ce){Xe(S,S.return,ce)}if(S===g){oe=null;break e}var J=S.sibling;if(J!==null){J.return=S.return,oe=J;break e}oe=S.return}}if(Ee=c,rs(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(io,t)}catch{}a=!0}return a}finally{De=r,Zt.transition=n}}return!1}function ff(t,n,r){n=_r(r,n),n=Dd(t,n,1),t=os(t,n,1),n=Et(),t!==null&&(Qr(t,1,n),Pt(t,n))}function Xe(t,n,r){if(t.tag===3)ff(t,t,r);else for(;n!==null;){if(n.tag===3){ff(n,t,r);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ls===null||!ls.has(a))){t=_r(r,t),t=Rd(n,t,1),n=os(n,t,1),t=Et(),n!==null&&(Qr(n,1,t),Pt(n,t));break}}n=n.return}}function Hg(t,n,r){var a=t.pingCache;a!==null&&a.delete(n),n=Et(),t.pingedLanes|=t.suspendedLanes&r,ht===t&&(mt&r)===r&&(lt===4||lt===3&&(mt&130023424)===mt&&500>Je()-Ru?Ps(t,0):Du|=r),Pt(t,n)}function pf(t,n){n===0&&((t.mode&1)===0?n=1:(n=ao,ao<<=1,(ao&130023424)===0&&(ao=4194304)));var r=Et();t=bn(t,n),t!==null&&(Qr(t,n,r),Pt(t,r))}function Qg(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),pf(t,r)}function Yg(t,n){var r=0;switch(t.tag){case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(s(314))}a!==null&&a.delete(n),pf(t,r)}var mf;mf=function(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps||Dt.current)It=!0;else{if((t.lanes&r)===0&&(n.flags&128)===0)return It=!1,Fg(t,n,r);It=(t.flags&131072)!==0}else It=!1,Ge&&(n.flags&1048576)!==0&&Hh(n,Do,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Go(t,n),t=n.pendingProps;var c=ur(n,_t.current);mr(n,r),c=lu(null,n,a,t,c,r);var h=uu();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Rt(a)?(h=!0,No(n)):h=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,tu(n),c.updater=Bo,n.stateNode=c,c._reactInternals=n,mu(n,a,t,r),n=yu(null,n,a,!0,h,r)):(n.tag=0,Ge&&h&&Gl(n),Ct(null,n,c,r),n=n.child),n;case 16:a=n.elementType;e:{switch(Go(t,n),t=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=Zg(a),t=rn(a,t),c){case 0:n=vu(null,n,a,t,r);break e;case 1:n=zd(null,n,a,t,r);break e;case 11:n=bd(null,n,a,t,r);break e;case 14:n=Fd(null,n,a,rn(a.type,t),r);break e}throw Error(s(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:rn(a,c),vu(t,n,a,c,r);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:rn(a,c),zd(t,n,a,c,r);case 3:e:{if(Wd(n),t===null)throw Error(s(387));a=n.pendingProps,h=n.memoizedState,c=h.element,nd(t,n),Fo(n,a,null,r);var g=n.memoizedState;if(a=g.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){c=_r(Error(s(423)),n),n=qd(t,n,a,r,c);break e}else if(a!==c){c=_r(Error(s(424)),n),n=qd(t,n,a,r,c);break e}else for(Wt=ts(n.stateNode.containerInfo.firstChild),zt=n,Ge=!0,sn=null,r=ed(n,null,a,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dr(),a===c){n=Vn(t,n,r);break e}Ct(t,n,a,r)}n=n.child}return n;case 5:return id(n),t===null&&Ql(n),a=n.type,c=n.pendingProps,h=t!==null?t.memoizedProps:null,g=c.children,jl(a,c)?g=null:h!==null&&jl(a,h)&&(n.flags|=32),jd(t,n),Ct(t,n,g,r),n.child;case 6:return t===null&&Ql(n),null;case 13:return Bd(t,n,r);case 4:return nu(n,n.stateNode.containerInfo),a=n.pendingProps,t===null?n.child=fr(n,null,a,r):Ct(t,n,a,r),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:rn(a,c),bd(t,n,a,c,r);case 7:return Ct(t,n,n.pendingProps,r),n.child;case 8:return Ct(t,n,n.pendingProps.children,r),n.child;case 12:return Ct(t,n,n.pendingProps.children,r),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,h=n.memoizedProps,g=c.value,Le(Mo,a._currentValue),a._currentValue=g,h!==null)if(nn(h.value,g)){if(h.children===c.children&&!Dt.current){n=Vn(t,n,r);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var S=h.dependencies;if(S!==null){g=h.child;for(var E=S.firstContext;E!==null;){if(E.context===a){if(h.tag===1){E=Fn(-1,r&-r),E.tag=2;var b=h.updateQueue;if(b!==null){b=b.shared;var X=b.pending;X===null?E.next=E:(E.next=X.next,X.next=E),b.pending=E}}h.lanes|=r,E=h.alternate,E!==null&&(E.lanes|=r),Jl(h.return,r,n),S.lanes|=r;break}E=E.next}}else if(h.tag===10)g=h.type===n.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=r,S=g.alternate,S!==null&&(S.lanes|=r),Jl(g,r,n),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===n){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}Ct(t,n,c.children,r),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,mr(n,r),c=Yt(c),a=a(c),n.flags|=1,Ct(t,n,a,r),n.child;case 14:return a=n.type,c=rn(a,n.pendingProps),c=rn(a.type,c),Fd(t,n,a,c,r);case 15:return Vd(t,n,n.type,n.pendingProps,r);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:rn(a,c),Go(t,n),n.tag=1,Rt(a)?(t=!0,No(n)):t=!1,mr(n,r),Ad(n,a,c),mu(n,a,c,r),yu(null,n,a,!0,t,r);case 19:return Gd(t,n,r);case 22:return Ld(t,n,r)}throw Error(s(156,n.tag))};function gf(t,n){return Qc(t,n)}function Xg(t,n,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,n,r,a){return new Xg(t,n,r,a)}function ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zg(t){if(typeof t=="function")return ju(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q)return 11;if(t===le)return 14}return 2}function ds(t,n){var r=t.alternate;return r===null?(r=Kt(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function na(t,n,r,a,c,h){var g=2;if(a=t,typeof t=="function")ju(t)&&(g=1);else if(typeof t=="string")g=5;else e:switch(t){case P:return Fs(r.children,c,h,n);case D:g=8,c|=8;break;case Y:return t=Kt(12,r,n,c|2),t.elementType=Y,t.lanes=h,t;case te:return t=Kt(13,r,n,c),t.elementType=te,t.lanes=h,t;case ne:return t=Kt(19,r,n,c),t.elementType=ne,t.lanes=h,t;case Z:return sa(r,c,h,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:g=10;break e;case U:g=9;break e;case q:g=11;break e;case le:g=14;break e;case G:g=16,a=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return n=Kt(g,r,n,c),n.elementType=t,n.type=a,n.lanes=h,n}function Fs(t,n,r,a){return t=Kt(7,t,a,n),t.lanes=r,t}function sa(t,n,r,a){return t=Kt(22,t,a,n),t.elementType=Z,t.lanes=r,t.stateNode={isHidden:!1},t}function zu(t,n,r){return t=Kt(6,t,null,n),t.lanes=r,t}function Wu(t,n,r){return n=Kt(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Kg(t,n,r,a,c){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function qu(t,n,r,a,c,h,g,S,E){return t=new Kg(t,n,r,S,E),n===1?(n=1,h===!0&&(n|=8)):n=0,h=Kt(3,null,null,n),t.current=h,h.stateNode=t,h.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tu(h),t}function Jg(t,n,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:a==null?null:""+a,children:t,containerInfo:n,implementation:r}}function _f(t){if(!t)return ss;t=t._reactInternals;e:{if(xs(t)!==t||t.tag!==1)throw Error(s(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Rt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(t.tag===1){var r=t.type;if(Rt(r))return Uh(t,r,n)}return n}function vf(t,n,r,a,c,h,g,S,E){return t=qu(r,a,!0,t,c,h,g,S,E),t.context=_f(null),r=t.current,a=Et(),c=cs(r),h=Fn(a,c),h.callback=n??null,os(r,h,c),t.current.lanes=c,Qr(t,c,a),Pt(t,a),t}function ra(t,n,r,a){var c=n.current,h=Et(),g=cs(c);return r=_f(r),n.context===null?n.context=r:n.pendingContext=r,n=Fn(h,g),n.payload={element:t},a=a===void 0?null:a,a!==null&&(n.callback=a),t=os(c,n,g),t!==null&&(ln(t,c,g,h),bo(t,c,g)),g}function ia(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yf(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Bu(t,n){yf(t,n),(t=t.alternate)&&yf(t,n)}function e_(){return null}var wf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uu(t){this._internalRoot=t}oa.prototype.render=Uu.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));ra(t,n,null,null)},oa.prototype.unmount=Uu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ms(function(){ra(null,t,null,null)}),n[Rn]=null}};function oa(t){this._internalRoot=t}oa.prototype.unstable_scheduleHydration=function(t){if(t){var n=nh();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Kn.length&&n!==0&&n<Kn[r].priority;r++);Kn.splice(r,0,t),r===0&&ih(t)}};function Gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function aa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sf(){}function t_(t,n,r,a,c){if(c){if(typeof a=="function"){var h=a;a=function(){var b=ia(g);h.call(b)}}var g=vf(n,a,t,0,null,!1,!1,"",Sf);return t._reactRootContainer=g,t[Rn]=g.current,li(t.nodeType===8?t.parentNode:t),Ms(),g}for(;c=t.lastChild;)t.removeChild(c);if(typeof a=="function"){var S=a;a=function(){var b=ia(E);S.call(b)}}var E=qu(t,0,!1,null,null,!1,!1,"",Sf);return t._reactRootContainer=E,t[Rn]=E.current,li(t.nodeType===8?t.parentNode:t),Ms(function(){ra(n,E,r,a)}),E}function la(t,n,r,a,c){var h=r._reactRootContainer;if(h){var g=h;if(typeof c=="function"){var S=c;c=function(){var E=ia(g);S.call(E)}}ra(n,g,t,c)}else g=t_(r,n,t,c,a);return ia(g)}eh=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var r=Hr(n.pendingLanes);r!==0&&(ml(n,r|1),Pt(n,Je()),(Ee&6)===0&&(wr=Je()+500,rs()))}break;case 13:Ms(function(){var a=bn(t,1);if(a!==null){var c=Et();ln(a,t,1,c)}}),Bu(t,1)}},gl=function(t){if(t.tag===13){var n=bn(t,134217728);if(n!==null){var r=Et();ln(n,t,134217728,r)}Bu(t,134217728)}},th=function(t){if(t.tag===13){var n=cs(t),r=bn(t,n);if(r!==null){var a=Et();ln(r,t,n,a)}Bu(t,n)}},nh=function(){return De},sh=function(t,n){var r=De;try{return De=t,n()}finally{De=r}},ll=function(t,n,r){switch(n){case"input":if(He(t,r),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var a=r[n];if(a!==t&&a.form===t.form){var c=Co(a);if(!c)throw Error(s(90));Gt(a),He(a,c)}}}break;case"textarea":Zs(t,r);break;case"select":n=r.value,n!=null&&ot(t,!!r.multiple,n,!1)}},Wc=Fu,qc=Ms;var n_={usingClientEntryPoint:!1,Events:[hi,ar,Co,jc,zc,Fu]},Ci={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s_={bundleType:Ci.bundleType,version:Ci.version,rendererPackageName:Ci.rendererPackageName,rendererConfig:Ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$c(t),t===null?null:t.stateNode},findFiberByHostInstance:Ci.findFiberByHostInstance||e_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ua.isDisabled&&ua.supportsFiber)try{io=ua.inject(s_),vn=ua}catch{}}return bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n_,bt.createPortal=function(t,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gu(n))throw Error(s(200));return Jg(t,n,null,r)},bt.createRoot=function(t,n){if(!Gu(t))throw Error(s(299));var r=!1,a="",c=wf;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=qu(t,1,!1,null,null,r,!1,a,c),t[Rn]=n.current,li(t.nodeType===8?t.parentNode:t),new Uu(n)},bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=$c(n),t=t===null?null:t.stateNode,t},bt.flushSync=function(t){return Ms(t)},bt.hydrate=function(t,n,r){if(!aa(n))throw Error(s(200));return la(null,t,n,!0,r)},bt.hydrateRoot=function(t,n,r){if(!Gu(t))throw Error(s(405));var a=r!=null&&r.hydratedSources||null,c=!1,h="",g=wf;if(r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),n=vf(n,null,t,1,r??null,c,!1,h,g),t[Rn]=n.current,li(t),a)for(t=0;t<a.length;t++)r=a[t],c=r._getVersion,c=c(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,c]:n.mutableSourceEagerHydrationData.push(r,c);return new oa(n)},bt.render=function(t,n,r){if(!aa(n))throw Error(s(200));return la(null,t,n,!1,r)},bt.unmountComponentAtNode=function(t){if(!aa(t))throw Error(s(40));return t._reactRootContainer?(Ms(function(){la(null,null,t,!1,function(){t._reactRootContainer=null,t[Rn]=null})}),!0):!1},bt.unstable_batchedUpdates=Fu,bt.unstable_renderSubtreeIntoContainer=function(t,n,r,a){if(!aa(r))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return la(t,n,r,!1,a)},bt.version="18.3.1-next-f1338f8080-20240426",bt}var Of;function h_(){if(Of)return Qu.exports;Of=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Qu.exports=c_(),Qu.exports}var Df;function d_(){if(Df)return ca;Df=1;var o=h_();return ca.createRoot=o.createRoot,ca.hydrateRoot=o.hydrateRoot,ca}var f_=d_();const np="14.9.17",Rf=(o,e,s)=>({endTime:e,insertTime:s,type:"exponentialRampToValue",value:o}),If=(o,e,s)=>({endTime:e,insertTime:s,type:"linearRampToValue",value:o}),Ju=(o,e)=>({startTime:e,type:"setValue",value:o}),sp=(o,e,s)=>({duration:s,startTime:e,type:"setValueCurve",values:o}),rp=(o,e,{startTime:s,target:i,timeConstant:l})=>i+(e-i)*Math.exp((s-o)/l),Cr=o=>o.type==="exponentialRampToValue",va=o=>o.type==="linearRampToValue",ms=o=>Cr(o)||va(o),uc=o=>o.type==="setValue",zn=o=>o.type==="setValueCurve",ya=(o,e,s,i)=>{const l=o[e];return l===void 0?i:ms(l)||uc(l)?l.value:zn(l)?l.values[l.values.length-1]:rp(s,ya(o,e-1,l.startTime,i),l)},Mf=(o,e,s,i,l)=>s===void 0?[i.insertTime,l]:ms(s)?[s.endTime,s.value]:uc(s)?[s.startTime,s.value]:zn(s)?[s.startTime+s.duration,s.values[s.values.length-1]]:[s.startTime,ya(o,e-1,s.startTime,l)],ec=o=>o.type==="cancelAndHold",tc=o=>o.type==="cancelScheduledValues",ps=o=>ec(o)||tc(o)?o.cancelTime:Cr(o)||va(o)?o.endTime:o.startTime,Pf=(o,e,s,{endTime:i,value:l})=>s===l?l:0<s&&0<l||s<0&&l<0?s*(l/s)**((o-e)/(i-e)):0,bf=(o,e,s,{endTime:i,value:l})=>s+(o-e)/(i-e)*(l-s),p_=(o,e)=>{const s=Math.floor(e),i=Math.ceil(e);return s===i?o[s]:(1-(e-s))*o[s]+(1-(i-e))*o[i]},m_=(o,{duration:e,startTime:s,values:i})=>{const l=(o-s)/e*(i.length-1);return p_(i,l)},ha=o=>o.type==="setTarget";class g_{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const s=ps(e);if(ec(e)||tc(e)){const i=this._automationEvents.findIndex(u=>tc(e)&&zn(u)?u.startTime+u.duration>=s:ps(u)>=s),l=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),ec(e)){const u=this._automationEvents[this._automationEvents.length-1];if(l!==void 0&&ms(l)){if(u!==void 0&&ha(u))throw new Error("The internal list is malformed.");const d=u===void 0?l.insertTime:zn(u)?u.startTime+u.duration:ps(u),f=u===void 0?this._defaultValue:zn(u)?u.values[u.values.length-1]:u.value,p=Cr(l)?Pf(s,d,f,l):bf(s,d,f,l),m=Cr(l)?Rf(p,s,this._currenTime):If(p,s,this._currenTime);this._automationEvents.push(m)}if(u!==void 0&&ha(u)&&this._automationEvents.push(Ju(this.getValue(s),s)),u!==void 0&&zn(u)&&u.startTime+u.duration>s){const d=s-u.startTime,f=(u.values.length-1)/u.duration,p=Math.max(2,1+Math.ceil(d*f)),m=d/(p-1)*f,_=u.values.slice(0,p);if(m<1)for(let v=1;v<p;v+=1){const y=m*v%1;_[v]=u.values[v-1]*(1-y)+u.values[v]*y}this._automationEvents[this._automationEvents.length-1]=sp(_,u.startTime,d)}}}else{const i=this._automationEvents.findIndex(d=>ps(d)>s),l=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(l!==void 0&&zn(l)&&ps(l)+l.duration>s)return!1;const u=Cr(e)?Rf(e.value,e.endTime,this._currenTime):va(e)?If(e.value,s,this._currenTime):e;if(i===-1)this._automationEvents.push(u);else{if(zn(e)&&s+e.duration>ps(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,u)}}return!0}flush(e){const s=this._automationEvents.findIndex(i=>ps(i)>e);if(s>1){const i=this._automationEvents.slice(s-1),l=i[0];ha(l)&&i.unshift(Ju(ya(this._automationEvents,s-2,l.startTime,this._defaultValue),l.startTime)),this._automationEvents=i}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const s=this._automationEvents.findIndex(d=>ps(d)>e),i=this._automationEvents[s],l=(s===-1?this._automationEvents.length:s)-1,u=this._automationEvents[l];if(u!==void 0&&ha(u)&&(i===void 0||!ms(i)||i.insertTime>e))return rp(e,ya(this._automationEvents,l-1,u.startTime,this._defaultValue),u);if(u!==void 0&&uc(u)&&(i===void 0||!ms(i)))return u.value;if(u!==void 0&&zn(u)&&(i===void 0||!ms(i)||u.startTime+u.duration>e))return e<u.startTime+u.duration?m_(e,u):u.values[u.values.length-1];if(u!==void 0&&ms(u)&&(i===void 0||!ms(i)))return u.value;if(i!==void 0&&Cr(i)){const[d,f]=Mf(this._automationEvents,l,u,i,this._defaultValue);return Pf(e,d,f,i)}if(i!==void 0&&va(i)){const[d,f]=Mf(this._automationEvents,l,u,i,this._defaultValue);return bf(e,d,f,i)}return this._defaultValue}}const __=o=>({cancelTime:o,type:"cancelAndHold"}),v_=o=>({cancelTime:o,type:"cancelScheduledValues"}),y_=(o,e)=>({endTime:e,type:"exponentialRampToValue",value:o}),w_=(o,e)=>({endTime:e,type:"linearRampToValue",value:o}),S_=(o,e,s)=>({startTime:e,target:o,timeConstant:s,type:"setTarget"}),k_=()=>new DOMException("","AbortError"),T_=o=>(e,s,[i,l,u],d)=>{o(e[l],[s,i,u],f=>f[0]===s&&f[1]===i,d)},x_=o=>(e,s,i)=>{const l=[];for(let u=0;u<i.numberOfInputs;u+=1)l.push(new Set);o.set(e,{activeInputs:l,outputs:new Set,passiveInputs:new WeakMap,renderer:s})},C_=o=>(e,s)=>{o.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:s})},Nr=new WeakSet,ip=new WeakMap,cc=new WeakMap,op=new WeakMap,hc=new WeakMap,Ga=new WeakMap,ap=new WeakMap,nc=new WeakMap,sc=new WeakMap,rc=new WeakMap,lp={construct(){return lp}},E_=o=>{try{const e=new Proxy(o,lp);new e}catch{return!1}return!0},Ff=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Vf=(o,e)=>{const s=[];let i=o.replace(/^[\s]+/,""),l=i.match(Ff);for(;l!==null;){const u=l[1].slice(1,-1),d=l[0].replace(/([\s]+)?;?$/,"").replace(u,new URL(u,e).toString());s.push(d),i=i.slice(l[0].length).replace(/^[\s]+/,""),l=i.match(Ff)}return[s.join(";"),i]},Lf=o=>{if(o!==void 0&&!Array.isArray(o))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},jf=o=>{if(!E_(o))throw new TypeError("The given value for processorCtor should be a constructor.");if(o.prototype===null||typeof o.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},N_=(o,e,s,i,l,u,d,f,p,m,_,v,y)=>{let k=0;return(w,T,x={credentials:"omit"})=>{const O=_.get(w);if(O!==void 0&&O.has(T))return Promise.resolve();const V=m.get(w);if(V!==void 0){const N=V.get(T);if(N!==void 0)return N}const L=u(w),z=L.audioWorklet===void 0?l(T).then(([N,I])=>{const[P,D]=Vf(N,I),Y=`${P};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${D}
})})(window,'_AWGS')`;return s(Y)}).then(()=>{const N=y._AWGS.pop();if(N===void 0)throw new SyntaxError;i(L.currentTime,L.sampleRate,()=>N(class{},void 0,(I,P)=>{if(I.trim()==="")throw e();const D=sc.get(L);if(D!==void 0){if(D.has(I))throw e();jf(P),Lf(P.parameterDescriptors),D.set(I,P)}else jf(P),Lf(P.parameterDescriptors),sc.set(L,new Map([[I,P]]))},L.sampleRate,void 0,void 0))}):Promise.all([l(T),Promise.resolve(o(v,v))]).then(([[N,I],P])=>{const D=k+1;k=D;const[Y,W]=Vf(N,I),ne=`${Y};((AudioWorkletProcessor,registerProcessor)=>{${W}
})(${P?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${P?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${P?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${D}',class extends AudioWorkletProcessor{process(){return !1}})`,le=new Blob([ne],{type:"application/javascript; charset=utf-8"}),G=URL.createObjectURL(le);return L.audioWorklet.addModule(G,x).then(()=>{if(f(L))return L;const Z=d(L);return Z.audioWorklet.addModule(G,x).then(()=>Z)}).then(Z=>{if(p===null)throw new SyntaxError;try{new p(Z,`__sac${D}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(G))});return V===void 0?m.set(w,new Map([[T,z]])):V.set(T,z),z.then(()=>{const N=_.get(w);N===void 0?_.set(w,new Set([T])):N.add(T)}).finally(()=>{const N=m.get(w);N!==void 0&&N.delete(T)}),z}},dn=(o,e)=>{const s=o.get(e);if(s===void 0)throw new Error("A value with the given key could not be found.");return s},$a=(o,e)=>{const s=Array.from(o).filter(e);if(s.length>1)throw Error("More than one element was found.");if(s.length===0)throw Error("No element was found.");const[i]=s;return o.delete(i),i},up=(o,e,s,i)=>{const l=dn(o,e),u=$a(l,d=>d[0]===s&&d[1]===i);return l.size===0&&o.delete(e),u},qi=o=>dn(ap,o),Ar=o=>{if(Nr.has(o))throw new Error("The AudioNode is already stored.");Nr.add(o),qi(o).forEach(e=>e(!0))},cp=o=>"port"in o,Bi=o=>{if(!Nr.has(o))throw new Error("The AudioNode is not stored.");Nr.delete(o),qi(o).forEach(e=>e(!1))},ic=(o,e)=>{!cp(o)&&e.every(s=>s.size===0)&&Bi(o)},A_=(o,e,s,i,l,u,d,f,p,m,_,v,y)=>{const k=new WeakMap;return(w,T,x,O,V)=>{const{activeInputs:L,passiveInputs:z}=u(T),{outputs:N}=u(w),I=f(w),P=D=>{const Y=p(T),W=p(w);if(D){const U=up(z,w,x,O);o(L,w,U,!1),!V&&!v(w)&&s(W,Y,x,O),y(T)&&Ar(T)}else{const U=i(L,w,x,O);e(z,O,U,!1),!V&&!v(w)&&l(W,Y,x,O);const q=d(T);if(q===0)_(T)&&ic(T,L);else{const te=k.get(T);te!==void 0&&clearTimeout(te),k.set(T,setTimeout(()=>{_(T)&&ic(T,L)},q*1e3))}}};return m(N,[T,x,O],D=>D[0]===T&&D[1]===x&&D[2]===O,!0)?(I.add(P),_(w)?o(L,w,[x,O,P],!0):e(z,O,[w,x,P],!0),!0):!1}},O_=o=>(e,s,[i,l,u],d)=>{const f=e.get(i);f===void 0?e.set(i,new Set([[l,s,u]])):o(f,[l,s,u],p=>p[0]===l&&p[1]===s,d)},D_=o=>(e,s)=>{const i=o(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.connect(i).connect(e.destination);const l=()=>{s.removeEventListener("ended",l),s.disconnect(i),i.disconnect()};s.addEventListener("ended",l)},R_=o=>(e,s)=>{o(e).add(s)},I_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},M_=(o,e,s,i,l,u)=>class extends o{constructor(f,p){const m=l(f),_={...I_,...p},v=i(m,_),y=u(m)?e():null;super(f,!1,v,y),this._nativeAnalyserNode=v}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(f){this._nativeAnalyserNode.fftSize=f}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(f){const p=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=f,!(f>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=p,s()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(f){const p=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=f,!(this._nativeAnalyserNode.maxDecibels>f))throw this._nativeAnalyserNode.minDecibels=p,s()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(f){this._nativeAnalyserNode.smoothingTimeConstant=f}getByteFrequencyData(f){this._nativeAnalyserNode.getByteFrequencyData(f)}getByteTimeDomainData(f){this._nativeAnalyserNode.getByteTimeDomainData(f)}getFloatFrequencyData(f){this._nativeAnalyserNode.getFloatFrequencyData(f)}getFloatTimeDomainData(f){this._nativeAnalyserNode.getFloatTimeDomainData(f)}},xt=(o,e)=>o.context===e,P_=(o,e,s)=>()=>{const i=new WeakMap,l=async(u,d)=>{let f=e(u);if(!xt(f,d)){const m={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,fftSize:f.fftSize,maxDecibels:f.maxDecibels,minDecibels:f.minDecibels,smoothingTimeConstant:f.smoothingTimeConstant};f=o(d,m)}return i.set(d,f),await s(u,d,f),f};return{render(u,d){const f=i.get(d);return f!==void 0?Promise.resolve(f):l(u,d)}}},wa=o=>{try{o.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},An=()=>new DOMException("","IndexSizeError"),dc=o=>{o.getChannelData=(e=>s=>{try{return e.call(o,s)}catch(i){throw i.code===12?An():i}})(o.getChannelData)},b_={numberOfChannels:1},F_=(o,e,s,i,l,u,d,f)=>{let p=null;return class hp{constructor(_){if(l===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:v,numberOfChannels:y,sampleRate:k}={...b_,..._};p===null&&(p=new l(1,1,44100));const w=i!==null&&e(u,u)?new i({length:v,numberOfChannels:y,sampleRate:k}):p.createBuffer(y,v,k);if(w.numberOfChannels===0)throw s();return typeof w.copyFromChannel!="function"?(d(w),dc(w)):e(wa,()=>wa(w))||f(w),o.add(w),w}static[Symbol.hasInstance](_){return _!==null&&typeof _=="object"&&Object.getPrototypeOf(_)===hp.prototype||o.has(_)}}},Ft=-34028234663852886e22,Nt=-Ft,qn=o=>Nr.has(o),V_={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},L_=(o,e,s,i,l,u,d,f)=>class extends o{constructor(m,_){const v=u(m),y={...V_,..._},k=l(v,y),w=d(v),T=w?e():null;super(m,!1,k,T),this._audioBufferSourceNodeRenderer=T,this._isBufferNullified=!1,this._isBufferSet=y.buffer!==null,this._nativeAudioBufferSourceNode=k,this._onended=null,this._playbackRate=s(this,w,k.playbackRate,Nt,Ft)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(m){if(this._nativeAudioBufferSourceNode.buffer=m,m!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(m){this._nativeAudioBufferSourceNode.loop=m}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(m){this._nativeAudioBufferSourceNode.loopEnd=m}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(m){this._nativeAudioBufferSourceNode.loopStart=m}get onended(){return this._onended}set onended(m){const _=typeof m=="function"?f(this,m):null;this._nativeAudioBufferSourceNode.onended=_;const v=this._nativeAudioBufferSourceNode.onended;this._onended=v!==null&&v===_?m:v}get playbackRate(){return this._playbackRate}start(m=0,_=0,v){if(this._nativeAudioBufferSourceNode.start(m,_,v),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=v===void 0?[m,_]:[m,_,v]),this.context.state!=="closed"){Ar(this);const y=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",y),qn(this)&&Bi(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",y)}}stop(m=0){this._nativeAudioBufferSourceNode.stop(m),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=m)}},j_=(o,e,s,i,l)=>()=>{const u=new WeakMap;let d=null,f=null;const p=async(m,_)=>{let v=s(m);const y=xt(v,_);if(!y){const k={buffer:v.buffer,channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,loop:v.loop,loopEnd:v.loopEnd,loopStart:v.loopStart,playbackRate:v.playbackRate.value};v=e(_,k),d!==null&&v.start(...d),f!==null&&v.stop(f)}return u.set(_,v),y?await o(_,m.playbackRate,v.playbackRate):await i(_,m.playbackRate,v.playbackRate),await l(m,_,v),v};return{set start(m){d=m},set stop(m){f=m},render(m,_){const v=u.get(_);return v!==void 0?Promise.resolve(v):p(m,_)}}},z_=o=>"playbackRate"in o,W_=o=>"frequency"in o&&"gain"in o,q_=o=>"offset"in o,B_=o=>!("frequency"in o)&&"gain"in o,U_=o=>"detune"in o&&"frequency"in o&&!("gain"in o),G_=o=>"pan"in o,At=o=>dn(ip,o),Ui=o=>dn(op,o),oc=(o,e)=>{const{activeInputs:s}=At(o);s.forEach(l=>l.forEach(([u])=>{e.includes(o)||oc(u,[...e,o])}));const i=z_(o)?[o.playbackRate]:cp(o)?Array.from(o.parameters.values()):W_(o)?[o.Q,o.detune,o.frequency,o.gain]:q_(o)?[o.offset]:B_(o)?[o.gain]:U_(o)?[o.detune,o.frequency]:G_(o)?[o.pan]:[];for(const l of i){const u=Ui(l);u!==void 0&&u.activeInputs.forEach(([d])=>oc(d,e))}qn(o)&&Bi(o)},dp=o=>{oc(o.destination,[])},$_=o=>o===void 0||typeof o=="number"||typeof o=="string"&&(o==="balanced"||o==="interactive"||o==="playback"),H_=(o,e,s,i,l,u,d,f,p)=>class extends o{constructor(_={}){if(p===null)throw new Error("Missing the native AudioContext constructor.");let v;try{v=new p(_)}catch(w){throw w.code===12&&w.message==="sampleRate is not in range"?s():w}if(v===null)throw i();if(!$_(_.latencyHint))throw new TypeError(`The provided value '${_.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(_.sampleRate!==void 0&&v.sampleRate!==_.sampleRate)throw s();super(v,2);const{latencyHint:y}=_,{sampleRate:k}=v;if(this._baseLatency=typeof v.baseLatency=="number"?v.baseLatency:y==="balanced"?512/k:y==="interactive"||y===void 0?256/k:y==="playback"?1024/k:Math.max(2,Math.min(128,Math.round(y*k/128)))*128/k,this._nativeAudioContext=v,p.name==="webkitAudioContext"?(this._nativeGainNode=v.createGain(),this._nativeOscillatorNode=v.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(v.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,v.state==="running"){this._state="suspended";const w=()=>{this._state==="suspended"&&(this._state=null),v.removeEventListener("statechange",w)};v.addEventListener("statechange",w)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),dp(this)}))}createMediaElementSource(_){return new l(this,{mediaElement:_})}createMediaStreamDestination(){return new u(this)}createMediaStreamSource(_){return new d(this,{mediaStream:_})}createMediaStreamTrackSource(_){return new f(this,{mediaStreamTrack:_})}resume(){return this._state==="suspended"?new Promise((_,v)=>{const y=()=>{this._nativeAudioContext.removeEventListener("statechange",y),this._nativeAudioContext.state==="running"?_():this.resume().then(_,v)};this._nativeAudioContext.addEventListener("statechange",y)}):this._nativeAudioContext.resume().catch(_=>{throw _===void 0||_.code===15?e():_})}suspend(){return this._nativeAudioContext.suspend().catch(_=>{throw _===void 0?e():_})}},Q_=(o,e,s,i,l,u,d,f)=>class extends o{constructor(m,_){const v=u(m),y=d(v),k=l(v,_,y),w=y?e(f):null;super(m,!1,k,w),this._isNodeOfNativeOfflineAudioContext=y,this._nativeAudioDestinationNode=k}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(m){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(m>this._nativeAudioDestinationNode.maxChannelCount)throw s();this._nativeAudioDestinationNode.channelCount=m}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(m){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=m}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Y_=o=>{const e=new WeakMap,s=async(i,l)=>{const u=l.destination;return e.set(l,u),await o(i,l,u),u};return{render(i,l){const u=e.get(l);return u!==void 0?Promise.resolve(u):s(i,l)}}},X_=(o,e,s,i,l,u,d,f)=>(p,m)=>{const _=m.listener,v=()=>{const N=new Float32Array(1),I=e(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),P=d(m);let D=!1,Y=[0,0,-1,0,1,0],W=[0,0,0];const U=()=>{if(D)return;D=!0;const le=i(m,256,9,0);le.onaudioprocess=({inputBuffer:G})=>{const Z=[u(G,N,0),u(G,N,1),u(G,N,2),u(G,N,3),u(G,N,4),u(G,N,5)];Z.some(($,B)=>$!==Y[B])&&(_.setOrientation(...Z),Y=Z);const j=[u(G,N,6),u(G,N,7),u(G,N,8)];j.some(($,B)=>$!==W[B])&&(_.setPosition(...j),W=j)},I.connect(le)},q=le=>G=>{G!==Y[le]&&(Y[le]=G,_.setOrientation(...Y))},te=le=>G=>{G!==W[le]&&(W[le]=G,_.setPosition(...W))},ne=(le,G,Z)=>{const j=s(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:G});j.connect(I,0,le),j.start(),Object.defineProperty(j.offset,"defaultValue",{get(){return G}});const $=o({context:p},P,j.offset,Nt,Ft);return f($,"value",B=>()=>B.call($),B=>C=>{try{B.call($,C)}catch(F){if(F.code!==9)throw F}U(),P&&Z(C)}),$.cancelAndHoldAtTime=(B=>P?()=>{throw l()}:(...C)=>{const F=B.apply($,C);return U(),F})($.cancelAndHoldAtTime),$.cancelScheduledValues=(B=>P?()=>{throw l()}:(...C)=>{const F=B.apply($,C);return U(),F})($.cancelScheduledValues),$.exponentialRampToValueAtTime=(B=>P?()=>{throw l()}:(...C)=>{const F=B.apply($,C);return U(),F})($.exponentialRampToValueAtTime),$.linearRampToValueAtTime=(B=>P?()=>{throw l()}:(...C)=>{const F=B.apply($,C);return U(),F})($.linearRampToValueAtTime),$.setTargetAtTime=(B=>P?()=>{throw l()}:(...C)=>{const F=B.apply($,C);return U(),F})($.setTargetAtTime),$.setValueAtTime=(B=>P?()=>{throw l()}:(...C)=>{const F=B.apply($,C);return U(),F})($.setValueAtTime),$.setValueCurveAtTime=(B=>P?()=>{throw l()}:(...C)=>{const F=B.apply($,C);return U(),F})($.setValueCurveAtTime),$};return{forwardX:ne(0,0,q(0)),forwardY:ne(1,0,q(1)),forwardZ:ne(2,-1,q(2)),positionX:ne(6,0,te(0)),positionY:ne(7,0,te(1)),positionZ:ne(8,0,te(2)),upX:ne(3,0,q(3)),upY:ne(4,1,q(4)),upZ:ne(5,0,q(5))}},{forwardX:y,forwardY:k,forwardZ:w,positionX:T,positionY:x,positionZ:O,upX:V,upY:L,upZ:z}=_.forwardX===void 0?v():_;return{get forwardX(){return y},get forwardY(){return k},get forwardZ(){return w},get positionX(){return T},get positionY(){return x},get positionZ(){return O},get upX(){return V},get upY(){return L},get upZ(){return z}}},Sa=o=>"context"in o,Gi=o=>Sa(o[0]),Hs=(o,e,s,i)=>{for(const l of o)if(s(l)){if(i)return!1;throw Error("The set contains at least one similar element.")}return o.add(e),!0},zf=(o,e,[s,i],l)=>{Hs(o,[e,s,i],u=>u[0]===e&&u[1]===s,l)},Wf=(o,[e,s,i],l)=>{const u=o.get(e);u===void 0?o.set(e,new Set([[s,i]])):Hs(u,[s,i],d=>d[0]===s,l)},Fr=o=>"inputs"in o,ka=(o,e,s,i)=>{if(Fr(e)){const l=e.inputs[i];return o.connect(l,s,0),[l,s,0]}return o.connect(e,s,i),[e,s,i]},fp=(o,e,s)=>{for(const i of o)if(i[0]===e&&i[1]===s)return o.delete(i),i;return null},Z_=(o,e,s)=>$a(o,i=>i[0]===e&&i[1]===s),pp=(o,e)=>{if(!qi(o).delete(e))throw new Error("Missing the expected event listener.")},mp=(o,e,s)=>{const i=dn(o,e),l=$a(i,u=>u[0]===s);return i.size===0&&o.delete(e),l},Ta=(o,e,s,i)=>{Fr(e)?o.disconnect(e.inputs[i],s,0):o.disconnect(e,s,i)},Be=o=>dn(cc,o),Ai=o=>dn(hc,o),Ws=o=>nc.has(o),ga=o=>!Nr.has(o),qf=(o,e)=>new Promise(s=>{if(e!==null)s(!0);else{const i=o.createScriptProcessor(256,1,1),l=o.createGain(),u=o.createBuffer(1,2,44100),d=u.getChannelData(0);d[0]=1,d[1]=1;const f=o.createBufferSource();f.buffer=u,f.loop=!0,f.connect(i).connect(o.destination),f.connect(l),f.disconnect(l),i.onaudioprocess=p=>{const m=p.inputBuffer.getChannelData(0);Array.prototype.some.call(m,_=>_===1)?s(!0):s(!1),f.stop(),i.onaudioprocess=null,f.disconnect(i),i.disconnect(o.destination)},f.start()}}),Zu=(o,e)=>{const s=new Map;for(const i of o)for(const l of i){const u=s.get(l);s.set(l,u===void 0?1:u+1)}s.forEach((i,l)=>e(l,i))},xa=o=>"context"in o,K_=o=>{const e=new Map;o.connect=(s=>(i,l=0,u=0)=>{const d=xa(i)?s(i,l,u):s(i,l),f=e.get(i);return f===void 0?e.set(i,[{input:u,output:l}]):f.every(p=>p.input!==u||p.output!==l)&&f.push({input:u,output:l}),d})(o.connect.bind(o)),o.disconnect=(s=>(i,l,u)=>{if(s.apply(o),i===void 0)e.clear();else if(typeof i=="number")for(const[d,f]of e){const p=f.filter(m=>m.output!==i);p.length===0?e.delete(d):e.set(d,p)}else if(e.has(i))if(l===void 0)e.delete(i);else{const d=e.get(i);if(d!==void 0){const f=d.filter(p=>p.output!==l&&(p.input!==u||u===void 0));f.length===0?e.delete(i):e.set(i,f)}}for(const[d,f]of e)f.forEach(p=>{xa(d)?o.connect(d,p.output,p.input):o.connect(d,p.output)})})(o.disconnect)},J_=(o,e,s,i)=>{const{activeInputs:l,passiveInputs:u}=Ui(e),{outputs:d}=At(o),f=qi(o),p=m=>{const _=Be(o),v=Ai(e);if(m){const y=mp(u,o,s);zf(l,o,y,!1),!i&&!Ws(o)&&_.connect(v,s)}else{const y=Z_(l,o,s);Wf(u,y,!1),!i&&!Ws(o)&&_.disconnect(v,s)}};return Hs(d,[e,s],m=>m[0]===e&&m[1]===s,!0)?(f.add(p),qn(o)?zf(l,o,[s,p],!0):Wf(u,[o,s,p],!0),!0):!1},ev=(o,e,s,i)=>{const{activeInputs:l,passiveInputs:u}=At(e),d=fp(l[i],o,s);return d===null?[up(u,o,s,i)[2],!1]:[d[2],!0]},tv=(o,e,s)=>{const{activeInputs:i,passiveInputs:l}=Ui(e),u=fp(i,o,s);return u===null?[mp(l,o,s)[1],!1]:[u[2],!0]},fc=(o,e,s,i,l)=>{const[u,d]=ev(o,s,i,l);if(u!==null&&(pp(o,u),d&&!e&&!Ws(o)&&Ta(Be(o),Be(s),i,l)),qn(s)){const{activeInputs:f}=At(s);ic(s,f)}},pc=(o,e,s,i)=>{const[l,u]=tv(o,s,i);l!==null&&(pp(o,l),u&&!e&&!Ws(o)&&Be(o).disconnect(Ai(s),i))},nv=(o,e)=>{const s=At(o),i=[];for(const l of s.outputs)Gi(l)?fc(o,e,...l):pc(o,e,...l),i.push(l[0]);return s.outputs.clear(),i},sv=(o,e,s)=>{const i=At(o),l=[];for(const u of i.outputs)u[1]===s&&(Gi(u)?fc(o,e,...u):pc(o,e,...u),l.push(u[0]),i.outputs.delete(u));return l},rv=(o,e,s,i,l)=>{const u=At(o);return Array.from(u.outputs).filter(d=>d[0]===s&&(i===void 0||d[1]===i)&&(l===void 0||d[2]===l)).map(d=>(Gi(d)?fc(o,e,...d):pc(o,e,...d),u.outputs.delete(d),d[0]))},iv=(o,e,s,i,l,u,d,f,p,m,_,v,y,k,w,T)=>class extends m{constructor(O,V,L,z){super(L),this._context=O,this._nativeAudioNode=L;const N=_(O);v(N)&&s(qf,()=>qf(N,T))!==!0&&K_(L),cc.set(this,L),ap.set(this,new Set),O.state!=="closed"&&V&&Ar(this),o(this,z,L)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(O){this._nativeAudioNode.channelCount=O}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(O){this._nativeAudioNode.channelCountMode=O}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(O){this._nativeAudioNode.channelInterpretation=O}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(O,V=0,L=0){if(V<0||V>=this._nativeAudioNode.numberOfOutputs)throw l();const z=_(this._context),N=w(z);if(y(O)||k(O))throw u();if(Sa(O)){const D=Be(O);try{const W=ka(this._nativeAudioNode,D,V,L),U=ga(this);(N||U)&&this._nativeAudioNode.disconnect(...W),this.context.state!=="closed"&&!U&&ga(O)&&Ar(O)}catch(W){throw W.code===12?u():W}if(e(this,O,V,L,N)){const W=p([this],O);Zu(W,i(N))}return O}const I=Ai(O);if(I.name==="playbackRate"&&I.maxValue===1024)throw d();try{this._nativeAudioNode.connect(I,V),(N||ga(this))&&this._nativeAudioNode.disconnect(I,V)}catch(D){throw D.code===12?u():D}if(J_(this,O,V,N)){const D=p([this],O);Zu(D,i(N))}}disconnect(O,V,L){let z;const N=_(this._context),I=w(N);if(O===void 0)z=nv(this,I);else if(typeof O=="number"){if(O<0||O>=this.numberOfOutputs)throw l();z=sv(this,I,O)}else{if(V!==void 0&&(V<0||V>=this.numberOfOutputs)||Sa(O)&&L!==void 0&&(L<0||L>=O.numberOfInputs))throw l();if(z=rv(this,I,O,V,L),z.length===0)throw u()}for(const P of z){const D=p([this],P);Zu(D,f)}}},ov=(o,e,s,i,l,u,d,f,p,m,_,v,y)=>(k,w,T,x=null,O=null)=>{const V=T.value,L=new g_(V),z=w?i(L):null,N={get defaultValue(){return V},get maxValue(){return x===null?T.maxValue:x},get minValue(){return O===null?T.minValue:O},get value(){return T.value},set value(I){T.value=I,N.setValueAtTime(I,k.context.currentTime)},cancelAndHoldAtTime(I){if(typeof T.cancelAndHoldAtTime=="function")z===null&&L.flush(k.context.currentTime),L.add(l(I)),T.cancelAndHoldAtTime(I);else{const P=Array.from(L).pop();z===null&&L.flush(k.context.currentTime),L.add(l(I));const D=Array.from(L).pop();T.cancelScheduledValues(I),P!==D&&D!==void 0&&(D.type==="exponentialRampToValue"?T.exponentialRampToValueAtTime(D.value,D.endTime):D.type==="linearRampToValue"?T.linearRampToValueAtTime(D.value,D.endTime):D.type==="setValue"?T.setValueAtTime(D.value,D.startTime):D.type==="setValueCurve"&&T.setValueCurveAtTime(D.values,D.startTime,D.duration))}return N},cancelScheduledValues(I){return z===null&&L.flush(k.context.currentTime),L.add(u(I)),T.cancelScheduledValues(I),N},exponentialRampToValueAtTime(I,P){if(I===0)throw new RangeError;if(!Number.isFinite(P)||P<0)throw new RangeError;const D=k.context.currentTime;return z===null&&L.flush(D),Array.from(L).length===0&&(L.add(m(V,D)),T.setValueAtTime(V,D)),L.add(d(I,P)),T.exponentialRampToValueAtTime(I,P),N},linearRampToValueAtTime(I,P){const D=k.context.currentTime;return z===null&&L.flush(D),Array.from(L).length===0&&(L.add(m(V,D)),T.setValueAtTime(V,D)),L.add(f(I,P)),T.linearRampToValueAtTime(I,P),N},setTargetAtTime(I,P,D){return z===null&&L.flush(k.context.currentTime),L.add(p(I,P,D)),T.setTargetAtTime(I,P,D),N},setValueAtTime(I,P){return z===null&&L.flush(k.context.currentTime),L.add(m(I,P)),T.setValueAtTime(I,P),N},setValueCurveAtTime(I,P,D){const Y=I instanceof Float32Array?I:new Float32Array(I);if(v!==null&&v.name==="webkitAudioContext"){const W=P+D,U=k.context.sampleRate,q=Math.ceil(P*U),te=Math.floor(W*U),ne=te-q,le=new Float32Array(ne);for(let Z=0;Z<ne;Z+=1){const j=(Y.length-1)/D*((q+Z)/U-P),$=Math.floor(j),B=Math.ceil(j);le[Z]=$===B?Y[$]:(1-(j-$))*Y[$]+(1-(B-j))*Y[B]}z===null&&L.flush(k.context.currentTime),L.add(_(le,P,D)),T.setValueCurveAtTime(le,P,D);const G=te/U;G<W&&y(N,le[le.length-1],G),y(N,Y[Y.length-1],W)}else z===null&&L.flush(k.context.currentTime),L.add(_(Y,P,D)),T.setValueCurveAtTime(Y,P,D);return N}};return s.set(N,T),e.set(N,k),o(N,z),N},av=o=>({replay(e){for(const s of o)if(s.type==="exponentialRampToValue"){const{endTime:i,value:l}=s;e.exponentialRampToValueAtTime(l,i)}else if(s.type==="linearRampToValue"){const{endTime:i,value:l}=s;e.linearRampToValueAtTime(l,i)}else if(s.type==="setTarget"){const{startTime:i,target:l,timeConstant:u}=s;e.setTargetAtTime(l,i,u)}else if(s.type==="setValue"){const{startTime:i,value:l}=s;e.setValueAtTime(l,i)}else if(s.type==="setValueCurve"){const{duration:i,startTime:l,values:u}=s;e.setValueCurveAtTime(u,l,i)}else throw new Error("Can't apply an unknown automation.")}});class gp{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,s=null){return this._map.forEach((i,l)=>e.call(s,i,l,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const lv={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},uv=(o,e,s,i,l,u,d,f,p,m,_,v,y,k)=>class extends e{constructor(T,x,O){var V;const L=f(T),z=p(L),N=_({...lv,...O});y(N);const I=sc.get(L),P=I==null?void 0:I.get(x),D=z||L.state!=="closed"?L:(V=d(L))!==null&&V!==void 0?V:L,Y=l(D,z?null:T.baseLatency,m,x,P,N),W=z?i(x,N,P):null;super(T,!0,Y,W);const U=[];Y.parameters.forEach((te,ne)=>{const le=s(this,z,te);U.push([ne,le])}),this._nativeAudioWorkletNode=Y,this._onprocessorerror=null,this._parameters=new gp(U),z&&o(L,this);const{activeInputs:q}=u(this);v(Y,q)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(T){const x=typeof T=="function"?k(this,T):null;this._nativeAudioWorkletNode.onprocessorerror=x;const O=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=O!==null&&O===x?T:O}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Ca(o,e,s,i,l){if(typeof o.copyFromChannel=="function")e[s].byteLength===0&&(e[s]=new Float32Array(128)),o.copyFromChannel(e[s],i,l);else{const u=o.getChannelData(i);if(e[s].byteLength===0)e[s]=u.slice(l,l+128);else{const d=new Float32Array(u.buffer,l*Float32Array.BYTES_PER_ELEMENT,128);e[s].set(d)}}}const _p=(o,e,s,i,l)=>{typeof o.copyToChannel=="function"?e[s].byteLength!==0&&o.copyToChannel(e[s],i,l):e[s].byteLength!==0&&o.getChannelData(i).set(e[s],l)},Ea=(o,e)=>{const s=[];for(let i=0;i<o;i+=1){const l=[],u=typeof e=="number"?e:e[i];for(let d=0;d<u;d+=1)l.push(new Float32Array(128));s.push(l)}return s},cv=(o,e)=>{const s=dn(rc,o),i=Be(e);return dn(s,i)},hv=async(o,e,s,i,l,u,d)=>{const f=e===null?Math.ceil(o.context.length/128)*128:e.length,p=i.channelCount*i.numberOfInputs,m=l.reduce((x,O)=>x+O,0),_=m===0?null:s.createBuffer(m,f,s.sampleRate);if(u===void 0)throw new Error("Missing the processor constructor.");const v=At(o),y=await cv(s,o),k=Ea(i.numberOfInputs,i.channelCount),w=Ea(i.numberOfOutputs,l),T=Array.from(o.parameters.keys()).reduce((x,O)=>({...x,[O]:new Float32Array(128)}),{});for(let x=0;x<f;x+=128){if(i.numberOfInputs>0&&e!==null)for(let O=0;O<i.numberOfInputs;O+=1)for(let V=0;V<i.channelCount;V+=1)Ca(e,k[O],V,V,x);u.parameterDescriptors!==void 0&&e!==null&&u.parameterDescriptors.forEach(({name:O},V)=>{Ca(e,T,O,p+V,x)});for(let O=0;O<i.numberOfInputs;O+=1)for(let V=0;V<l[O];V+=1)w[O][V].byteLength===0&&(w[O][V]=new Float32Array(128));try{const O=k.map((L,z)=>v.activeInputs[z].size===0?[]:L),V=d(x/s.sampleRate,s.sampleRate,()=>y.process(O,w,T));if(_!==null)for(let L=0,z=0;L<i.numberOfOutputs;L+=1){for(let N=0;N<l[L];N+=1)_p(_,w[L],N,z+N,x);z+=l[L]}if(!V)break}catch(O){o.dispatchEvent(new ErrorEvent("processorerror",{colno:O.colno,filename:O.filename,lineno:O.lineno,message:O.message}));break}}return _},dv=(o,e,s,i,l,u,d,f,p,m,_,v,y,k,w,T)=>(x,O,V)=>{const L=new WeakMap;let z=null;const N=async(I,P)=>{let D=_(I),Y=null;const W=xt(D,P),U=Array.isArray(O.outputChannelCount)?O.outputChannelCount:Array.from(O.outputChannelCount);if(v===null){const q=U.reduce((G,Z)=>G+Z,0),te=l(P,{channelCount:Math.max(1,q),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,q)}),ne=[];for(let G=0;G<I.numberOfOutputs;G+=1)ne.push(i(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:U[G]}));const le=d(P,{channelCount:O.channelCount,channelCountMode:O.channelCountMode,channelInterpretation:O.channelInterpretation,gain:1});le.connect=e.bind(null,ne),le.disconnect=p.bind(null,ne),Y=[te,ne,le]}else W||(D=new v(P,x));if(L.set(P,Y===null?D:Y[2]),Y!==null){if(z===null){if(V===void 0)throw new Error("Missing the processor constructor.");if(y===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Z=I.channelCount*I.numberOfInputs,j=V.parameterDescriptors===void 0?0:V.parameterDescriptors.length,$=Z+j;z=hv(I,$===0?null:await(async()=>{const C=new y($,Math.ceil(I.context.length/128)*128,P.sampleRate),F=[],de=[];for(let he=0;he<O.numberOfInputs;he+=1)F.push(d(C,{channelCount:O.channelCount,channelCountMode:O.channelCountMode,channelInterpretation:O.channelInterpretation,gain:1})),de.push(l(C,{channelCount:O.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:O.channelCount}));const fe=await Promise.all(Array.from(I.parameters.values()).map(async he=>{const we=u(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:he.value});return await k(C,he,we.offset),we})),se=i(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Z+j)});for(let he=0;he<O.numberOfInputs;he+=1){F[he].connect(de[he]);for(let we=0;we<O.channelCount;we+=1)de[he].connect(se,we,he*O.channelCount+we)}for(const[he,we]of fe.entries())we.connect(se,0,Z+he),we.start(0);return se.connect(C.destination),await Promise.all(F.map(he=>w(I,C,he))),T(C)})(),P,O,U,V,m)}const q=await z,te=s(P,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[ne,le,G]=Y;q!==null&&(te.buffer=q,te.start(0)),te.connect(ne);for(let Z=0,j=0;Z<I.numberOfOutputs;Z+=1){const $=le[Z];for(let B=0;B<U[Z];B+=1)ne.connect($,j+B,B);j+=U[Z]}return G}if(W)for(const[q,te]of I.parameters.entries())await o(P,te,D.parameters.get(q));else for(const[q,te]of I.parameters.entries())await k(P,te,D.parameters.get(q));return await w(I,P,D),D};return{render(I,P){f(P,I);const D=L.get(P);return D!==void 0?Promise.resolve(D):N(I,P)}}},fv=(o,e,s,i,l,u,d,f,p,m,_,v,y,k,w,T,x,O,V,L)=>class extends w{constructor(N,I){super(N,I),this._nativeContext=N,this._audioWorklet=o===void 0?void 0:{addModule:(P,D)=>o(this,P,D)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new l(this)}createBuffer(N,I,P){return new s({length:I,numberOfChannels:N,sampleRate:P})}createBufferSource(){return new i(this)}createChannelMerger(N=6){return new u(this,{numberOfInputs:N})}createChannelSplitter(N=6){return new d(this,{numberOfOutputs:N})}createConstantSource(){return new f(this)}createConvolver(){return new p(this)}createDelay(N=1){return new _(this,{maxDelayTime:N})}createDynamicsCompressor(){return new v(this)}createGain(){return new y(this)}createIIRFilter(N,I){return new k(this,{feedback:I,feedforward:N})}createOscillator(){return new T(this)}createPanner(){return new x(this)}createPeriodicWave(N,I,P={disableNormalization:!1}){return new O(this,{...P,imag:I,real:N})}createStereoPanner(){return new V(this)}createWaveShaper(){return new L(this)}decodeAudioData(N,I,P){return m(this._nativeContext,N).then(D=>(typeof I=="function"&&I(D),D),D=>{throw typeof P=="function"&&P(D),D})}},pv={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},mv=(o,e,s,i,l,u,d,f)=>class extends o{constructor(m,_){const v=u(m),y={...pv,..._},k=l(v,y),w=d(v),T=w?s():null;super(m,!1,k,T),this._Q=e(this,w,k.Q,Nt,Ft),this._detune=e(this,w,k.detune,1200*Math.log2(Nt),-1200*Math.log2(Nt)),this._frequency=e(this,w,k.frequency,m.sampleRate/2,0),this._gain=e(this,w,k.gain,40*Math.log10(Nt),Ft),this._nativeBiquadFilterNode=k,f(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(m){this._nativeBiquadFilterNode.type=m}getFrequencyResponse(m,_,v){try{this._nativeBiquadFilterNode.getFrequencyResponse(m,_,v)}catch(y){throw y.code===11?i():y}if(m.length!==_.length||_.length!==v.length)throw i()}},gv=(o,e,s,i,l)=>()=>{const u=new WeakMap,d=async(f,p)=>{let m=s(f);const _=xt(m,p);if(!_){const v={Q:m.Q.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,gain:m.gain.value,type:m.type};m=e(p,v)}return u.set(p,m),_?(await o(p,f.Q,m.Q),await o(p,f.detune,m.detune),await o(p,f.frequency,m.frequency),await o(p,f.gain,m.gain)):(await i(p,f.Q,m.Q),await i(p,f.detune,m.detune),await i(p,f.frequency,m.frequency),await i(p,f.gain,m.gain)),await l(f,p,m),m};return{render(f,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):d(f,p)}}},_v=(o,e)=>(s,i)=>{const l=e.get(s);if(l!==void 0)return l;const u=o.get(s);if(u!==void 0)return u;try{const d=i();return d instanceof Promise?(o.set(s,d),d.catch(()=>!1).then(f=>(o.delete(s),e.set(s,f),f))):(e.set(s,d),d)}catch{return e.set(s,!1),!1}},vv={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},yv=(o,e,s,i,l)=>class extends o{constructor(d,f){const p=i(d),m={...vv,...f},_=s(p,m),v=l(p)?e():null;super(d,!1,_,v)}},wv=(o,e,s)=>()=>{const i=new WeakMap,l=async(u,d)=>{let f=e(u);if(!xt(f,d)){const m={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,numberOfInputs:f.numberOfInputs};f=o(d,m)}return i.set(d,f),await s(u,d,f),f};return{render(u,d){const f=i.get(d);return f!==void 0?Promise.resolve(f):l(u,d)}}},Sv={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},kv=(o,e,s,i,l,u)=>class extends o{constructor(f,p){const m=i(f),_=u({...Sv,...p}),v=s(m,_),y=l(m)?e():null;super(f,!1,v,y)}},Tv=(o,e,s)=>()=>{const i=new WeakMap,l=async(u,d)=>{let f=e(u);if(!xt(f,d)){const m={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,numberOfOutputs:f.numberOfOutputs};f=o(d,m)}return i.set(d,f),await s(u,d,f),f};return{render(u,d){const f=i.get(d);return f!==void 0?Promise.resolve(f):l(u,d)}}},xv=o=>(e,s,i)=>o(s,e,i),Cv=o=>(e,s,i=0,l=0)=>{const u=e[i];if(u===void 0)throw o();return xa(s)?u.connect(s,0,l):u.connect(s,0)},Ev=o=>(e,s)=>{const i=o(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=e.createBuffer(1,2,44100);return i.buffer=l,i.loop=!0,i.connect(s),i.start(),()=>{i.stop(),i.disconnect(s)}},Nv={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Av=(o,e,s,i,l,u,d)=>class extends o{constructor(p,m){const _=l(p),v={...Nv,...m},y=i(_,v),k=u(_),w=k?s():null;super(p,!1,y,w),this._constantSourceNodeRenderer=w,this._nativeConstantSourceNode=y,this._offset=e(this,k,y.offset,Nt,Ft),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?d(this,p):null;this._nativeConstantSourceNode.onended=m;const _=this._nativeConstantSourceNode.onended;this._onended=_!==null&&_===m?p:_}start(p=0){if(this._nativeConstantSourceNode.start(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=p),this.context.state!=="closed"){Ar(this);const m=()=>{this._nativeConstantSourceNode.removeEventListener("ended",m),qn(this)&&Bi(this)};this._nativeConstantSourceNode.addEventListener("ended",m)}}stop(p=0){this._nativeConstantSourceNode.stop(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=p)}},Ov=(o,e,s,i,l)=>()=>{const u=new WeakMap;let d=null,f=null;const p=async(m,_)=>{let v=s(m);const y=xt(v,_);if(!y){const k={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,offset:v.offset.value};v=e(_,k),d!==null&&v.start(d),f!==null&&v.stop(f)}return u.set(_,v),y?await o(_,m.offset,v.offset):await i(_,m.offset,v.offset),await l(m,_,v),v};return{set start(m){d=m},set stop(m){f=m},render(m,_){const v=u.get(_);return v!==void 0?Promise.resolve(v):p(m,_)}}},Dv=o=>e=>(o[0]=e,o[0]),Rv={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Iv=(o,e,s,i,l,u)=>class extends o{constructor(f,p){const m=i(f),_={...Rv,...p},v=s(m,_),k=l(m)?e():null;super(f,!1,v,k),this._isBufferNullified=!1,this._nativeConvolverNode=v,_.buffer!==null&&u(this,_.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(f){if(this._nativeConvolverNode.buffer=f,f===null&&this._nativeConvolverNode.buffer!==null){const p=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=p.createBuffer(1,1,p.sampleRate),this._isBufferNullified=!0,u(this,0)}else this._isBufferNullified=!1,u(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(f){this._nativeConvolverNode.normalize=f}},Mv=(o,e,s)=>()=>{const i=new WeakMap,l=async(u,d)=>{let f=e(u);if(!xt(f,d)){const m={buffer:f.buffer,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,disableNormalization:!f.normalize};f=o(d,m)}return i.set(d,f),Fr(f)?await s(u,d,f.inputs[0]):await s(u,d,f),f};return{render(u,d){const f=i.get(d);return f!==void 0?Promise.resolve(f):l(u,d)}}},Pv=(o,e)=>(s,i,l)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(s,i,l)}catch(u){throw u.name==="SyntaxError"?o():u}},bv=()=>new DOMException("","DataCloneError"),Bf=o=>{const{port1:e,port2:s}=new MessageChannel;return new Promise(i=>{const l=()=>{s.onmessage=null,e.close(),s.close(),i()};s.onmessage=()=>l();try{e.postMessage(o,[o])}catch{}finally{l()}})},Fv=(o,e,s,i,l,u,d,f,p,m,_)=>(v,y)=>{const k=d(v)?v:u(v);if(l.has(y)){const w=s();return Promise.reject(w)}try{l.add(y)}catch{}return e(p,()=>p(k))?k.decodeAudioData(y).then(w=>(Bf(y).catch(()=>{}),e(f,()=>f(w))||_(w),o.add(w),w)):new Promise((w,T)=>{const x=async()=>{try{await Bf(y)}catch{}},O=V=>{T(V),x()};try{k.decodeAudioData(y,V=>{typeof V.copyFromChannel!="function"&&(m(V),dc(V)),o.add(V),x().then(()=>w(V))},V=>{O(V===null?i():V)})}catch(V){O(V)}})},Vv=(o,e,s,i,l,u,d,f)=>(p,m)=>{const _=e.get(p);if(_===void 0)throw new Error("Missing the expected cycle count.");const v=u(p.context),y=f(v);if(_===m){if(e.delete(p),!y&&d(p)){const k=i(p),{outputs:w}=s(p);for(const T of w)if(Gi(T)){const x=i(T[0]);o(k,x,T[1],T[2])}else{const x=l(T[0]);k.connect(x,T[1])}}}else e.set(p,_-m)},Lv={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},jv=(o,e,s,i,l,u,d)=>class extends o{constructor(p,m){const _=l(p),v={...Lv,...m},y=i(_,v),k=u(_),w=k?s(v.maxDelayTime):null;super(p,!1,y,w),this._delayTime=e(this,k,y.delayTime),d(this,v.maxDelayTime)}get delayTime(){return this._delayTime}},zv=(o,e,s,i,l)=>u=>{const d=new WeakMap,f=async(p,m)=>{let _=s(p);const v=xt(_,m);if(!v){const y={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,delayTime:_.delayTime.value,maxDelayTime:u};_=e(m,y)}return d.set(m,_),v?await o(m,p.delayTime,_.delayTime):await i(m,p.delayTime,_.delayTime),await l(p,m,_),_};return{render(p,m){const _=d.get(m);return _!==void 0?Promise.resolve(_):f(p,m)}}},Wv=o=>(e,s,i,l)=>o(e[l],u=>u[0]===s&&u[1]===i),qv=o=>(e,s)=>{o(e).delete(s)},Bv=o=>"delayTime"in o,Uv=(o,e,s)=>function i(l,u){const d=Sa(u)?u:s(o,u);if(Bv(d))return[];if(l[0]===d)return[l];if(l.includes(d))return[];const{outputs:f}=e(d);return Array.from(f).map(p=>i([...l,d],p[0])).reduce((p,m)=>p.concat(m),[])},da=(o,e,s)=>{const i=e[s];if(i===void 0)throw o();return i},Gv=o=>(e,s=void 0,i=void 0,l=0)=>s===void 0?e.forEach(u=>u.disconnect()):typeof s=="number"?da(o,e,s).disconnect():xa(s)?i===void 0?e.forEach(u=>u.disconnect(s)):l===void 0?da(o,e,i).disconnect(s,0):da(o,e,i).disconnect(s,0,l):i===void 0?e.forEach(u=>u.disconnect(s)):da(o,e,i).disconnect(s,0),$v={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Hv=(o,e,s,i,l,u,d,f)=>class extends o{constructor(m,_){const v=u(m),y={...$v,..._},k=i(v,y),w=d(v),T=w?s():null;super(m,!1,k,T),this._attack=e(this,w,k.attack),this._knee=e(this,w,k.knee),this._nativeDynamicsCompressorNode=k,this._ratio=e(this,w,k.ratio),this._release=e(this,w,k.release),this._threshold=e(this,w,k.threshold),f(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(m){const _=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=m,m>2)throw this._nativeDynamicsCompressorNode.channelCount=_,l()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(m){const _=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=m,m==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=_,l()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Qv=(o,e,s,i,l)=>()=>{const u=new WeakMap,d=async(f,p)=>{let m=s(f);const _=xt(m,p);if(!_){const v={attack:m.attack.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,knee:m.knee.value,ratio:m.ratio.value,release:m.release.value,threshold:m.threshold.value};m=e(p,v)}return u.set(p,m),_?(await o(p,f.attack,m.attack),await o(p,f.knee,m.knee),await o(p,f.ratio,m.ratio),await o(p,f.release,m.release),await o(p,f.threshold,m.threshold)):(await i(p,f.attack,m.attack),await i(p,f.knee,m.knee),await i(p,f.ratio,m.ratio),await i(p,f.release,m.release),await i(p,f.threshold,m.threshold)),await l(f,p,m),m};return{render(f,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):d(f,p)}}},Yv=()=>new DOMException("","EncodingError"),Xv=o=>e=>new Promise((s,i)=>{if(o===null){i(new SyntaxError);return}const l=o.document.head;if(l===null)i(new SyntaxError);else{const u=o.document.createElement("script"),d=new Blob([e],{type:"application/javascript"}),f=URL.createObjectURL(d),p=o.onerror,m=()=>{o.onerror=p,URL.revokeObjectURL(f)};o.onerror=(_,v,y,k,w)=>{if(v===f||v===o.location.href&&y===1&&k===1)return m(),i(w),!1;if(p!==null)return p(_,v,y,k,w)},u.onerror=()=>{m(),i(new SyntaxError)},u.onload=()=>{m(),s()},u.src=f,u.type="module",l.appendChild(u)}}),Zv=o=>class{constructor(s){this._nativeEventTarget=s,this._listeners=new WeakMap}addEventListener(s,i,l){if(i!==null){let u=this._listeners.get(i);u===void 0&&(u=o(this,i),typeof i=="function"&&this._listeners.set(i,u)),this._nativeEventTarget.addEventListener(s,u,l)}}dispatchEvent(s){return this._nativeEventTarget.dispatchEvent(s)}removeEventListener(s,i,l){const u=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(s,u===void 0?null:u,l)}},Kv=o=>(e,s,i)=>{Object.defineProperties(o,{currentFrame:{configurable:!0,get(){return Math.round(e*s)}},currentTime:{configurable:!0,get(){return e}}});try{return i()}finally{o!==null&&(delete o.currentFrame,delete o.currentTime)}},Jv=o=>async e=>{try{const s=await fetch(e);if(s.ok)return[await s.text(),s.url]}catch{}throw o()},ey={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},ty=(o,e,s,i,l,u)=>class extends o{constructor(f,p){const m=l(f),_={...ey,...p},v=i(m,_),y=u(m),k=y?s():null;super(f,!1,v,k),this._gain=e(this,y,v.gain,Nt,Ft)}get gain(){return this._gain}},ny=(o,e,s,i,l)=>()=>{const u=new WeakMap,d=async(f,p)=>{let m=s(f);const _=xt(m,p);if(!_){const v={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:m.gain.value};m=e(p,v)}return u.set(p,m),_?await o(p,f.gain,m.gain):await i(p,f.gain,m.gain),await l(f,p,m),m};return{render(f,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):d(f,p)}}},sy=(o,e)=>s=>e(o,s),ry=o=>e=>{const s=o(e);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return s.renderer},iy=o=>e=>{var s;return(s=o.get(e))!==null&&s!==void 0?s:0},oy=o=>e=>{const s=o(e);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return s.renderer},ay=o=>e=>o.get(e),ft=()=>new DOMException("","InvalidStateError"),ly=o=>e=>{const s=o.get(e);if(s===void 0)throw ft();return s},uy=(o,e)=>s=>{let i=o.get(s);if(i!==void 0)return i;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),o.set(s,i),i},cy=o=>e=>{const s=o.get(e);if(s===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return s},Ha=()=>new DOMException("","InvalidAccessError"),hy=o=>{o.getFrequencyResponse=(e=>(s,i,l)=>{if(s.length!==i.length||i.length!==l.length)throw Ha();return e.call(o,s,i,l)})(o.getFrequencyResponse)},dy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},fy=(o,e,s,i,l,u)=>class extends o{constructor(f,p){const m=i(f),_=l(m),v={...dy,...p},y=e(m,_?null:f.baseLatency,v),k=_?s(v.feedback,v.feedforward):null;super(f,!1,y,k),hy(y),this._nativeIIRFilterNode=y,u(this,1)}getFrequencyResponse(f,p,m){return this._nativeIIRFilterNode.getFrequencyResponse(f,p,m)}},vp=(o,e,s,i,l,u,d,f,p,m,_)=>{const v=m.length;let y=f;for(let k=0;k<v;k+=1){let w=s[0]*m[k];for(let T=1;T<l;T+=1){const x=y-T&p-1;w+=s[T]*u[x],w-=o[T]*d[x]}for(let T=l;T<i;T+=1)w+=s[T]*u[y-T&p-1];for(let T=l;T<e;T+=1)w-=o[T]*d[y-T&p-1];u[y]=m[k],d[y]=w,y=y+1&p-1,_[k]=w}return y},py=(o,e,s,i)=>{const l=s instanceof Float64Array?s:new Float64Array(s),u=i instanceof Float64Array?i:new Float64Array(i),d=l.length,f=u.length,p=Math.min(d,f);if(l[0]!==1){for(let w=0;w<d;w+=1)u[w]/=l[0];for(let w=1;w<f;w+=1)l[w]/=l[0]}const m=32,_=new Float32Array(m),v=new Float32Array(m),y=e.createBuffer(o.numberOfChannels,o.length,o.sampleRate),k=o.numberOfChannels;for(let w=0;w<k;w+=1){const T=o.getChannelData(w),x=y.getChannelData(w);_.fill(0),v.fill(0),vp(l,d,u,f,p,_,v,0,m,T,x)}return y},my=(o,e,s,i,l)=>(u,d)=>{const f=new WeakMap;let p=null;const m=async(_,v)=>{let y=null,k=e(_);const w=xt(k,v);if(v.createIIRFilter===void 0?y=o(v,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):w||(k=v.createIIRFilter(d,u)),f.set(v,y===null?k:y),y!==null){if(p===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const x=new s(_.context.destination.channelCount,_.context.length,v.sampleRate);p=(async()=>{await i(_,x,x.destination);const O=await l(x);return py(O,v,u,d)})()}const T=await p;return y.buffer=T,y.start(0),y}return await i(_,v,k),k};return{render(_,v){const y=f.get(v);return y!==void 0?Promise.resolve(y):m(_,v)}}},gy=(o,e,s,i,l,u)=>d=>(f,p)=>{const m=o.get(f);if(m===void 0){if(!d&&u(f)){const _=i(f),{outputs:v}=s(f);for(const y of v)if(Gi(y)){const k=i(y[0]);e(_,k,y[1],y[2])}else{const k=l(y[0]);_.disconnect(k,y[1])}}o.set(f,p)}else o.set(f,m+p)},_y=(o,e)=>s=>{const i=o.get(s);return e(i)||e(s)},vy=(o,e)=>s=>o.has(s)||e(s),yy=(o,e)=>s=>o.has(s)||e(s),wy=(o,e)=>s=>{const i=o.get(s);return e(i)||e(s)},Sy=o=>e=>o!==null&&e instanceof o,ky=o=>e=>o!==null&&typeof o.AudioNode=="function"&&e instanceof o.AudioNode,Ty=o=>e=>o!==null&&typeof o.AudioParam=="function"&&e instanceof o.AudioParam,xy=(o,e)=>s=>o(s)||e(s),Cy=o=>e=>o!==null&&e instanceof o,Ey=o=>o!==null&&o.isSecureContext,Ny=(o,e,s,i)=>class extends o{constructor(u,d){const f=s(u),p=e(f,d);if(i(f))throw TypeError();super(u,!0,p,null),this._nativeMediaElementAudioSourceNode=p}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},Ay={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Oy=(o,e,s,i)=>class extends o{constructor(u,d){const f=s(u);if(i(f))throw new TypeError;const p={...Ay,...d},m=e(f,p);super(u,!1,m,null),this._nativeMediaStreamAudioDestinationNode=m}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Dy=(o,e,s,i)=>class extends o{constructor(u,d){const f=s(u),p=e(f,d);if(i(f))throw new TypeError;super(u,!0,p,null),this._nativeMediaStreamAudioSourceNode=p}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},Ry=(o,e,s)=>class extends o{constructor(l,u){const d=s(l),f=e(d,u);super(l,!0,f,null)}},Iy=(o,e,s,i,l,u)=>class extends s{constructor(f,p){super(f),this._nativeContext=f,Ga.set(this,f),i(f)&&l.set(f,new Set),this._destination=new o(this,p),this._listener=e(this,f),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(f){const p=typeof f=="function"?u(this,f):null;this._nativeContext.onstatechange=p;const m=this._nativeContext.onstatechange;this._onstatechange=m!==null&&m===p?f:m}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Oi=o=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const s=o.decodeAudioData(e.buffer,()=>{});return s===void 0?!1:(s.catch(()=>{}),!0)}catch{}return!1},My=(o,e)=>(s,i,l)=>{const u=new Set;return s.connect=(d=>(f,p=0,m=0)=>{const _=u.size===0;if(e(f))return d.call(s,f,p,m),o(u,[f,p,m],v=>v[0]===f&&v[1]===p&&v[2]===m,!0),_&&i(),f;d.call(s,f,p),o(u,[f,p],v=>v[0]===f&&v[1]===p,!0),_&&i()})(s.connect),s.disconnect=(d=>(f,p,m)=>{const _=u.size>0;if(f===void 0)d.apply(s),u.clear();else if(typeof f=="number"){d.call(s,f);for(const y of u)y[1]===f&&u.delete(y)}else{e(f)?d.call(s,f,p,m):d.call(s,f,p);for(const y of u)y[0]===f&&(p===void 0||y[1]===p)&&(m===void 0||y[2]===m)&&u.delete(y)}const v=u.size===0;_&&v&&l()})(s.disconnect),s},$e=(o,e,s)=>{const i=e[s];i!==void 0&&i!==o[s]&&(o[s]=i)},ut=(o,e)=>{$e(o,e,"channelCount"),$e(o,e,"channelCountMode"),$e(o,e,"channelInterpretation")},Uf=o=>typeof o.getFloatTimeDomainData=="function",Py=o=>{o.getFloatTimeDomainData=e=>{const s=new Uint8Array(e.length);o.getByteTimeDomainData(s);const i=Math.max(s.length,o.fftSize);for(let l=0;l<i;l+=1)e[l]=(s[l]-128)*.0078125;return e}},by=(o,e)=>(s,i)=>{const l=s.createAnalyser();if(ut(l,i),!(i.maxDecibels>i.minDecibels))throw e();return $e(l,i,"fftSize"),$e(l,i,"maxDecibels"),$e(l,i,"minDecibels"),$e(l,i,"smoothingTimeConstant"),o(Uf,()=>Uf(l))||Py(l),l},Fy=o=>o===null?null:o.hasOwnProperty("AudioBuffer")?o.AudioBuffer:null,Ke=(o,e,s)=>{const i=e[s];i!==void 0&&i!==o[s].value&&(o[s].value=i)},Vy=o=>{o.start=(e=>{let s=!1;return(i=0,l=0,u)=>{if(s)throw ft();e.call(o,i,l,u),s=!0}})(o.start)},mc=o=>{o.start=(e=>(s=0,i=0,l)=>{if(typeof l=="number"&&l<0||i<0||s<0)throw new RangeError("The parameters can't be negative.");e.call(o,s,i,l)})(o.start)},gc=o=>{o.stop=(e=>(s=0)=>{if(s<0)throw new RangeError("The parameter can't be negative.");e.call(o,s)})(o.stop)},Ly=(o,e,s,i,l,u,d,f,p,m,_)=>(v,y)=>{const k=v.createBufferSource();return ut(k,y),Ke(k,y,"playbackRate"),$e(k,y,"buffer"),$e(k,y,"loop"),$e(k,y,"loopEnd"),$e(k,y,"loopStart"),e(s,()=>s(v))||Vy(k),e(i,()=>i(v))||p(k),e(l,()=>l(v))||m(k,v),e(u,()=>u(v))||mc(k),e(d,()=>d(v))||_(k,v),e(f,()=>f(v))||gc(k),o(v,k),k},jy=o=>o===null?null:o.hasOwnProperty("AudioContext")?o.AudioContext:o.hasOwnProperty("webkitAudioContext")?o.webkitAudioContext:null,zy=(o,e)=>(s,i,l)=>{const u=s.destination;if(u.channelCount!==i)try{u.channelCount=i}catch{}l&&u.channelCountMode!=="explicit"&&(u.channelCountMode="explicit"),u.maxChannelCount===0&&Object.defineProperty(u,"maxChannelCount",{value:i});const d=o(s,{channelCount:i,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:1});return e(d,"channelCount",f=>()=>f.call(d),f=>p=>{f.call(d,p);try{u.channelCount=p}catch(m){if(p>u.maxChannelCount)throw m}}),e(d,"channelCountMode",f=>()=>f.call(d),f=>p=>{f.call(d,p),u.channelCountMode=p}),e(d,"channelInterpretation",f=>()=>f.call(d),f=>p=>{f.call(d,p),u.channelInterpretation=p}),Object.defineProperty(d,"maxChannelCount",{get:()=>u.maxChannelCount}),d.connect(u),d},Wy=o=>o===null?null:o.hasOwnProperty("AudioWorkletNode")?o.AudioWorkletNode:null,qy=o=>{const{port1:e}=new MessageChannel;try{e.postMessage(o)}finally{e.close()}},By=(o,e,s,i,l)=>(u,d,f,p,m,_)=>{if(f!==null)try{const v=new f(u,p,_),y=new Map;let k=null;if(Object.defineProperties(v,{channelCount:{get:()=>_.channelCount,set:()=>{throw o()}},channelCountMode:{get:()=>"explicit",set:()=>{throw o()}},onprocessorerror:{get:()=>k,set:w=>{typeof k=="function"&&v.removeEventListener("processorerror",k),k=typeof w=="function"?w:null,typeof k=="function"&&v.addEventListener("processorerror",k)}}}),v.addEventListener=(w=>(...T)=>{if(T[0]==="processorerror"){const x=typeof T[1]=="function"?T[1]:typeof T[1]=="object"&&T[1]!==null&&typeof T[1].handleEvent=="function"?T[1].handleEvent:null;if(x!==null){const O=y.get(T[1]);O!==void 0?T[1]=O:(T[1]=V=>{V.type==="error"?(Object.defineProperties(V,{type:{value:"processorerror"}}),x(V)):x(new ErrorEvent(T[0],{...V}))},y.set(x,T[1]))}}return w.call(v,"error",T[1],T[2]),w.call(v,...T)})(v.addEventListener),v.removeEventListener=(w=>(...T)=>{if(T[0]==="processorerror"){const x=y.get(T[1]);x!==void 0&&(y.delete(T[1]),T[1]=x)}return w.call(v,"error",T[1],T[2]),w.call(v,T[0],T[1],T[2])})(v.removeEventListener),_.numberOfOutputs!==0){const w=s(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return v.connect(w).connect(u.destination),l(v,()=>w.disconnect(),()=>w.connect(u.destination))}return v}catch(v){throw v.code===11?i():v}if(m===void 0)throw i();return qy(_),e(u,d,m,_)},yp=(o,e)=>o===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(o*e))))),Uy=o=>new Promise((e,s)=>{const{port1:i,port2:l}=new MessageChannel;i.onmessage=({data:u})=>{i.close(),l.close(),e(u)},i.onmessageerror=({data:u})=>{i.close(),l.close(),s(u)},l.postMessage(o)}),Gy=async(o,e)=>{const s=await Uy(e);return new o(s)},$y=(o,e,s,i)=>{let l=rc.get(o);l===void 0&&(l=new WeakMap,rc.set(o,l));const u=Gy(s,i);return l.set(e,u),u},Hy=(o,e,s,i,l,u,d,f,p,m,_,v,y)=>(k,w,T,x)=>{if(x.numberOfInputs===0&&x.numberOfOutputs===0)throw p();const O=Array.isArray(x.outputChannelCount)?x.outputChannelCount:Array.from(x.outputChannelCount);if(O.some(re=>re<1))throw p();if(O.length!==x.numberOfOutputs)throw e();if(x.channelCountMode!=="explicit")throw p();const V=x.channelCount*x.numberOfInputs,L=O.reduce((re,ge)=>re+ge,0),z=T.parameterDescriptors===void 0?0:T.parameterDescriptors.length;if(V+z>6||L>6)throw p();const N=new MessageChannel,I=[],P=[];for(let re=0;re<x.numberOfInputs;re+=1)I.push(d(k,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1})),P.push(l(k,{channelCount:x.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:x.channelCount}));const D=[];if(T.parameterDescriptors!==void 0)for(const{defaultValue:re,maxValue:ge,minValue:He,name:Ve}of T.parameterDescriptors){const Ce=u(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:x.parameterData[Ve]!==void 0?x.parameterData[Ve]:re===void 0?0:re});Object.defineProperties(Ce.offset,{defaultValue:{get:()=>re===void 0?0:re},maxValue:{get:()=>ge===void 0?Nt:ge},minValue:{get:()=>He===void 0?Ft:He}}),D.push(Ce)}const Y=i(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,V+z)}),W=yp(w,k.sampleRate),U=f(k,W,V+z,Math.max(1,L)),q=l(k,{channelCount:Math.max(1,L),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,L)}),te=[];for(let re=0;re<x.numberOfOutputs;re+=1)te.push(i(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:O[re]}));for(let re=0;re<x.numberOfInputs;re+=1){I[re].connect(P[re]);for(let ge=0;ge<x.channelCount;ge+=1)P[re].connect(Y,ge,re*x.channelCount+ge)}const ne=new gp(T.parameterDescriptors===void 0?[]:T.parameterDescriptors.map(({name:re},ge)=>{const He=D[ge];return He.connect(Y,0,V+ge),He.start(0),[re,He.offset]}));Y.connect(U);let le=x.channelInterpretation,G=null;const Z=x.numberOfOutputs===0?[U]:te,j={get bufferSize(){return W},get channelCount(){return x.channelCount},set channelCount(re){throw s()},get channelCountMode(){return x.channelCountMode},set channelCountMode(re){throw s()},get channelInterpretation(){return le},set channelInterpretation(re){for(const ge of I)ge.channelInterpretation=re;le=re},get context(){return U.context},get inputs(){return I},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get onprocessorerror(){return G},set onprocessorerror(re){typeof G=="function"&&j.removeEventListener("processorerror",G),G=typeof re=="function"?re:null,typeof G=="function"&&j.addEventListener("processorerror",G)},get parameters(){return ne},get port(){return N.port2},addEventListener(...re){return U.addEventListener(re[0],re[1],re[2])},connect:o.bind(null,Z),disconnect:m.bind(null,Z),dispatchEvent(...re){return U.dispatchEvent(re[0])},removeEventListener(...re){return U.removeEventListener(re[0],re[1],re[2])}},$=new Map;N.port1.addEventListener=(re=>(...ge)=>{if(ge[0]==="message"){const He=typeof ge[1]=="function"?ge[1]:typeof ge[1]=="object"&&ge[1]!==null&&typeof ge[1].handleEvent=="function"?ge[1].handleEvent:null;if(He!==null){const Ve=$.get(ge[1]);Ve!==void 0?ge[1]=Ve:(ge[1]=Ce=>{_(k.currentTime,k.sampleRate,()=>He(Ce))},$.set(He,ge[1]))}}return re.call(N.port1,ge[0],ge[1],ge[2])})(N.port1.addEventListener),N.port1.removeEventListener=(re=>(...ge)=>{if(ge[0]==="message"){const He=$.get(ge[1]);He!==void 0&&($.delete(ge[1]),ge[1]=He)}return re.call(N.port1,ge[0],ge[1],ge[2])})(N.port1.removeEventListener);let B=null;Object.defineProperty(N.port1,"onmessage",{get:()=>B,set:re=>{typeof B=="function"&&N.port1.removeEventListener("message",B),B=typeof re=="function"?re:null,typeof B=="function"&&(N.port1.addEventListener("message",B),N.port1.start())}}),T.prototype.port=N.port1;let C=null;$y(k,j,T,x).then(re=>C=re);const de=Ea(x.numberOfInputs,x.channelCount),fe=Ea(x.numberOfOutputs,O),se=T.parameterDescriptors===void 0?[]:T.parameterDescriptors.reduce((re,{name:ge})=>({...re,[ge]:new Float32Array(128)}),{});let he=!0;const we=()=>{x.numberOfOutputs>0&&U.disconnect(q);for(let re=0,ge=0;re<x.numberOfOutputs;re+=1){const He=te[re];for(let Ve=0;Ve<O[re];Ve+=1)q.disconnect(He,ge+Ve,Ve);ge+=O[re]}},ee=new Map;U.onaudioprocess=({inputBuffer:re,outputBuffer:ge})=>{if(C!==null){const He=v(j);for(let Ve=0;Ve<W;Ve+=128){for(let Ce=0;Ce<x.numberOfInputs;Ce+=1)for(let Re=0;Re<x.channelCount;Re+=1)Ca(re,de[Ce],Re,Re,Ve);T.parameterDescriptors!==void 0&&T.parameterDescriptors.forEach(({name:Ce},Re)=>{Ca(re,se,Ce,V+Re,Ve)});for(let Ce=0;Ce<x.numberOfInputs;Ce+=1)for(let Re=0;Re<O[Ce];Re+=1)fe[Ce][Re].byteLength===0&&(fe[Ce][Re]=new Float32Array(128));try{const Ce=de.map((ot,$t)=>{if(He[$t].size>0)return ee.set($t,W/128),ot;const Zs=ee.get($t);return Zs===void 0?[]:(ot.every(Ji=>Ji.every(eo=>eo===0))&&(Zs===1?ee.delete($t):ee.set($t,Zs-1)),ot)});he=_(k.currentTime+Ve/k.sampleRate,k.sampleRate,()=>C.process(Ce,fe,se));for(let ot=0,$t=0;ot<x.numberOfOutputs;ot+=1){for(let Qn=0;Qn<O[ot];Qn+=1)_p(ge,fe[ot],Qn,$t+Qn,Ve);$t+=O[ot]}}catch(Ce){he=!1,j.dispatchEvent(new ErrorEvent("processorerror",{colno:Ce.colno,filename:Ce.filename,lineno:Ce.lineno,message:Ce.message}))}if(!he){for(let Ce=0;Ce<x.numberOfInputs;Ce+=1){I[Ce].disconnect(P[Ce]);for(let Re=0;Re<x.channelCount;Re+=1)P[Ve].disconnect(Y,Re,Ce*x.channelCount+Re)}if(T.parameterDescriptors!==void 0){const Ce=T.parameterDescriptors.length;for(let Re=0;Re<Ce;Re+=1){const ot=D[Re];ot.disconnect(Y,0,V+Re),ot.stop()}}Y.disconnect(U),U.onaudioprocess=null,Se?we():Gt();break}}}};let Se=!1;const Oe=d(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Lt=()=>U.connect(Oe).connect(k.destination),Gt=()=>{U.disconnect(Oe),Oe.disconnect()},Xs=()=>{if(he){Gt(),x.numberOfOutputs>0&&U.connect(q);for(let re=0,ge=0;re<x.numberOfOutputs;re+=1){const He=te[re];for(let Ve=0;Ve<O[re];Ve+=1)q.connect(He,ge+Ve,Ve);ge+=O[re]}}Se=!0},Wr=()=>{he&&(Lt(),we()),Se=!1};return Lt(),y(j,Xs,Wr)},wp=(o,e)=>{const s=o.createBiquadFilter();return ut(s,e),Ke(s,e,"Q"),Ke(s,e,"detune"),Ke(s,e,"frequency"),Ke(s,e,"gain"),$e(s,e,"type"),s},Qy=(o,e)=>(s,i)=>{const l=s.createChannelMerger(i.numberOfInputs);return o!==null&&o.name==="webkitAudioContext"&&e(s,l),ut(l,i),l},Yy=o=>{const e=o.numberOfOutputs;Object.defineProperty(o,"channelCount",{get:()=>e,set:s=>{if(s!==e)throw ft()}}),Object.defineProperty(o,"channelCountMode",{get:()=>"explicit",set:s=>{if(s!=="explicit")throw ft()}}),Object.defineProperty(o,"channelInterpretation",{get:()=>"discrete",set:s=>{if(s!=="discrete")throw ft()}})},$i=(o,e)=>{const s=o.createChannelSplitter(e.numberOfOutputs);return ut(s,e),Yy(s),s},Xy=(o,e,s,i,l)=>(u,d)=>{if(u.createConstantSource===void 0)return s(u,d);const f=u.createConstantSource();return ut(f,d),Ke(f,d,"offset"),e(i,()=>i(u))||mc(f),e(l,()=>l(u))||gc(f),o(u,f),f},Vr=(o,e)=>(o.connect=e.connect.bind(e),o.disconnect=e.disconnect.bind(e),o),Zy=(o,e,s,i)=>(l,{offset:u,...d})=>{const f=l.createBuffer(1,2,44100),p=e(l,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),m=s(l,{...d,gain:u}),_=f.getChannelData(0);_[0]=1,_[1]=1,p.buffer=f,p.loop=!0;const v={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(w){m.channelCount=w},get channelCountMode(){return m.channelCountMode},set channelCountMode(w){m.channelCountMode=w},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(w){m.channelInterpretation=w},get context(){return m.context},get inputs(){return[]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get offset(){return m.gain},get onended(){return p.onended},set onended(w){p.onended=w},addEventListener(...w){return p.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return p.dispatchEvent(w[0])},removeEventListener(...w){return p.removeEventListener(w[0],w[1],w[2])},start(w=0){p.start.call(p,w)},stop(w=0){p.stop.call(p,w)}},y=()=>p.connect(m),k=()=>p.disconnect(m);return o(l,p),i(Vr(v,m),y,k)},Ky=(o,e)=>(s,i)=>{const l=s.createConvolver();if(ut(l,i),i.disableNormalization===l.normalize&&(l.normalize=!i.disableNormalization),$e(l,i,"buffer"),i.channelCount>2||(e(l,"channelCount",u=>()=>u.call(l),u=>d=>{if(d>2)throw o();return u.call(l,d)}),i.channelCountMode==="max"))throw o();return e(l,"channelCountMode",u=>()=>u.call(l),u=>d=>{if(d==="max")throw o();return u.call(l,d)}),l},Sp=(o,e)=>{const s=o.createDelay(e.maxDelayTime);return ut(s,e),Ke(s,e,"delayTime"),s},Jy=o=>(e,s)=>{const i=e.createDynamicsCompressor();if(ut(i,s),s.channelCount>2||s.channelCountMode==="max")throw o();return Ke(i,s,"attack"),Ke(i,s,"knee"),Ke(i,s,"ratio"),Ke(i,s,"release"),Ke(i,s,"threshold"),i},Vt=(o,e)=>{const s=o.createGain();return ut(s,e),Ke(s,e,"gain"),s},e0=o=>(e,s,i)=>{if(e.createIIRFilter===void 0)return o(e,s,i);const l=e.createIIRFilter(i.feedforward,i.feedback);return ut(l,i),l};function t0(o,e){const s=e[0]*e[0]+e[1]*e[1];return[(o[0]*e[0]+o[1]*e[1])/s,(o[1]*e[0]-o[0]*e[1])/s]}function n0(o,e){return[o[0]*e[0]-o[1]*e[1],o[0]*e[1]+o[1]*e[0]]}function Gf(o,e){let s=[0,0];for(let i=o.length-1;i>=0;i-=1)s=n0(s,e),s[0]+=o[i];return s}const s0=(o,e,s,i)=>(l,u,{channelCount:d,channelCountMode:f,channelInterpretation:p,feedback:m,feedforward:_})=>{const v=yp(u,l.sampleRate),y=m instanceof Float64Array?m:new Float64Array(m),k=_ instanceof Float64Array?_:new Float64Array(_),w=y.length,T=k.length,x=Math.min(w,T);if(w===0||w>20)throw i();if(y[0]===0)throw e();if(T===0||T>20)throw i();if(k[0]===0)throw e();if(y[0]!==1){for(let D=0;D<T;D+=1)k[D]/=y[0];for(let D=1;D<w;D+=1)y[D]/=y[0]}const O=s(l,v,d,d);O.channelCount=d,O.channelCountMode=f,O.channelInterpretation=p;const V=32,L=[],z=[],N=[];for(let D=0;D<d;D+=1){L.push(0);const Y=new Float32Array(V),W=new Float32Array(V);Y.fill(0),W.fill(0),z.push(Y),N.push(W)}O.onaudioprocess=D=>{const Y=D.inputBuffer,W=D.outputBuffer,U=Y.numberOfChannels;for(let q=0;q<U;q+=1){const te=Y.getChannelData(q),ne=W.getChannelData(q);L[q]=vp(y,w,k,T,x,z[q],N[q],L[q],V,te,ne)}};const I=l.sampleRate/2;return Vr({get bufferSize(){return v},get channelCount(){return O.channelCount},set channelCount(D){O.channelCount=D},get channelCountMode(){return O.channelCountMode},set channelCountMode(D){O.channelCountMode=D},get channelInterpretation(){return O.channelInterpretation},set channelInterpretation(D){O.channelInterpretation=D},get context(){return O.context},get inputs(){return[O]},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},addEventListener(...D){return O.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return O.dispatchEvent(D[0])},getFrequencyResponse(D,Y,W){if(D.length!==Y.length||Y.length!==W.length)throw o();const U=D.length;for(let q=0;q<U;q+=1){const te=-Math.PI*(D[q]/I),ne=[Math.cos(te),Math.sin(te)],le=Gf(k,ne),G=Gf(y,ne),Z=t0(le,G);Y[q]=Math.sqrt(Z[0]*Z[0]+Z[1]*Z[1]),W[q]=Math.atan2(Z[1],Z[0])}},removeEventListener(...D){return O.removeEventListener(D[0],D[1],D[2])}},O)},r0=(o,e)=>o.createMediaElementSource(e.mediaElement),i0=(o,e)=>{const s=o.createMediaStreamDestination();return ut(s,e),s.numberOfOutputs===1&&Object.defineProperty(s,"numberOfOutputs",{get:()=>0}),s},o0=(o,{mediaStream:e})=>{const s=e.getAudioTracks();s.sort((u,d)=>u.id<d.id?-1:u.id>d.id?1:0);const i=s.slice(0,1),l=o.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(l,"mediaStream",{value:e}),l},a0=(o,e)=>(s,{mediaStreamTrack:i})=>{if(typeof s.createMediaStreamTrackSource=="function")return s.createMediaStreamTrackSource(i);const l=new MediaStream([i]),u=s.createMediaStreamSource(l);if(i.kind!=="audio")throw o();if(e(s))throw new TypeError;return u},l0=o=>o===null?null:o.hasOwnProperty("OfflineAudioContext")?o.OfflineAudioContext:o.hasOwnProperty("webkitOfflineAudioContext")?o.webkitOfflineAudioContext:null,u0=(o,e,s,i,l,u)=>(d,f)=>{const p=d.createOscillator();return ut(p,f),Ke(p,f,"detune"),Ke(p,f,"frequency"),f.periodicWave!==void 0?p.setPeriodicWave(f.periodicWave):$e(p,f,"type"),e(s,()=>s(d))||mc(p),e(i,()=>i(d))||u(p,d),e(l,()=>l(d))||gc(p),o(d,p),p},c0=o=>(e,s)=>{const i=e.createPanner();return i.orientationX===void 0?o(e,s):(ut(i,s),Ke(i,s,"orientationX"),Ke(i,s,"orientationY"),Ke(i,s,"orientationZ"),Ke(i,s,"positionX"),Ke(i,s,"positionY"),Ke(i,s,"positionZ"),$e(i,s,"coneInnerAngle"),$e(i,s,"coneOuterAngle"),$e(i,s,"coneOuterGain"),$e(i,s,"distanceModel"),$e(i,s,"maxDistance"),$e(i,s,"panningModel"),$e(i,s,"refDistance"),$e(i,s,"rolloffFactor"),i)},h0=(o,e,s,i,l,u,d,f,p,m)=>(_,{coneInnerAngle:v,coneOuterAngle:y,coneOuterGain:k,distanceModel:w,maxDistance:T,orientationX:x,orientationY:O,orientationZ:V,panningModel:L,positionX:z,positionY:N,positionZ:I,refDistance:P,rolloffFactor:D,...Y})=>{const W=_.createPanner();if(Y.channelCount>2||Y.channelCountMode==="max")throw d();ut(W,Y);const U={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},q=s(_,{...U,channelInterpretation:"speakers",numberOfInputs:6}),te=i(_,{...Y,gain:1}),ne=i(_,{...U,gain:1}),le=i(_,{...U,gain:0}),G=i(_,{...U,gain:0}),Z=i(_,{...U,gain:0}),j=i(_,{...U,gain:0}),$=i(_,{...U,gain:0}),B=l(_,256,6,1),C=u(_,{...U,curve:new Float32Array([1,1]),oversample:"none"});let F=[x,O,V],de=[z,N,I];const fe=new Float32Array(1);B.onaudioprocess=({inputBuffer:ee})=>{const Se=[p(ee,fe,0),p(ee,fe,1),p(ee,fe,2)];Se.some((Lt,Gt)=>Lt!==F[Gt])&&(W.setOrientation(...Se),F=Se);const Oe=[p(ee,fe,3),p(ee,fe,4),p(ee,fe,5)];Oe.some((Lt,Gt)=>Lt!==de[Gt])&&(W.setPosition(...Oe),de=Oe)},Object.defineProperty(le.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0});const se={get bufferSize(){},get channelCount(){return W.channelCount},set channelCount(ee){if(ee>2)throw d();te.channelCount=ee,W.channelCount=ee},get channelCountMode(){return W.channelCountMode},set channelCountMode(ee){if(ee==="max")throw d();te.channelCountMode=ee,W.channelCountMode=ee},get channelInterpretation(){return W.channelInterpretation},set channelInterpretation(ee){te.channelInterpretation=ee,W.channelInterpretation=ee},get coneInnerAngle(){return W.coneInnerAngle},set coneInnerAngle(ee){W.coneInnerAngle=ee},get coneOuterAngle(){return W.coneOuterAngle},set coneOuterAngle(ee){W.coneOuterAngle=ee},get coneOuterGain(){return W.coneOuterGain},set coneOuterGain(ee){if(ee<0||ee>1)throw e();W.coneOuterGain=ee},get context(){return W.context},get distanceModel(){return W.distanceModel},set distanceModel(ee){W.distanceModel=ee},get inputs(){return[te]},get maxDistance(){return W.maxDistance},set maxDistance(ee){if(ee<0)throw new RangeError;W.maxDistance=ee},get numberOfInputs(){return W.numberOfInputs},get numberOfOutputs(){return W.numberOfOutputs},get orientationX(){return ne.gain},get orientationY(){return le.gain},get orientationZ(){return G.gain},get panningModel(){return W.panningModel},set panningModel(ee){W.panningModel=ee},get positionX(){return Z.gain},get positionY(){return j.gain},get positionZ(){return $.gain},get refDistance(){return W.refDistance},set refDistance(ee){if(ee<0)throw new RangeError;W.refDistance=ee},get rolloffFactor(){return W.rolloffFactor},set rolloffFactor(ee){if(ee<0)throw new RangeError;W.rolloffFactor=ee},addEventListener(...ee){return te.addEventListener(ee[0],ee[1],ee[2])},dispatchEvent(...ee){return te.dispatchEvent(ee[0])},removeEventListener(...ee){return te.removeEventListener(ee[0],ee[1],ee[2])}};v!==se.coneInnerAngle&&(se.coneInnerAngle=v),y!==se.coneOuterAngle&&(se.coneOuterAngle=y),k!==se.coneOuterGain&&(se.coneOuterGain=k),w!==se.distanceModel&&(se.distanceModel=w),T!==se.maxDistance&&(se.maxDistance=T),x!==se.orientationX.value&&(se.orientationX.value=x),O!==se.orientationY.value&&(se.orientationY.value=O),V!==se.orientationZ.value&&(se.orientationZ.value=V),L!==se.panningModel&&(se.panningModel=L),z!==se.positionX.value&&(se.positionX.value=z),N!==se.positionY.value&&(se.positionY.value=N),I!==se.positionZ.value&&(se.positionZ.value=I),P!==se.refDistance&&(se.refDistance=P),D!==se.rolloffFactor&&(se.rolloffFactor=D),(F[0]!==1||F[1]!==0||F[2]!==0)&&W.setOrientation(...F),(de[0]!==0||de[1]!==0||de[2]!==0)&&W.setPosition(...de);const he=()=>{te.connect(W),o(te,C,0,0),C.connect(ne).connect(q,0,0),C.connect(le).connect(q,0,1),C.connect(G).connect(q,0,2),C.connect(Z).connect(q,0,3),C.connect(j).connect(q,0,4),C.connect($).connect(q,0,5),q.connect(B).connect(_.destination)},we=()=>{te.disconnect(W),f(te,C,0,0),C.disconnect(ne),ne.disconnect(q),C.disconnect(le),le.disconnect(q),C.disconnect(G),G.disconnect(q),C.disconnect(Z),Z.disconnect(q),C.disconnect(j),j.disconnect(q),C.disconnect($),$.disconnect(q),q.disconnect(B),B.disconnect(_.destination)};return m(Vr(se,W),he,we)},d0=o=>(e,{disableNormalization:s,imag:i,real:l})=>{const u=i instanceof Float32Array?i:new Float32Array(i),d=l instanceof Float32Array?l:new Float32Array(l),f=e.createPeriodicWave(d,u,{disableNormalization:s});if(Array.from(i).length<2)throw o();return f},Hi=(o,e,s,i)=>o.createScriptProcessor(e,s,i),f0=(o,e)=>(s,i)=>{const l=i.channelCountMode;if(l==="clamped-max")throw e();if(s.createStereoPanner===void 0)return o(s,i);const u=s.createStereoPanner();return ut(u,i),Ke(u,i,"pan"),Object.defineProperty(u,"channelCountMode",{get:()=>l,set:d=>{if(d!==l)throw e()}}),u},p0=(o,e,s,i,l,u)=>{const f=new Float32Array([1,1]),p=Math.PI/2,m={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},_={...m,oversample:"none"},v=(w,T,x,O)=>{const V=new Float32Array(16385),L=new Float32Array(16385);for(let Y=0;Y<16385;Y+=1){const W=Y/16384*p;V[Y]=Math.cos(W),L[Y]=Math.sin(W)}const z=s(w,{...m,gain:0}),N=i(w,{..._,curve:V}),I=i(w,{..._,curve:f}),P=s(w,{...m,gain:0}),D=i(w,{..._,curve:L});return{connectGraph(){T.connect(z),T.connect(I.inputs===void 0?I:I.inputs[0]),T.connect(P),I.connect(x),x.connect(N.inputs===void 0?N:N.inputs[0]),x.connect(D.inputs===void 0?D:D.inputs[0]),N.connect(z.gain),D.connect(P.gain),z.connect(O,0,0),P.connect(O,0,1)},disconnectGraph(){T.disconnect(z),T.disconnect(I.inputs===void 0?I:I.inputs[0]),T.disconnect(P),I.disconnect(x),x.disconnect(N.inputs===void 0?N:N.inputs[0]),x.disconnect(D.inputs===void 0?D:D.inputs[0]),N.disconnect(z.gain),D.disconnect(P.gain),z.disconnect(O,0,0),P.disconnect(O,0,1)}}},y=(w,T,x,O)=>{const V=new Float32Array(16385),L=new Float32Array(16385),z=new Float32Array(16385),N=new Float32Array(16385),I=Math.floor(16385/2);for(let Z=0;Z<16385;Z+=1)if(Z>I){const j=(Z-I)/(16384-I)*p;V[Z]=Math.cos(j),L[Z]=Math.sin(j),z[Z]=0,N[Z]=1}else{const j=Z/(16384-I)*p;V[Z]=1,L[Z]=0,z[Z]=Math.cos(j),N[Z]=Math.sin(j)}const P=e(w,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),D=s(w,{...m,gain:0}),Y=i(w,{..._,curve:V}),W=s(w,{...m,gain:0}),U=i(w,{..._,curve:L}),q=i(w,{..._,curve:f}),te=s(w,{...m,gain:0}),ne=i(w,{..._,curve:z}),le=s(w,{...m,gain:0}),G=i(w,{..._,curve:N});return{connectGraph(){T.connect(P),T.connect(q.inputs===void 0?q:q.inputs[0]),P.connect(D,0),P.connect(W,0),P.connect(te,1),P.connect(le,1),q.connect(x),x.connect(Y.inputs===void 0?Y:Y.inputs[0]),x.connect(U.inputs===void 0?U:U.inputs[0]),x.connect(ne.inputs===void 0?ne:ne.inputs[0]),x.connect(G.inputs===void 0?G:G.inputs[0]),Y.connect(D.gain),U.connect(W.gain),ne.connect(te.gain),G.connect(le.gain),D.connect(O,0,0),te.connect(O,0,0),W.connect(O,0,1),le.connect(O,0,1)},disconnectGraph(){T.disconnect(P),T.disconnect(q.inputs===void 0?q:q.inputs[0]),P.disconnect(D,0),P.disconnect(W,0),P.disconnect(te,1),P.disconnect(le,1),q.disconnect(x),x.disconnect(Y.inputs===void 0?Y:Y.inputs[0]),x.disconnect(U.inputs===void 0?U:U.inputs[0]),x.disconnect(ne.inputs===void 0?ne:ne.inputs[0]),x.disconnect(G.inputs===void 0?G:G.inputs[0]),Y.disconnect(D.gain),U.disconnect(W.gain),ne.disconnect(te.gain),G.disconnect(le.gain),D.disconnect(O,0,0),te.disconnect(O,0,0),W.disconnect(O,0,1),le.disconnect(O,0,1)}}},k=(w,T,x,O,V)=>{if(T===1)return v(w,x,O,V);if(T===2)return y(w,x,O,V);throw l()};return(w,{channelCount:T,channelCountMode:x,pan:O,...V})=>{if(x==="max")throw l();const L=o(w,{...V,channelCount:1,channelCountMode:x,numberOfInputs:2}),z=s(w,{...V,channelCount:T,channelCountMode:x,gain:1}),N=s(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:O});let{connectGraph:I,disconnectGraph:P}=k(w,T,z,N,L);Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"maxValue",{get:()=>1}),Object.defineProperty(N.gain,"minValue",{get:()=>-1});const D={get bufferSize(){},get channelCount(){return z.channelCount},set channelCount(q){z.channelCount!==q&&(Y&&P(),{connectGraph:I,disconnectGraph:P}=k(w,q,z,N,L),Y&&I()),z.channelCount=q},get channelCountMode(){return z.channelCountMode},set channelCountMode(q){if(q==="clamped-max"||q==="max")throw l();z.channelCountMode=q},get channelInterpretation(){return z.channelInterpretation},set channelInterpretation(q){z.channelInterpretation=q},get context(){return z.context},get inputs(){return[z]},get numberOfInputs(){return z.numberOfInputs},get numberOfOutputs(){return z.numberOfOutputs},get pan(){return N.gain},addEventListener(...q){return z.addEventListener(q[0],q[1],q[2])},dispatchEvent(...q){return z.dispatchEvent(q[0])},removeEventListener(...q){return z.removeEventListener(q[0],q[1],q[2])}};let Y=!1;const W=()=>{I(),Y=!0},U=()=>{P(),Y=!1};return u(Vr(D,L),W,U)}},m0=(o,e,s,i,l,u,d)=>(f,p)=>{const m=f.createWaveShaper();if(u!==null&&u.name==="webkitAudioContext"&&f.createGain().gain.automationRate===void 0)return s(f,p);ut(m,p);const _=p.curve===null||p.curve instanceof Float32Array?p.curve:new Float32Array(p.curve);if(_!==null&&_.length<2)throw e();$e(m,{curve:_},"curve"),$e(m,p,"oversample");let v=null,y=!1;return d(m,"curve",T=>()=>T.call(m),T=>x=>(T.call(m,x),y&&(i(x)&&v===null?v=o(f,m):!i(x)&&v!==null&&(v(),v=null)),x)),l(m,()=>{y=!0,i(m.curve)&&(v=o(f,m))},()=>{y=!1,v!==null&&(v(),v=null)})},g0=(o,e,s,i,l)=>(u,{curve:d,oversample:f,...p})=>{const m=u.createWaveShaper(),_=u.createWaveShaper();ut(m,p),ut(_,p);const v=s(u,{...p,gain:1}),y=s(u,{...p,gain:-1}),k=s(u,{...p,gain:1}),w=s(u,{...p,gain:-1});let T=null,x=!1,O=null;const V={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(N){v.channelCount=N,y.channelCount=N,m.channelCount=N,k.channelCount=N,_.channelCount=N,w.channelCount=N},get channelCountMode(){return m.channelCountMode},set channelCountMode(N){v.channelCountMode=N,y.channelCountMode=N,m.channelCountMode=N,k.channelCountMode=N,_.channelCountMode=N,w.channelCountMode=N},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(N){v.channelInterpretation=N,y.channelInterpretation=N,m.channelInterpretation=N,k.channelInterpretation=N,_.channelInterpretation=N,w.channelInterpretation=N},get context(){return m.context},get curve(){return O},set curve(N){if(N!==null&&N.length<2)throw e();if(N===null)m.curve=N,_.curve=N;else{const I=N.length,P=new Float32Array(I+2-I%2),D=new Float32Array(I+2-I%2);P[0]=N[0],D[0]=-N[I-1];const Y=Math.ceil((I+1)/2),W=(I+1)/2-1;for(let U=1;U<Y;U+=1){const q=U/Y*W,te=Math.floor(q),ne=Math.ceil(q);P[U]=te===ne?N[te]:(1-(q-te))*N[te]+(1-(ne-q))*N[ne],D[U]=te===ne?-N[I-1-te]:-((1-(q-te))*N[I-1-te])-(1-(ne-q))*N[I-1-ne]}P[Y]=I%2===1?N[Y-1]:(N[Y-2]+N[Y-1])/2,m.curve=P,_.curve=D}O=N,x&&(i(O)&&T===null?T=o(u,v):T!==null&&(T(),T=null))},get inputs(){return[v]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get oversample(){return m.oversample},set oversample(N){m.oversample=N,_.oversample=N},addEventListener(...N){return v.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return v.dispatchEvent(N[0])},removeEventListener(...N){return v.removeEventListener(N[0],N[1],N[2])}};d!==null&&(V.curve=d instanceof Float32Array?d:new Float32Array(d)),f!==V.oversample&&(V.oversample=f);const L=()=>{v.connect(m).connect(k),v.connect(y).connect(_).connect(w).connect(k),x=!0,i(O)&&(T=o(u,v))},z=()=>{v.disconnect(m),m.disconnect(k),v.disconnect(y),y.disconnect(_),_.disconnect(w),w.disconnect(k),x=!1,T!==null&&(T(),T=null)};return l(Vr(V,k),L,z)},Ot=()=>new DOMException("","NotSupportedError"),_0={numberOfChannels:1},v0=(o,e,s,i,l)=>class extends o{constructor(d,f,p){let m;if(typeof d=="number"&&f!==void 0&&p!==void 0)m={length:f,numberOfChannels:d,sampleRate:p};else if(typeof d=="object")m=d;else throw new Error("The given parameters are not valid.");const{length:_,numberOfChannels:v,sampleRate:y}={..._0,...m},k=i(v,_,y);e(Oi,()=>Oi(k))||k.addEventListener("statechange",(()=>{let w=0;const T=x=>{this._state==="running"&&(w>0?(k.removeEventListener("statechange",T),x.stopImmediatePropagation(),this._waitForThePromiseToSettle(x)):w+=1)};return T})()),super(k,v),this._length=_,this._nativeOfflineAudioContext=k,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(s()):(this._state="running",l(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,dp(this)}))}_waitForThePromiseToSettle(d){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(d):setTimeout(()=>this._waitForThePromiseToSettle(d))}},y0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},w0=(o,e,s,i,l,u,d)=>class extends o{constructor(p,m){const _=l(p),v={...y0,...m},y=s(_,v),k=u(_),w=k?i():null,T=p.sampleRate/2;super(p,!1,y,w),this._detune=e(this,k,y.detune,153600,-153600),this._frequency=e(this,k,y.frequency,T,-T),this._nativeOscillatorNode=y,this._onended=null,this._oscillatorNodeRenderer=w,this._oscillatorNodeRenderer!==null&&v.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=v.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?d(this,p):null;this._nativeOscillatorNode.onended=m;const _=this._nativeOscillatorNode.onended;this._onended=_!==null&&_===m?p:_}get type(){return this._nativeOscillatorNode.type}set type(p){this._nativeOscillatorNode.type=p,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(p){this._nativeOscillatorNode.setPeriodicWave(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=p)}start(p=0){if(this._nativeOscillatorNode.start(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=p),this.context.state!=="closed"){Ar(this);const m=()=>{this._nativeOscillatorNode.removeEventListener("ended",m),qn(this)&&Bi(this)};this._nativeOscillatorNode.addEventListener("ended",m)}}stop(p=0){this._nativeOscillatorNode.stop(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=p)}},S0=(o,e,s,i,l)=>()=>{const u=new WeakMap;let d=null,f=null,p=null;const m=async(_,v)=>{let y=s(_);const k=xt(y,v);if(!k){const w={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,detune:y.detune.value,frequency:y.frequency.value,periodicWave:d===null?void 0:d,type:y.type};y=e(v,w),f!==null&&y.start(f),p!==null&&y.stop(p)}return u.set(v,y),k?(await o(v,_.detune,y.detune),await o(v,_.frequency,y.frequency)):(await i(v,_.detune,y.detune),await i(v,_.frequency,y.frequency)),await l(_,v,y),y};return{set periodicWave(_){d=_},set start(_){f=_},set stop(_){p=_},render(_,v){const y=u.get(v);return y!==void 0?Promise.resolve(y):m(_,v)}}},k0={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},T0=(o,e,s,i,l,u,d)=>class extends o{constructor(p,m){const _=l(p),v={...k0,...m},y=s(_,v),k=u(_),w=k?i():null;super(p,!1,y,w),this._nativePannerNode=y,this._orientationX=e(this,k,y.orientationX,Nt,Ft),this._orientationY=e(this,k,y.orientationY,Nt,Ft),this._orientationZ=e(this,k,y.orientationZ,Nt,Ft),this._positionX=e(this,k,y.positionX,Nt,Ft),this._positionY=e(this,k,y.positionY,Nt,Ft),this._positionZ=e(this,k,y.positionZ,Nt,Ft),d(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(p){this._nativePannerNode.coneInnerAngle=p}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(p){this._nativePannerNode.coneOuterAngle=p}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(p){this._nativePannerNode.coneOuterGain=p}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(p){this._nativePannerNode.distanceModel=p}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(p){this._nativePannerNode.maxDistance=p}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(p){this._nativePannerNode.panningModel=p}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(p){this._nativePannerNode.refDistance=p}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(p){this._nativePannerNode.rolloffFactor=p}},x0=(o,e,s,i,l,u,d,f,p,m)=>()=>{const _=new WeakMap;let v=null;const y=async(k,w)=>{let T=null,x=u(k);const O={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation},V={...O,coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,panningModel:x.panningModel,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor},L=xt(x,w);if("bufferSize"in x)T=i(w,{...O,gain:1});else if(!L){const z={...V,orientationX:x.orientationX.value,orientationY:x.orientationY.value,orientationZ:x.orientationZ.value,positionX:x.positionX.value,positionY:x.positionY.value,positionZ:x.positionZ.value};x=l(w,z)}if(_.set(w,T===null?x:T),T!==null){if(v===null){if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const U=new d(6,k.context.length,w.sampleRate),q=e(U,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});q.connect(U.destination),v=(async()=>{const te=await Promise.all([k.orientationX,k.orientationY,k.orientationZ,k.positionX,k.positionY,k.positionZ].map(async(ne,le)=>{const G=s(U,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:le===0?1:0});return await f(U,ne,G.offset),G}));for(let ne=0;ne<6;ne+=1)te[ne].connect(q,0,ne),te[ne].start(0);return m(U)})()}const z=await v,N=i(w,{...O,gain:1});await p(k,w,N);const I=[];for(let U=0;U<z.numberOfChannels;U+=1)I.push(z.getChannelData(U));let P=[I[0][0],I[1][0],I[2][0]],D=[I[3][0],I[4][0],I[5][0]],Y=i(w,{...O,gain:1}),W=l(w,{...V,orientationX:P[0],orientationY:P[1],orientationZ:P[2],positionX:D[0],positionY:D[1],positionZ:D[2]});N.connect(Y).connect(W.inputs[0]),W.connect(T);for(let U=128;U<z.length;U+=128){const q=[I[0][U],I[1][U],I[2][U]],te=[I[3][U],I[4][U],I[5][U]];if(q.some((ne,le)=>ne!==P[le])||te.some((ne,le)=>ne!==D[le])){P=q,D=te;const ne=U/w.sampleRate;Y.gain.setValueAtTime(0,ne),Y=i(w,{...O,gain:0}),W=l(w,{...V,orientationX:P[0],orientationY:P[1],orientationZ:P[2],positionX:D[0],positionY:D[1],positionZ:D[2]}),Y.gain.setValueAtTime(1,ne),N.connect(Y).connect(W.inputs[0]),W.connect(T)}}return T}return L?(await o(w,k.orientationX,x.orientationX),await o(w,k.orientationY,x.orientationY),await o(w,k.orientationZ,x.orientationZ),await o(w,k.positionX,x.positionX),await o(w,k.positionY,x.positionY),await o(w,k.positionZ,x.positionZ)):(await f(w,k.orientationX,x.orientationX),await f(w,k.orientationY,x.orientationY),await f(w,k.orientationZ,x.orientationZ),await f(w,k.positionX,x.positionX),await f(w,k.positionY,x.positionY),await f(w,k.positionZ,x.positionZ)),Fr(x)?await p(k,w,x.inputs[0]):await p(k,w,x),x};return{render(k,w){const T=_.get(w);return T!==void 0?Promise.resolve(T):y(k,w)}}},C0={disableNormalization:!1},E0=(o,e,s,i)=>class kp{constructor(u,d){const f=e(u),p=i({...C0,...d}),m=o(f,p);return s.add(m),m}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===kp.prototype||s.has(u)}},N0=(o,e)=>(s,i,l)=>(o(i).replay(l),e(i,s,l)),A0=(o,e,s)=>async(i,l,u)=>{const d=o(i);await Promise.all(d.activeInputs.map((f,p)=>Array.from(f).map(async([m,_])=>{const y=await e(m).render(m,l),k=i.context.destination;!s(m)&&(i!==k||!s(i))&&y.connect(u,_,p)})).reduce((f,p)=>[...f,...p],[]))},O0=(o,e,s)=>async(i,l,u)=>{const d=e(i);await Promise.all(Array.from(d.activeInputs).map(async([f,p])=>{const _=await o(f).render(f,l);s(f)||_.connect(u,p)}))},D0=(o,e,s,i)=>l=>o(Oi,()=>Oi(l))?Promise.resolve(o(i,i)).then(u=>{if(!u){const d=s(l,512,0,1);l.oncomplete=()=>{d.onaudioprocess=null,d.disconnect()},d.onaudioprocess=()=>l.currentTime,d.connect(l.destination)}return l.startRendering()}):new Promise(u=>{const d=e(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});l.oncomplete=f=>{d.disconnect(),u(f.renderedBuffer)},d.connect(l.destination),l.startRendering()}),R0=o=>(e,s)=>{o.set(e,s)},I0=o=>(e,s)=>o.set(e,s),M0=(o,e,s,i,l,u,d,f)=>(p,m)=>s(p).render(p,m).then(()=>Promise.all(Array.from(i(m)).map(_=>s(_).render(_,m)))).then(()=>l(m)).then(_=>(typeof _.copyFromChannel!="function"?(d(_),dc(_)):e(u,()=>u(_))||f(_),o.add(_),_)),P0={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},b0=(o,e,s,i,l,u)=>class extends o{constructor(f,p){const m=l(f),_={...P0,...p},v=s(m,_),y=u(m),k=y?i():null;super(f,!1,v,k),this._pan=e(this,y,v.pan)}get pan(){return this._pan}},F0=(o,e,s,i,l)=>()=>{const u=new WeakMap,d=async(f,p)=>{let m=s(f);const _=xt(m,p);if(!_){const v={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,pan:m.pan.value};m=e(p,v)}return u.set(p,m),_?await o(p,f.pan,m.pan):await i(p,f.pan,m.pan),Fr(m)?await l(f,p,m.inputs[0]):await l(f,p,m),m};return{render(f,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):d(f,p)}}},V0=o=>()=>{if(o===null)return!1;try{new o({length:1,sampleRate:44100})}catch{return!1}return!0},L0=(o,e)=>async()=>{if(o===null)return!0;if(e===null)return!1;const s=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),l=URL.createObjectURL(s);let u=!1,d=!1;try{await i.audioWorklet.addModule(l);const f=new o(i,"a",{numberOfOutputs:0}),p=i.createOscillator();f.port.onmessage=()=>u=!0,f.onprocessorerror=()=>d=!0,p.connect(f),p.start(0),await i.startRendering(),await new Promise(m=>setTimeout(m))}catch{}finally{URL.revokeObjectURL(l)}return u&&!d},j0=(o,e)=>()=>{if(e===null)return Promise.resolve(!1);const s=new e(1,1,44100),i=o(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(l=>{s.oncomplete=()=>{i.disconnect(),l(s.currentTime!==0)},s.startRendering()})},z0=()=>new DOMException("","UnknownError"),W0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},q0=(o,e,s,i,l,u,d)=>class extends o{constructor(p,m){const _=l(p),v={...W0,...m},y=s(_,v),w=u(_)?i():null;super(p,!0,y,w),this._isCurveNullified=!1,this._nativeWaveShaperNode=y,d(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(p){if(p===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(p.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=p}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(p){this._nativeWaveShaperNode.oversample=p}},B0=(o,e,s)=>()=>{const i=new WeakMap,l=async(u,d)=>{let f=e(u);if(!xt(f,d)){const m={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,curve:f.curve,oversample:f.oversample};f=o(d,m)}return i.set(d,f),Fr(f)?await s(u,d,f.inputs[0]):await s(u,d,f),f};return{render(u,d){const f=i.get(d);return f!==void 0?Promise.resolve(f):l(u,d)}}},U0=()=>typeof window>"u"?null:window,G0=(o,e)=>s=>{s.copyFromChannel=(i,l,u=0)=>{const d=o(u),f=o(l);if(f>=s.numberOfChannels)throw e();const p=s.length,m=s.getChannelData(f),_=i.length;for(let v=d<0?-d:0;v+d<p&&v<_;v+=1)i[v]=m[v+d]},s.copyToChannel=(i,l,u=0)=>{const d=o(u),f=o(l);if(f>=s.numberOfChannels)throw e();const p=s.length,m=s.getChannelData(f),_=i.length;for(let v=d<0?-d:0;v+d<p&&v<_;v+=1)m[v+d]=i[v]}},$0=o=>e=>{e.copyFromChannel=(s=>(i,l,u=0)=>{const d=o(u),f=o(l);if(d<e.length)return s.call(e,i,f,d)})(e.copyFromChannel),e.copyToChannel=(s=>(i,l,u=0)=>{const d=o(u),f=o(l);if(d<e.length)return s.call(e,i,f,d)})(e.copyToChannel)},H0=o=>(e,s)=>{const i=s.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=i),o(e,"buffer",l=>()=>{const u=l.call(e);return u===i?null:u},l=>u=>l.call(e,u===null?i:u))},Q0=(o,e)=>(s,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw o()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw o()}});const l=s.createBufferSource();e(i,()=>{const f=i.numberOfInputs;for(let p=0;p<f;p+=1)l.connect(i,0,p)},()=>l.disconnect(i))},Tp=(o,e,s)=>o.copyFromChannel===void 0?o.getChannelData(s)[0]:(o.copyFromChannel(e,s),e[0]),xp=o=>{if(o===null)return!1;const e=o.length;return e%2!==0?o[Math.floor(e/2)]!==0:o[e/2-1]+o[e/2]!==0},Qi=(o,e,s,i)=>{let l=o;for(;!l.hasOwnProperty(e);)l=Object.getPrototypeOf(l);const{get:u,set:d}=Object.getOwnPropertyDescriptor(l,e);Object.defineProperty(o,e,{get:s(u),set:i(d)})},Y0=o=>({...o,outputChannelCount:o.outputChannelCount!==void 0?o.outputChannelCount:o.numberOfInputs===1&&o.numberOfOutputs===1?[o.channelCount]:Array.from({length:o.numberOfOutputs},()=>1)}),X0=o=>({...o,channelCount:o.numberOfOutputs}),Z0=o=>{const{imag:e,real:s}=o;return e===void 0?s===void 0?{...o,imag:[0,0],real:[0,0]}:{...o,imag:Array.from(s,()=>0),real:s}:s===void 0?{...o,imag:e,real:Array.from(e,()=>0)}:{...o,imag:e,real:s}},Cp=(o,e,s)=>{try{o.setValueAtTime(e,s)}catch(i){if(i.code!==9)throw i;Cp(o,e,s+1e-7)}},K0=o=>{const e=o.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},J0=o=>{const e=o.createBufferSource(),s=o.createBuffer(1,1,44100);e.buffer=s;try{e.start(0,1)}catch{return!1}return!0},ew=o=>{const e=o.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},_c=o=>{const e=o.createOscillator();try{e.start(-1)}catch(s){return s instanceof RangeError}return!1},Ep=o=>{const e=o.createBuffer(1,1,44100),s=o.createBufferSource();s.buffer=e,s.start(),s.stop();try{return s.stop(),!0}catch{return!1}},vc=o=>{const e=o.createOscillator();try{e.stop(-1)}catch(s){return s instanceof RangeError}return!1},tw=o=>{const{port1:e,port2:s}=new MessageChannel;try{e.postMessage(o)}finally{e.close(),s.close()}},nw=o=>{o.start=(e=>(s=0,i=0,l)=>{const u=o.buffer,d=u===null?i:Math.min(u.duration,i);u!==null&&d>u.duration-.5/o.context.sampleRate?e.call(o,s,0,0):e.call(o,s,d,l)})(o.start)},Np=(o,e)=>{const s=e.createGain();o.connect(s);const i=(l=>()=>{l.call(o,s),o.removeEventListener("ended",i)})(o.disconnect);o.addEventListener("ended",i),Vr(o,s),o.stop=(l=>{let u=!1;return(d=0)=>{if(u)try{l.call(o,d)}catch{s.gain.setValueAtTime(0,d)}else l.call(o,d),u=!0}})(o.stop)},Lr=(o,e)=>s=>{const i={value:o};return Object.defineProperties(s,{currentTarget:i,target:i}),typeof e=="function"?e.call(o,s):e.handleEvent.call(o,s)},sw=T_(Hs),rw=O_(Hs),iw=Wv($a),Ap=new WeakMap,ow=iy(Ap),mn=_v(new Map,new WeakMap),xn=U0(),Op=by(mn,An),yc=ry(At),gt=A0(At,yc,Ws),aw=P_(Op,Be,gt),je=ly(Ga),Gn=l0(xn),Fe=Cy(Gn),Dp=new WeakMap,Rp=Zv(Lr),Yi=jy(xn),wc=Sy(Yi),Sc=ky(xn),Ip=Ty(xn),Di=Wy(xn),rt=iv(x_(ip),A_(sw,rw,ka,iw,Ta,At,ow,qi,Be,Hs,qn,Ws,ga),mn,gy(nc,Ta,At,Be,Ai,qn),An,Ha,Ot,Vv(ka,nc,At,Be,Ai,je,qn,Fe),Uv(Dp,At,dn),Rp,je,wc,Sc,Ip,Fe,Di),lw=M_(rt,aw,An,Op,je,Fe),kc=new WeakSet,$f=Fy(xn),Mp=Dv(new Uint32Array(1)),Tc=G0(Mp,An),xc=$0(Mp),Pp=F_(kc,mn,Ot,$f,Gn,V0($f),Tc,xc),Qa=D_(Vt),bp=O0(yc,Ui,Ws),On=xv(bp),jr=Ly(Qa,mn,K0,J0,ew,_c,Ep,vc,nw,H0(Qi),Np),Dn=N0(oy(Ui),bp),uw=j_(On,jr,Be,Dn,gt),gn=ov(C_(op),Dp,hc,av,__,v_,y_,w_,S_,Ju,sp,Yi,Cp),cw=L_(rt,uw,gn,ft,jr,je,Fe,Lr),hw=Q_(rt,Y_,An,ft,zy(Vt,Qi),je,Fe,gt),dw=gv(On,wp,Be,Dn,gt),Qs=I0(Ap),fw=mv(rt,gn,dw,Ha,wp,je,Fe,Qs),ks=My(Hs,Sc),pw=Q0(ft,ks),Ts=Qy(Yi,pw),mw=wv(Ts,Be,gt),gw=yv(rt,mw,Ts,je,Fe),_w=Tv($i,Be,gt),vw=kv(rt,_w,$i,je,Fe,X0),yw=Zy(Qa,jr,Vt,ks),zr=Xy(Qa,mn,yw,_c,vc),ww=Ov(On,zr,Be,Dn,gt),Sw=Av(rt,gn,ww,zr,je,Fe,Lr),Fp=Ky(Ot,Qi),kw=Mv(Fp,Be,gt),Tw=Iv(rt,kw,Fp,je,Fe,Qs),xw=zv(On,Sp,Be,Dn,gt),Cw=jv(rt,gn,xw,Sp,je,Fe,Qs),Vp=Jy(Ot),Ew=Qv(On,Vp,Be,Dn,gt),Nw=Hv(rt,gn,Ew,Vp,Ot,je,Fe,Qs),Aw=ny(On,Vt,Be,Dn,gt),Ow=ty(rt,gn,Aw,Vt,je,Fe),Dw=s0(Ha,ft,Hi,Ot),Ya=D0(mn,Vt,Hi,j0(Vt,Gn)),Rw=my(jr,Be,Gn,gt,Ya),Iw=e0(Dw),Mw=fy(rt,Iw,Rw,je,Fe,Qs),Pw=X_(gn,Ts,zr,Hi,Ot,Tp,Fe,Qi),Lp=new WeakMap,bw=Iy(hw,Pw,Rp,Fe,Lp,Lr),jp=u0(Qa,mn,_c,Ep,vc,Np),Fw=S0(On,jp,Be,Dn,gt),Vw=w0(rt,gn,jp,Fw,je,Fe,Lr),zp=Ev(jr),Lw=g0(zp,ft,Vt,xp,ks),Xa=m0(zp,ft,Lw,xp,ks,Yi,Qi),jw=h0(ka,ft,Ts,Vt,Hi,Xa,Ot,Ta,Tp,ks),Wp=c0(jw),zw=x0(On,Ts,zr,Vt,Wp,Be,Gn,Dn,gt,Ya),Ww=T0(rt,gn,Wp,zw,je,Fe,Qs),qw=d0(An),Bw=E0(qw,je,new WeakSet,Z0),Uw=p0(Ts,$i,Vt,Xa,Ot,ks),qp=f0(Uw,Ot),Gw=F0(On,qp,Be,Dn,gt),$w=b0(rt,gn,qp,Gw,je,Fe),Hw=B0(Xa,Be,gt),Qw=q0(rt,ft,Xa,Hw,je,Fe,Qs),Bp=Ey(xn),Cc=Kv(xn),Up=new WeakMap,Yw=uy(Up,Gn),Xw=Bp?N_(mn,Ot,Xv(xn),Cc,Jv(k_),je,Yw,Fe,Di,new WeakMap,new WeakMap,L0(Di,Gn),xn):void 0,Zw=xy(wc,Fe),Kw=Fv(kc,mn,bv,Yv,new WeakSet,je,Zw,wa,Oi,Tc,xc),Gp=fv(Xw,lw,Pp,cw,fw,gw,vw,Sw,Tw,Kw,Cw,Nw,Ow,Mw,bw,Vw,Ww,Bw,$w,Qw),Jw=Ny(rt,r0,je,Fe),e1=Oy(rt,i0,je,Fe),t1=Dy(rt,o0,je,Fe),n1=a0(ft,Fe),s1=Ry(rt,n1,je),r1=H_(Gp,ft,Ot,z0,Jw,e1,t1,s1,Yi),Ec=cy(Lp),i1=R_(Ec),$p=Cv(An),o1=qv(Ec),Hp=Gv(An),Qp=new WeakMap,a1=sy(Qp,dn),l1=Hy($p,An,ft,Ts,$i,zr,Vt,Hi,Ot,Hp,Cc,a1,ks),u1=By(ft,l1,Vt,Ot,ks),c1=dv(On,$p,jr,Ts,$i,zr,Vt,o1,Hp,Cc,Be,Di,Gn,Dn,gt,Ya),h1=ay(Up),d1=R0(Qp),Hf=Bp?uv(i1,rt,gn,c1,u1,At,h1,je,Fe,Di,Y0,d1,tw,Lr):void 0,f1=Pv(Ot,Gn),p1=M0(kc,mn,yc,Ec,Ya,wa,Tc,xc),m1=v0(Gp,mn,ft,f1,p1),g1=_y(Ga,wc),_1=vy(cc,Sc),v1=yy(hc,Ip),y1=wy(Ga,Fe);function Ut(o){return o===void 0}function ke(o){return o!==void 0}function w1(o){return typeof o=="function"}function fn(o){return typeof o=="number"}function gs(o){return Object.prototype.toString.call(o)==="[object Object]"&&o.constructor===Object}function Yp(o){return typeof o=="boolean"}function St(o){return Array.isArray(o)}function Cn(o){return typeof o=="string"}function fa(o){return Cn(o)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(o)}function _e(o,e){if(!o)throw new Error(e)}function En(o,e,s=1/0){if(!(e<=o&&o<=s))throw new RangeError(`Value must be within [${e}, ${s}], got: ${o}`)}function Xp(o){!o.isOffline&&o.state!=="running"&&Za('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Zp=!1,Qf=!1;function Yf(o){Zp=o}function S1(o){Ut(o)&&Zp&&!Qf&&(Qf=!0,Za("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Kp=console;function k1(...o){Kp.log(...o)}function Za(...o){Kp.warn(...o)}function T1(o){return new r1(o)}function x1(o,e,s){return new m1(o,e,s)}const zs=typeof self=="object"?self:null,C1=zs&&(zs.hasOwnProperty("AudioContext")||zs.hasOwnProperty("webkitAudioContext"));function E1(o,e,s){return _e(ke(Hf),"This node only works in a secure context (https or localhost)"),new Hf(o,e,s)}function _n(o,e,s,i){var l=arguments.length,u=l<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,s):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(o,e,s,i);else for(var f=o.length-1;f>=0;f--)(d=o[f])&&(u=(l<3?d(u):l>3?d(e,s,u):d(e,s))||u);return l>3&&u&&Object.defineProperty(e,s,u),u}function st(o,e,s,i){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function f(_){try{m(i.next(_))}catch(v){d(v)}}function p(_){try{m(i.throw(_))}catch(v){d(v)}}function m(_){_.done?u(_.value):l(_.value).then(f,p)}m((i=i.apply(o,e||[])).next())})}class N1{constructor(e,s,i,l){this._callback=e,this._type=s,this._minimumUpdateInterval=Math.max(128/(l||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),s=URL.createObjectURL(e),i=new Worker(s);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var s;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((s=this._worker)===null||s===void 0||s.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function qs(o){return v1(o)}function _s(o){return _1(o)}function _a(o){return y1(o)}function xr(o){return g1(o)}function A1(o){return o instanceof Pp}function O1(o,e){return o==="value"||qs(e)||_s(e)||A1(e)}function vs(o,...e){if(!e.length)return o;const s=e.shift();if(gs(o)&&gs(s))for(const i in s)O1(i,s[i])?o[i]=s[i]:gs(s[i])?(o[i]||Object.assign(o,{[i]:{}}),vs(o[i],s[i])):Object.assign(o,{[i]:s[i]});return vs(o,...e)}function D1(o,e){return o.length===e.length&&o.every((s,i)=>e[i]===s)}function Q(o,e,s=[],i){const l={},u=Array.from(e);if(gs(u[0])&&i&&!Reflect.has(u[0],i)&&(Object.keys(u[0]).some(f=>Reflect.has(o,f))||(vs(l,{[i]:u[0]}),s.splice(s.indexOf(i),1),u.shift())),u.length===1&&gs(u[0]))vs(l,u[0]);else for(let d=0;d<s.length;d++)ke(u[d])&&(l[s[d]]=u[d]);return vs(o,l)}function R1(o){return o.constructor.getDefaults()}function Tn(o,e){return Ut(o)?e:o}function Bs(o,e){return e.forEach(s=>{Reflect.has(o,s)&&delete o[s]}),o}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class $n{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||zs&&this.toString()===zs.TONE_DEBUG_CLASS)&&k1(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}$n.version=np;const Nc=1e-6;function Or(o,e){return o>e+Nc}function ac(o,e){return Or(o,e)||un(o,e)}function Na(o,e){return o+Nc<e}function un(o,e){return Math.abs(o-e)<Nc}function I1(o,e,s){return Math.max(Math.min(o,s),e)}class Jt extends $n{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Q(Jt.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(_e(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const s=this._timeline[this.length-1];_e(ac(e.time,s.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const s=this._search(e.time);this._timeline.splice(s+1,0,e)}if(this.length>this.memory){const s=this.length-this.memory;this._timeline.splice(0,s)}return this}remove(e){const s=this._timeline.indexOf(e);return s!==-1&&this._timeline.splice(s,1),this}get(e,s="time"){const i=this._search(e,s);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,s="time"){const i=this._search(e,s);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(e){const s=this._timeline.length;if(s>0&&this._timeline[s-1].time<e)return this._timeline[s-1];const i=this._search(e);return i-1>=0?this._timeline[i-1]:null}cancel(e){if(this._timeline.length>1){let s=this._search(e);if(s>=0)if(un(this._timeline[s].time,e)){for(let i=s;i>=0&&un(this._timeline[i].time,e);i--)s=i;this._timeline=this._timeline.slice(0,s)}else this._timeline=this._timeline.slice(0,s+1);else this._timeline=[]}else this._timeline.length===1&&ac(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const s=this._search(e);return s>=0&&(this._timeline=this._timeline.slice(s+1)),this}previousEvent(e){const s=this._timeline.indexOf(e);return s>0?this._timeline[s-1]:null}_search(e,s="time"){if(this._timeline.length===0)return-1;let i=0;const l=this._timeline.length;let u=l;if(l>0&&this._timeline[l-1][s]<=e)return l-1;for(;i<u;){let d=Math.floor(i+(u-i)/2);const f=this._timeline[d],p=this._timeline[d+1];if(un(f[s],e)){for(let m=d;m<this._timeline.length;m++){const _=this._timeline[m];if(un(_[s],e))d=m;else break}return d}else{if(Na(f[s],e)&&Or(p[s],e))return d;Or(f[s],e)?u=d:i=d+1}}return-1}_iterate(e,s=0,i=this._timeline.length-1){this._timeline.slice(s,i+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,s){const i=this._search(e);return i!==-1&&this._iterate(s,0,i),this}forEachAfter(e,s){const i=this._search(e);return this._iterate(s,i+1),this}forEachBetween(e,s,i){let l=this._search(e),u=this._search(s);return l!==-1&&u!==-1?(this._timeline[l].time!==e&&(l+=1),this._timeline[u].time===s&&(u-=1),this._iterate(i,l,u)):l===-1&&this._iterate(i,0,u),this}forEachFrom(e,s){let i=this._search(e);for(;i>=0&&this._timeline[i].time>=e;)i--;return this._iterate(s,i+1),this}forEachAtTime(e,s){const i=this._search(e);if(i!==-1&&un(this._timeline[i].time,e)){let l=i;for(let u=i;u>=0&&un(this._timeline[u].time,e);u--)l=u;this._iterate(u=>{s(u)},l,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Jp=[];function Ka(o){Jp.push(o)}function M1(o){Jp.forEach(e=>e(o))}const em=[];function Ja(o){em.push(o)}function P1(o){em.forEach(e=>e(o))}class Xi extends $n{constructor(){super(...arguments),this.name="Emitter"}on(e,s){return e.split(/\W+/).forEach(l=>{Ut(this._events)&&(this._events={}),this._events.hasOwnProperty(l)||(this._events[l]=[]),this._events[l].push(s)}),this}once(e,s){const i=(...l)=>{s(...l),this.off(e,i)};return this.on(e,i),this}off(e,s){return e.split(/\W+/).forEach(l=>{if(Ut(this._events)&&(this._events={}),this._events.hasOwnProperty(l))if(Ut(s))this._events[l]=[];else{const u=this._events[l];for(let d=u.length-1;d>=0;d--)u[d]===s&&u.splice(d,1)}}),this}emit(e,...s){if(this._events&&this._events.hasOwnProperty(e)){const i=this._events[e].slice(0);for(let l=0,u=i.length;l<u;l++)i[l].apply(this,s)}return this}static mixin(e){["on","once","off","emit"].forEach(s=>{const i=Object.getOwnPropertyDescriptor(Xi.prototype,s);Object.defineProperty(e.prototype,s,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class tm extends Xi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Zi extends tm{constructor(){var e,s;super(),this.name="Context",this._constants=new Map,this._timeouts=new Jt,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=Q(Zi.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=T1({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new N1(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((s=arguments[0])===null||s===void 0)&&s.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(M1(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,s,i){return this._context.createBuffer(e,s,i)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,s){return this._context.createIIRFilter(e,s)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,s,i){return this._context.createPeriodicWave(e,s,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return _e(xr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return _e(xr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return _e(xr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){_e(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){_e(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){_e(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){_e(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,s){return E1(this.rawContext,e,s)}addAudioWorkletModule(e){return st(this,void 0,void 0,function*(){_e(ke(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return st(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return xr(this._context)?this._context.resume():Promise.resolve()}close(){return st(this,void 0,void 0,function*(){xr(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&P1(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const s=this._context.createBuffer(1,128,this._context.sampleRate),i=s.getChannelData(0);for(let u=0;u<i.length;u++)i[u]=e;const l=this._context.createBufferSource();return l.channelCount=1,l.channelCountMode="explicit",l.buffer=s,l.loop=!0,l.start(0),this._constants.set(e,l),l}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let s=this._timeouts.peek();for(;this._timeouts.length&&s&&s.time<=e;)s.callback(),this._timeouts.shift(),s=this._timeouts.peek()}setTimeout(e,s){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:i+s}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(s=>{s.id===e&&this._timeouts.remove(s)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,s){const i=++this._timeoutIds,l=()=>{const u=this.now();this._timeouts.add({callback:()=>{e(),l()},id:i,time:u+s})};return l(),i}}class b1 extends tm{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,s,i){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,s){return{}}createPanner(){return{}}createPeriodicWave(e,s,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,s){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return st(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,s){return 0}clearTimeout(e){return this}setInterval(e,s){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Ue(o,e){St(e)?e.forEach(s=>Ue(o,s)):Object.defineProperty(o,e,{enumerable:!0,writable:!1})}function Ac(o,e){St(e)?e.forEach(s=>Ac(o,s)):Object.defineProperty(o,e,{writable:!0})}const Ae=()=>{};class Ie extends $n{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ae;const e=Q(Ie.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Cn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Ae,onload:Ae,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:cn().sampleRate}set(e){return e instanceof Ie?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return st(this,void 0,void 0,function*(){const s=Ie.load(e).then(i=>{this.set(i),this.onload(this)});Ie.downloads.push(s);try{yield s}finally{const i=Ie.downloads.indexOf(s);Ie.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const s=St(e)&&e[0].length>0,i=s?e.length:1,l=s?e[0].length:e.length,u=cn(),d=u.createBuffer(i,l,u.sampleRate),f=!s&&i===1?[e]:e;for(let p=0;p<i;p++)d.copyToChannel(f[p],p);return this._buffer=d,this}toMono(e){if(fn(e))this.fromArray(this.toArray(e));else{let s=new Float32Array(this.length);const i=this.numberOfChannels;for(let l=0;l<i;l++){const u=this.toArray(l);for(let d=0;d<u.length;d++)s[d]+=u[d]}s=s.map(l=>l/i),this.fromArray(s)}return this}toArray(e){if(fn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const s=[];for(let i=0;i<this.numberOfChannels;i++)s[i]=this.getChannelData(i);return s}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,s=this.duration){_e(this.loaded,"Buffer is not loaded");const i=Math.floor(e*this.sampleRate),l=Math.floor(s*this.sampleRate);_e(i<l,"The start time must be less than the end time");const u=l-i,d=cn().createBuffer(this.numberOfChannels,u,this.sampleRate);for(let f=0;f<this.numberOfChannels;f++)d.copyToChannel(this.getChannelData(f).subarray(i,l),f);return new Ie(d)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Ie().fromArray(e)}static fromUrl(e){return st(this,void 0,void 0,function*(){return yield new Ie().load(e)})}static load(e){return st(this,void 0,void 0,function*(){const s=e.match(/\[([^\]\[]+\|.+)\]$/);if(s){const p=s[1].split("|");let m=p[0];for(const _ of p)if(Ie.supportsType(_)){m=_;break}e=e.replace(s[0],m)}const i=Ie.baseUrl===""||Ie.baseUrl.endsWith("/")?Ie.baseUrl:Ie.baseUrl+"/",l=document.createElement("a");l.href=i+e,l.pathname=(l.pathname+l.hash).split("/").map(encodeURIComponent).join("/");const u=yield fetch(l.href);if(!u.ok)throw new Error(`could not load url: ${e}`);const d=yield u.arrayBuffer();return yield cn().decodeAudioData(d)})}static supportsType(e){const s=e.split("."),i=s[s.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return st(this,void 0,void 0,function*(){for(yield Promise.resolve();Ie.downloads.length;)yield Ie.downloads[0]})}}Ie.baseUrl="";Ie.downloads=[];class el extends Zi{constructor(){super({clockSource:"offline",context:_a(arguments[0])?arguments[0]:x1(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:_a(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=_a(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return st(this,void 0,void 0,function*(){let s=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,s++;const i=Math.floor(this.sampleRate/128);e&&s%i===0&&(yield new Promise(l=>setTimeout(l,1)))}})}render(e=!0){return st(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const s=yield this._context.startRendering();return new Ie(s)})}close(){return Promise.resolve()}}const nm=new b1;let Ls=nm;function cn(){return Ls===nm&&C1&&F1(new Zi),Ls}function F1(o,e=!1){e&&Ls.dispose(),xr(o)?Ls=new Zi(o):_a(o)?Ls=new el(o):Ls=o}function V1(){return Ls.resume()}if(zs&&!zs.TONE_SILENCE_LOGGING){const e=` * Tone.js v${np} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function L1(o){return Math.pow(10,o/20)}function j1(o){return 20*(Math.log(o)/Math.LN10)}function sm(o){return Math.pow(2,o/12)}let tl=440;function z1(){return tl}function W1(o){tl=o}function js(o){return Math.round(rm(o))}function rm(o){return 69+12*Math.log2(o/tl)}function im(o){return tl*Math.pow(2,(o-69)/12)}class Oc extends $n{constructor(e,s,i){super(),this.defaultUnits="s",this._val=s,this._units=i,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,s)=>{const i=parseInt(e,10),l=s==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*l:this._beatsToUnits(4/i)*l},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const s=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(s)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,s,i)=>{let l=0;return e&&e!=="0"&&(l+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),s&&s!=="0"&&(l+=this._beatsToUnits(parseFloat(s))),i&&i!=="0"&&(l+=this._beatsToUnits(parseFloat(i)/4)),l},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Oc&&this.fromType(this._val),Ut(this._val))return this._noArg();if(Cn(this._val)&&Ut(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(gs(this._val)){let e=0;for(const s in this._val)if(ke(this._val[s])){const i=this._val[s],l=new this.constructor(this.context,s).valueOf()*i;e+=l}return e}if(ke(this._units)){const e=this._expressions[this._units],s=this._val.toString().trim().match(e.regexp);return s?e.method.apply(this,s.slice(1)):e.method.call(this,this._val)}else return Cn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class hn extends Oc{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const s=new hn(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(s))},regexp:/^@(.+)/}})}quantize(e,s=1){const i=new this.constructor(this.context,e).valueOf(),l=this.valueOf(),f=Math.round(l/i)*i-l;return l+f*s}toNotation(){const e=this.toSeconds(),s=["1m"];for(let u=1;u<9;u++){const d=Math.pow(2,u);s.push(d+"n."),s.push(d+"n"),s.push(d+"t")}s.push("0");let i=s[0],l=new hn(this.context,s[0]).toSeconds();return s.forEach(u=>{const d=new hn(this.context,u).toSeconds();Math.abs(d-e)<Math.abs(l-e)&&(i=u,l=d)}),i}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let s=this.valueOf()/e;s=parseFloat(s.toFixed(4));const i=Math.floor(s/this._getTimeSignature());let l=s%1*4;s=Math.floor(s)%this._getTimeSignature();const u=l.toString();return u.length>3&&(l=parseFloat(parseFloat(u).toFixed(3))),[i,s,l].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return js(this.toFrequency())}_now(){return this.context.now()}}class Bt extends hn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return z1()}static set A4(e){W1(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Bt.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,s){const l=q1[e.toLowerCase()]+(parseInt(s,10)+1)*12;return this.defaultUnits==="midi"?l:Bt.mtof(l)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,s,i){let l=1;return e&&e!=="0"&&(l*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),s&&s!=="0"&&(l*=this._beatsToUnits(parseFloat(s))),i&&i!=="0"&&(l*=this._beatsToUnits(parseFloat(i)/4)),l}}})}transpose(e){return new Bt(this.context,this.valueOf()*sm(e))}harmonize(e){return e.map(s=>this.transpose(s))}toMidi(){return js(this.valueOf())}toNote(){const e=this.toFrequency(),s=Math.log2(e/Bt.A4);let i=Math.round(12*s)+57;const l=Math.floor(i/12);return l<0&&(i+=-12*l),B1[i%12]+l.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),s=this.valueOf()/e;return Math.floor(s*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return im(e)}static ftom(e){return js(e)}}const q1={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},B1=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Er extends hn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class kt extends $n{constructor(){super();const e=Q(kt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:cn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return S1(e),new hn(this.context,e).toSeconds()}toFrequency(e){return new Bt(this.context,e).toFrequency()}toTicks(e){return new Er(this.context,e).toTicks()}_getPartialProperties(e){const s=this.get();return Object.keys(s).forEach(i=>{Ut(e[i])&&delete s[i]}),s}get(){const e=R1(this);return Object.keys(e).forEach(s=>{if(Reflect.has(this,s)){const i=this[s];ke(i)&&ke(i.value)&&ke(i.setValueAtTime)?e[s]=i.value:i instanceof kt?e[s]=i._getPartialProperties(e[s]):St(i)||fn(i)||Cn(i)||Yp(i)?e[s]=i:delete e[s]}}),e}set(e){return Object.keys(e).forEach(s=>{Reflect.has(this,s)&&ke(this[s])&&(this[s]&&ke(this[s].value)&&ke(this[s].setValueAtTime)?this[s].value!==e[s]&&(this[s].value=e[s]):this[s]instanceof kt?this[s].set(e[s]):this[s]=e[s])}),this}}class Ki extends Jt{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const s=this.get(e);return s!==null?s.state:this._initial}setStateAtTime(e,s,i){return En(s,0),this.add(Object.assign({},i,{state:e,time:s})),this}getLastState(e,s){const i=this._search(s);for(let l=i;l>=0;l--){const u=this._timeline[l];if(u.state===e)return u}}getNextState(e,s){const i=this._search(s);if(i!==-1)for(let l=i;l<this._timeline.length;l++){const u=this._timeline[l];if(u.state===e)return u}}}class Me extends kt{constructor(){super(Q(Me.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=Q(Me.getDefaults(),arguments,["param","units","convert"]);for(_e(ke(e.param)&&(qs(e.param)||e.param instanceof Me),"param must be an AudioParam");!qs(e.param);)e.param=e.param._param;this._swappable=ke(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Jt(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ke(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(kt.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ke(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ke(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,s){return this.units===s}_assertRange(e){return ke(this.maxValue)&&ke(this.minValue)&&En(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?L1(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?j1(e):e}setValueAtTime(e,s){const i=this.toSeconds(s),l=this._fromType(e);return _e(isFinite(l)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._assertRange(l),this.log(this.units,"setValueAtTime",e,i),this._events.add({time:i,type:"setValueAtTime",value:l}),this._param.setValueAtTime(l,i),this}getValueAtTime(e){const s=Math.max(this.toSeconds(e),0),i=this._events.getAfter(s),l=this._events.get(s);let u=this._initialValue;if(l===null)u=this._initialValue;else if(l.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const d=this._events.getBefore(l.time);let f;d===null?f=this._initialValue:f=d.value,l.type==="setTargetAtTime"&&(u=this._exponentialApproach(l.time,f,l.value,l.constant,s))}else if(i===null)u=l.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let d=l.value;if(l.type==="setTargetAtTime"){const f=this._events.getBefore(l.time);f===null?d=this._initialValue:d=f.value}i.type==="linearRampToValueAtTime"?u=this._linearInterpolate(l.time,d,i.time,i.value,s):u=this._exponentialInterpolate(l.time,d,i.time,i.value,s)}else u=l.value;return this._toType(u)}setRampPoint(e){e=this.toSeconds(e);let s=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(s)===0&&(s=this._toType(this._minOutput)),this.setValueAtTime(s,e),this}linearRampToValueAtTime(e,s){const i=this._fromType(e),l=this.toSeconds(s);return _e(isFinite(i)&&isFinite(l),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._assertRange(i),this._events.add({time:l,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",e,l),this._param.linearRampToValueAtTime(i,l),this}exponentialRampToValueAtTime(e,s){let i=this._fromType(e);i=un(i,0)?this._minOutput:i,this._assertRange(i);const l=this.toSeconds(s);return _e(isFinite(i)&&isFinite(l),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._events.add({time:l,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",e,l),this._param.exponentialRampToValueAtTime(i,l),this}exponentialRampTo(e,s,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(e,i+this.toSeconds(s)),this}linearRampTo(e,s,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(e,i+this.toSeconds(s)),this}targetRampTo(e,s,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(e,i,s),this}exponentialApproachValueAtTime(e,s,i){s=this.toSeconds(s),i=this.toSeconds(i);const l=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(e,s,l),this.cancelAndHoldAtTime(s+i*.9),this.linearRampToValueAtTime(e,s+i),this}setTargetAtTime(e,s,i){const l=this._fromType(e);_e(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const u=this.toSeconds(s);return this._assertRange(l),_e(isFinite(l)&&isFinite(u),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._events.add({constant:i,time:u,type:"setTargetAtTime",value:l}),this.log(this.units,"setTargetAtTime",e,u,i),this._param.setTargetAtTime(l,u,i),this}setValueCurveAtTime(e,s,i,l=1){i=this.toSeconds(i),s=this.toSeconds(s);const u=this._fromType(e[0])*l;this.setValueAtTime(this._toType(u),s);const d=i/(e.length-1);for(let f=1;f<e.length;f++){const p=this._fromType(e[f])*l;this.linearRampToValueAtTime(this._toType(p),s+f*d)}return this}cancelScheduledValues(e){const s=this.toSeconds(e);return _e(isFinite(s),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(s),this._param.cancelScheduledValues(s),this.log(this.units,"cancelScheduledValues",s),this}cancelAndHoldAtTime(e){const s=this.toSeconds(e),i=this._fromType(this.getValueAtTime(s));_e(isFinite(s),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",s,"value="+i);const l=this._events.get(s),u=this._events.getAfter(s);return l&&un(l.time,s)?u?(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time)):(this._param.cancelAndHoldAtTime(s),this._events.cancel(s+this.sampleTime)):u&&(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time),u.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),s):u.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),s)),this._events.add({time:s,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,s),this}rampTo(e,s=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,s,i):this.linearRampTo(e,s,i),this}apply(e){const s=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(s),s);const i=this._events.get(s);if(i&&i.type==="setTargetAtTime"){const l=this._events.getAfter(i.time),u=l?l.time:s+2,d=(u-s)/10;for(let f=s;f<u;f+=d)e.linearRampToValueAtTime(this.getValueAtTime(f),f)}return this._events.forEachAfter(this.context.currentTime,l=>{l.type==="cancelScheduledValues"?e.cancelScheduledValues(l.time):l.type==="setTargetAtTime"?e.setTargetAtTime(l.value,l.time,l.constant):e[l.type](l.value,l.time)}),this}setParam(e){_e(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const s=this.input;return s.disconnect(this._param),this.apply(e),this._param=e,s.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,s,i,l,u){return i+(s-i)*Math.exp(-(u-e)/l)}_linearInterpolate(e,s,i,l,u){return s+(l-s)*((u-e)/(i-e))}_exponentialInterpolate(e,s,i,l,u){return s*Math.pow(l/s,(u-e)/(i-e))}}class ve extends kt{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ke(this.input)?qs(this.input)||this.input instanceof Me?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ke(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ke(e)&&(e instanceof ve||_s(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(i=>{i.channelCount=e.channelCount,i.channelCountMode=e.channelCountMode,i.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();_e(e.length>0,"ToneAudioNode does not have any internal nodes");const s=e[0];return{channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelInterpretation:e}))}connect(e,s=0,i=0){return ys(this,e,s,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Za("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,s=0,i=0){return U1(this,e,s,i),this}chain(...e){return Ri(this,...e),this}fan(...e){return e.forEach(s=>this.connect(s)),this}dispose(){return super.dispose(),ke(this.input)&&(this.input instanceof ve?this.input.dispose():_s(this.input)&&this.input.disconnect()),ke(this.output)&&(this.output instanceof ve?this.output.dispose():_s(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ri(...o){const e=o.shift();o.reduce((s,i)=>(s instanceof ve?s.connect(i):_s(s)&&ys(s,i),i),e)}function ys(o,e,s=0,i=0){for(_e(ke(o),"Cannot connect from undefined node"),_e(ke(e),"Cannot connect to undefined node"),(e instanceof ve||_s(e))&&_e(e.numberOfInputs>0,"Cannot connect to node with no inputs"),_e(o.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof ve||e instanceof Me;)ke(e.input)&&(e=e.input);for(;o instanceof ve;)ke(o.output)&&(o=o.output);qs(e)?o.connect(e,s):o.connect(e,s,i)}function U1(o,e,s=0,i=0){if(ke(e))for(;e instanceof ve;)e=e.input;for(;!_s(o);)ke(o.output)&&(o=o.output);qs(e)?o.disconnect(e,s):_s(e)?o.disconnect(e,s,i):o.disconnect()}class be extends ve{constructor(){super(Q(be.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=Q(be.getDefaults(),arguments,["gain","units"]);this.gain=new Me({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Ue(this,"gain")}static getDefaults(){return Object.assign(ve.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Dr extends ve{constructor(e){super(e),this.onended=Ae,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new be({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(s){const i=this.toSeconds(s);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(ve.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Ae})}_startGain(e,s=1){_e(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=e+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(s,e+i):this._gainNode.gain.exponentialApproachValueAtTime(s,e,i)):this._gainNode.gain.setValueAtTime(s,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){_e(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const s=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+s,this._stopTime=Math.max(this._stopTime,this.now()),s>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,s,e):this._gainNode.gain.targetRampTo(0,s,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?s*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Ae&&(this.onended(this),this.onended=Ae,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),_e(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Ae,this}}class Aa extends Dr{constructor(){super(Q(Aa.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=Q(Aa.getDefaults(),arguments,["offset"]);ys(this._source,this._gainNode),this.offset=new Me({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Dr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const s=this.toSeconds(e);return this.log("start",s),this._startGain(s),this._source.start(s),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Pe extends ve{constructor(){super(Q(Pe.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=Q(Pe.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Aa({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ve.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,s=0,i=0){return Dc(this,e,s,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,s){return this._param.setValueAtTime(e,s),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,s){return this._param.linearRampToValueAtTime(e,s),this}exponentialRampToValueAtTime(e,s){return this._param.exponentialRampToValueAtTime(e,s),this}exponentialRampTo(e,s,i){return this._param.exponentialRampTo(e,s,i),this}linearRampTo(e,s,i){return this._param.linearRampTo(e,s,i),this}targetRampTo(e,s,i){return this._param.targetRampTo(e,s,i),this}exponentialApproachValueAtTime(e,s,i){return this._param.exponentialApproachValueAtTime(e,s,i),this}setTargetAtTime(e,s,i){return this._param.setTargetAtTime(e,s,i),this}setValueCurveAtTime(e,s,i,l){return this._param.setValueCurveAtTime(e,s,i,l),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,s,i){return this._param.rampTo(e,s,i),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Dc(o,e,s,i){(e instanceof Me||qs(e)||e instanceof Pe&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Pe&&(e.overridden=!0)),ys(o,e,s,i)}class Oa extends Me{constructor(){super(Q(Oa.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Jt(1/0),this._multiplier=1;const e=Q(Oa.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Me.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,s,i){s=this.toSeconds(s),this.setRampPoint(s);const l=this._fromType(e),u=this._events.get(s),d=Math.round(Math.max(1/i,1));for(let f=0;f<=d;f++){const p=i*f+s,m=this._exponentialApproach(u.time,u.value,l,i,p);this.linearRampToValueAtTime(this._toType(m),p)}return this}setValueAtTime(e,s){const i=this.toSeconds(s);super.setValueAtTime(e,s);const l=this._events.get(i),u=this._events.previousEvent(l),d=this._getTicksUntilEvent(u,i);return l.ticks=Math.max(d,0),this}linearRampToValueAtTime(e,s){const i=this.toSeconds(s);super.linearRampToValueAtTime(e,s);const l=this._events.get(i),u=this._events.previousEvent(l),d=this._getTicksUntilEvent(u,i);return l.ticks=Math.max(d,0),this}exponentialRampToValueAtTime(e,s){s=this.toSeconds(s);const i=this._fromType(e),l=this._events.get(s),u=Math.round(Math.max((s-l.time)*10,1)),d=(s-l.time)/u;for(let f=0;f<=u;f++){const p=d*f+l.time,m=this._exponentialInterpolate(l.time,l.value,s,i,p);this.linearRampToValueAtTime(this._toType(m),p)}return this}_getTicksUntilEvent(e,s){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Ut(e.ticks)){const d=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(d,e.time)}const i=this._fromType(this.getValueAtTime(e.time));let l=this._fromType(this.getValueAtTime(s));const u=this._events.get(s);return u&&u.time===s&&u.type==="setValueAtTime"&&(l=this._fromType(this.getValueAtTime(s-this.sampleTime))),.5*(s-e.time)*(i+l)+e.ticks}getTicksAtTime(e){const s=this.toSeconds(e),i=this._events.get(s);return Math.max(this._getTicksUntilEvent(i,s),0)}getDurationOfTicks(e,s){const i=this.toSeconds(s),l=this.getTicksAtTime(s);return this.getTimeOfTick(l+e)-i}getTimeOfTick(e){const s=this._events.get(e,"ticks"),i=this._events.getAfter(e,"ticks");if(s&&s.ticks===e)return s.time;if(s&&i&&i.type==="linearRampToValueAtTime"&&s.value!==i.value){const l=this._fromType(this.getValueAtTime(s.time)),d=(this._fromType(this.getValueAtTime(i.time))-l)/(i.time-s.time),f=Math.sqrt(Math.pow(l,2)-2*d*(s.ticks-e)),p=(-l+f)/d,m=(-l-f)/d;return(p>0?p:m)+s.time}else return s?s.value===0?1/0:s.time+(e-s.ticks)/s.value:e/this._initialValue}ticksToTime(e,s){return this.getDurationOfTicks(e,s)}timeToTicks(e,s){const i=this.toSeconds(s),l=this.toSeconds(e),u=this.getTicksAtTime(i);return this.getTicksAtTime(i+l)-u}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const s=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(s,0)}}class Da extends Pe{constructor(){super(Q(Da.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=Q(Da.getDefaults(),arguments,["value"]);this.input=this._param=new Oa({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Pe.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,s){return this._param.ticksToTime(e,s)}timeToTicks(e,s){return this._param.timeToTicks(e,s)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,s){return this._param.getDurationOfTicks(e,s)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Ra extends kt{constructor(){super(Q(Ra.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Ki,this._tickOffset=new Jt,this._ticksAtTime=new Jt,this._secondsAtTime=new Jt;const e=Q(Ra.getDefaults(),arguments,["frequency"]);this.frequency=new Da({context:this.context,units:e.units,value:e.frequency}),Ue(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},kt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,s){const i=this.toSeconds(e);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),ke(s)&&this.setTicksAtTime(s,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(e){const s=this.toSeconds(e);if(this._state.getValueAtTime(s)==="stopped"){const i=this._state.get(s);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(s),this._state.setStateAtTime("stopped",s),this.setTicksAtTime(0,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}pause(e){const s=this.toSeconds(e);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const s=this.toSeconds(e),i=this._state.getLastState("stopped",s),l=this._ticksAtTime.get(s),u={state:"paused",time:s};this._state.add(u);let d=l||i,f=l?l.ticks:0,p=null;return this._state.forEachBetween(d.time,s+this.sampleTime,m=>{let _=d.time;const v=this._tickOffset.get(m.time);v&&v.time>=d.time&&(f=v.ticks,_=v.time),d.state==="started"&&m.state!=="started"&&(f+=this.frequency.getTicksAtTime(m.time)-this.frequency.getTicksAtTime(_),m.time!==u.time&&(p={state:m.state,time:m.time,ticks:f})),d=m}),this._state.remove(u),p&&this._ticksAtTime.add(p),f}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const s=this.now(),i=this.frequency.timeToTicks(e,s);this.setTicksAtTime(i,s)}getSecondsAtTime(e){e=this.toSeconds(e);const s=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);const l=this._secondsAtTime.get(e);let u=l||s,d=l?l.seconds:0,f=null;return this._state.forEachBetween(u.time,e+this.sampleTime,p=>{let m=u.time;const _=this._tickOffset.get(p.time);_&&_.time>=u.time&&(d=_.seconds,m=_.time),u.state==="started"&&p.state!=="started"&&(d+=p.time-m,p.time!==i.time&&(f={state:p.state,time:p.time,seconds:d})),u=p}),this._state.remove(i),f&&this._secondsAtTime.add(f),d}setTicksAtTime(e,s){return s=this.toSeconds(s),this._tickOffset.cancel(s),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,s),ticks:e,time:s}),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,s=this.now()){const i=this._tickOffset.get(s),l=this._state.get(s),u=Math.max(i.time,l.time),d=this.frequency.getTicksAtTime(u)+e-i.ticks;return this.frequency.getTimeOfTick(d)}forEachTickBetween(e,s,i){let l=this._state.get(e);this._state.forEachBetween(e,s,d=>{l&&l.state==="started"&&d.state!=="started"&&this.forEachTickBetween(Math.max(l.time,e),d.time-this.sampleTime,i),l=d});let u=null;if(l&&l.state==="started"){const d=Math.max(l.time,e),f=this.frequency.getTicksAtTime(d),p=this.frequency.getTicksAtTime(l.time),m=f-p;let _=Math.ceil(m)-m;_=un(_,1)?0:_;let v=this.frequency.getTimeOfTick(f+_);for(;v<s;){try{i(v,Math.round(this.getTicksAtTime(v)))}catch(y){u=y;break}v+=this.frequency.getDurationOfTicks(1,v)}}if(u)throw u;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Ii extends kt{constructor(){super(Q(Ii.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Ae,this._lastUpdate=0,this._state=new Ki("stopped"),this._boundLoop=this._loop.bind(this);const e=Q(Ii.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new Ra({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ue(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(kt.getDefaults(),{callback:Ae,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,s){Xp(this.context);const i=this.toSeconds(e);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,s),i<this._lastUpdate&&this.emit("start",i,s)),this}stop(e){const s=this.toSeconds(e);return this.log("stop",s),this._state.cancel(s),this._state.setStateAtTime("stopped",s),this._tickSource.stop(s),s<this._lastUpdate&&this.emit("stop",s),this}pause(e){const s=this.toSeconds(e);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._tickSource.pause(s),s<this._lastUpdate&&this.emit("pause",s)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,s){return this._tickSource.setTicksAtTime(e,s),this}getTimeOfTick(e,s=this.now()){return this._tickSource.getTimeOfTick(e,s)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,s){const i=this.toSeconds(s),l=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(l+e,i)}_loop(){const e=this._lastUpdate,s=this.now();this._lastUpdate=s,this.log("loop",e,s),e!==s&&(this._state.forEachBetween(e,s,i=>{switch(i.state){case"started":const l=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,l);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(e,s,(i,l)=>{this.callback(i,l)}))}getStateAtTime(e){const s=this.toSeconds(e);return this._state.getValueAtTime(s)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Xi.mixin(Ii);class Rc extends $n{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Q(Rc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(s=>{this._loadingCount++;const i=e.urls[s];this.add(s,i,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Ae,onload:Ae,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return _e(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,s])=>s.loaded)}add(e,s,i=Ae,l=Ae){return Cn(s)?(this.baseUrl&&s.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Ie(this.baseUrl+s,i,l))):this._buffers.set(e.toString(),new Ie(s,i,l)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Ia extends Bt{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return js(super._frequencyToUnits(e))}_ticksToUnits(e){return js(super._ticksToUnits(e))}_beatsToUnits(e){return js(super._beatsToUnits(e))}_secondsToUnits(e){return js(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return im(this.toMidi())}transpose(e){return new Ia(this.context,this.toMidi()+e)}}class Ze extends Er{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class G1 extends kt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Jt,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,s){return this._events.add({callback:e,time:this.toSeconds(s)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const s=this._events.shift();s&&e-s.time<=this.expiration&&s.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Ka(o=>{o.draw=new G1({context:o})});Ja(o=>{o.draw.dispose()});class $1 extends $n{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){_e(ke(e.time),"Events must have a time property"),_e(ke(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let s=new H1(e.time,e.time+e.duration,e);for(this._root===null?this._root=s:this._root.insert(s),this._length++;s!==null;)s.updateHeight(),s.updateMax(),this._rebalance(s),s=s.parent;return this}remove(e){if(this._root!==null){const s=[];this._root.search(e.time,s);for(const i of s)if(i.event===e){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,s=>this.remove(s)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,s){e.parent!==null?(e.isLeftChild()?e.parent.left=s:e.parent.right=s,this._rebalance(e.parent)):this._setRoot(s)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const s=e.getBalance();let i,l=null;if(s>0)if(e.left.right===null)i=e.left,i.right=e.right,l=i;else{for(i=e.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,l=i.parent,i.left=e.left,i.right=e.right)}else if(e.right.left===null)i=e.right,i.left=e.left,l=i;else{for(i=e.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,l=i.parent,i.left=e.left,i.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=i:e.parent.right=i:this._setRoot(i),l&&this._rebalance(l)}e.dispose()}_rotateLeft(e){const s=e.parent,i=e.isLeftChild(),l=e.right;l&&(e.right=l.left,l.left=e),s!==null?i?s.left=l:s.right=l:this._setRoot(l)}_rotateRight(e){const s=e.parent,i=e.isLeftChild(),l=e.left;l&&(e.left=l.right,l.right=e),s!==null?i?s.left=l:s.right=l:this._setRoot(l)}_rebalance(e){const s=e.getBalance();s>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):s<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const s=[];if(this._root.search(e,s),s.length>0){let i=s[0];for(let l=1;l<s.length;l++)s[l].low>i.low&&(i=s[l]);return i.event}}return null}forEach(e){if(this._root!==null){const s=[];this._root.traverse(i=>s.push(i)),s.forEach(i=>{i.event&&e(i.event)})}return this}forEachAtTime(e,s){if(this._root!==null){const i=[];this._root.search(e,i),i.forEach(l=>{l.event&&s(l.event)})}return this}forEachFrom(e,s){if(this._root!==null){const i=[];this._root.searchAfter(e,i),i.forEach(l=>{l.event&&s(l.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class H1{constructor(e,s,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=e,this.high=s,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,s){e>this.max||(this.left!==null&&this.left.search(e,s),this.low<=e&&this.high>e&&s.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,s))}searchAfter(e,s){this.low>=e&&(s.push(this),this.left!==null&&this.left.searchAfter(e,s)),this.right!==null&&this.right.searchAfter(e,s)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Us extends ve{constructor(){super(Q(Us.getDefaults(),arguments,["volume"])),this.name="Volume";const e=Q(Us.getDefaults(),arguments,["volume"]);this.input=this.output=new be({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Ue(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(ve.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Ma extends ve{constructor(){super(Q(Ma.getDefaults(),arguments)),this.name="Destination",this.input=new Us({context:this.context}),this.output=new be({context:this.context}),this.volume=this.input.volume;const e=Q(Ma.getDefaults(),arguments);Ri(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ve.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ri(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Ka(o=>{o.destination=new Ma({context:o})});Ja(o=>{o.destination.dispose()});class Q1 extends $n{constructor(e){super(),this.name="TimelineValue",this._timeline=new Jt({memory:10}),this._initialValue=e}set(e,s){return this._timeline.add({value:e,time:s}),this}get(e){const s=this._timeline.get(e);return s?s.value:this._initialValue}}class Bn extends ve{constructor(){super(Object.assign(Q(Bn.getDefaults(),arguments,["context"])))}connect(e,s=0,i=0){return Dc(this,e,s,i),this}}class Gs extends Bn{constructor(){super(Object.assign(Q(Gs.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=Q(Gs.getDefaults(),arguments,["mapping","length"]);St(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):w1(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Pe.getDefaults(),{length:1024})}setMap(e,s=1024){const i=new Float32Array(s);for(let l=0,u=s;l<u;l++){const d=l/(u-1)*2-1;i[l]=e(d,l)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const s=["none","2x","4x"].some(i=>i.includes(e));_e(s,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Pa extends Bn{constructor(){super(Object.assign(Q(Pa.getDefaults(),arguments,["value"]))),this.name="Pow";const e=Q(Pa.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Gs({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Bn.getDefaults(),{value:1})}_expFunc(e){return s=>Math.pow(Math.abs(s),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class ws{constructor(e,s){this.id=ws._eventId++,this._remainderTime=0;const i=Object.assign(ws.getDefaults(),s);this.transport=e,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:Ae,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const s=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*s),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}ws._eventId=0;class Ic extends ws{constructor(e,s){super(e,s),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(Ic.getDefaults(),s);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ws.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Na(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Ze(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Na(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ze(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const s=this.transport.getTicksAtTime(e);Or(s,this.time)&&(this._nextTick=this.floatTime+Math.ceil((s-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Mi extends kt{constructor(){super(Q(Mi.getDefaults(),arguments)),this.name="Transport",this._loop=new Q1(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Jt,this._repeatedEvents=new $1,this._syncedSignals=[],this._swingAmount=0;const e=Q(Mi.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new Ii({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Ue(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(kt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,s){if(this._loop.get(e)&&s>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),s=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&s%this._ppq!==0&&s%(this._swingTicks*2)!==0){const i=s%(this._swingTicks*2)/(this._swingTicks*2),l=Math.sin(i*Math.PI)*this._swingAmount;e+=new Ze(this.context,this._swingTicks*2/3).toSeconds()*l}Yf(!0),this._timeline.forEachAtTime(s,i=>i.invoke(e)),Yf(!1)}schedule(e,s){const i=new ws(this,{callback:e,time:new Er(this.context,s).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(e,s,i,l=1/0){const u=new Ic(this,{callback:e,duration:new hn(this.context,l).toTicks(),interval:new hn(this.context,s).toTicks(),time:new Er(this.context,i).toTicks()});return this._addEvent(u,this._repeatedEvents)}scheduleOnce(e,s){const i=new ws(this,{callback:e,once:!0,time:new Er(this.context,s).toTicks()});return this._addEvent(i,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const s=this._scheduledEvents[e.toString()];s.timeline.remove(s.event),s.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,s){return this._scheduledEvents[e.id.toString()]={event:e,timeline:s},s.add(e),e.id}cancel(e=0){const s=this.toTicks(e);return this._timeline.forEachFrom(s,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(s,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(e,s)=>{s=new Ze(this.context,s).toSeconds(),this.emit("start",e,s)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,s){this.context.resume();let i;return ke(s)&&(i=this.toTicks(s)),this._clock.start(e,i),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){St(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new hn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new hn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,s){return this.loopStart=e,this.loopEnd=s,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Ze(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),s=this._clock.getTicksAtTime(e);return new Ze(this.context,s).toBarsBeatsSixteenths()}set position(e){const s=this.toTicks(e);this.ticks=s}get seconds(){return this._clock.seconds}set seconds(e){const s=this.now(),i=this._clock.frequency.timeToTicks(e,s);this.ticks=i}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const s=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(s),l=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,s),u=s+l;this.emit("stop",u),this._clock.setTicksAtTime(e,u),this.emit("start",u,this._clock.getSecondsAtTime(u))}else this.emit("ticks",s),this._clock.setTicksAtTime(e,s)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const s=this.now(),i=this.getTicksAtTime(s),l=e-i%e;return this._clock.nextTickTime(l,s)}}syncSignal(e,s){const i=this.now();let l=this.bpm,u=1/(60/l.getValueAtTime(i)/this.PPQ),d=[];if(e.units==="time"){const p=.015625/u,m=new be(p),_=new Pa(-1),v=new be(p);l.chain(m,_,v),l=v,u=1/u,d=[m,_,v]}s||(e.getValueAtTime(i)!==0?s=e.getValueAtTime(i)/u:s=0);const f=new be(s);return l.connect(f),f.connect(e._param),d.push(f),this._syncedSignals.push({initial:e.value,nodes:d,signal:e}),e.value=0,this}unsyncSignal(e){for(let s=this._syncedSignals.length-1;s>=0;s--){const i=this._syncedSignals[s];i.signal===e&&(i.nodes.forEach(l=>l.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(s,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Ac(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Xi.mixin(Mi);Ka(o=>{o.transport=new Mi({context:o})});Ja(o=>{o.transport.dispose()});class Tt extends ve{constructor(e){super(e),this.input=void 0,this._state=new Ki("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Ae,this._syncedStop=Ae,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Us({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Ue(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(ve.getDefaults(),{mute:!1,onstop:Ae,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,s,i){let l=Ut(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(l=this._clampToCurrentTime(l),!this._synced&&this._state.getValueAtTime(l)==="started")_e(Or(l,this._state.get(l).time),"Start time must be strictly greater than previous start time"),this._state.cancel(l),this._state.setStateAtTime("started",l),this.log("restart",l),this.restart(l,s,i);else if(this.log("start",l),this._state.setStateAtTime("started",l),this._synced){const u=this._state.get(l);u&&(u.offset=this.toSeconds(Tn(s,0)),u.duration=i?this.toSeconds(i):void 0);const d=this.context.transport.schedule(f=>{this._start(f,s,i)},l);this._scheduled.push(d),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>l&&this._syncedStart(this.now(),this.context.transport.seconds)}else Xp(this.context),this._start(l,s,i);return this}stop(e){let s=Ut(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),this._state.getValueAtTime(s)==="started"||ke(this._state.getNextState("started",s))){if(this.log("stop",s),!this._synced)this._stop(s);else{const i=this.context.transport.schedule(this._stop.bind(this),s);this._scheduled.push(i)}this._state.cancel(s),this._state.setStateAtTime("stopped",s)}return this}restart(e,s,i){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,s,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,s)=>{if(Or(s,0)){const i=this._state.get(s);if(i&&i.state==="started"&&i.time!==s){const l=s-this.toSeconds(i.time);let u;i.duration&&(u=this.toSeconds(i.duration)-l),this._start(e,this.toSeconds(i.offset)+l,u)}}},this._syncedStop=e=>{const s=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(s)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Ae,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Rr extends Dr{constructor(){super(Q(Rr.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=Q(Rr.getDefaults(),arguments,["url","onload"]);ys(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Me({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Ie(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Dr.getDefaults(),{url:new Ie,loop:!1,loopEnd:0,loopStart:0,onload:Ae,onerror:Ae,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,s,i,l=1){_e(this.buffer.loaded,"buffer is either not set or not loaded");const u=this.toSeconds(e);this._startGain(u,l),this.loop?s=Tn(s,this.loopStart):s=Tn(s,0);let d=Math.max(this.toSeconds(s),0);if(this.loop){const f=this.toSeconds(this.loopEnd)||this.buffer.duration,p=this.toSeconds(this.loopStart),m=f-p;ac(d,f)&&(d=(d-p)%m+p),un(d,this.buffer.duration)&&(d=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Na(d,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(u,d)),ke(i)){let f=this.toSeconds(i);f=Math.max(f,0),this.stop(u+f)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Ss extends Tt{constructor(){super(Q(Ss.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=Q(Ss.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Tt.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(_e(e in Xf,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const s=this.now();this._stop(s),this._start(s)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const s=Xf[this._type];this._source=new Rr({url:s,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(s.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const kr=44100*5,Ku=2,jn={brown:null,pink:null,white:null},Xf={get brown(){if(!jn.brown){const o=[];for(let e=0;e<Ku;e++){const s=new Float32Array(kr);o[e]=s;let i=0;for(let l=0;l<kr;l++){const u=Math.random()*2-1;s[l]=(i+.02*u)/1.02,i=s[l],s[l]*=3.5}}jn.brown=new Ie().fromArray(o)}return jn.brown},get pink(){if(!jn.pink){const o=[];for(let e=0;e<Ku;e++){const s=new Float32Array(kr);o[e]=s;let i,l,u,d,f,p,m;i=l=u=d=f=p=m=0;for(let _=0;_<kr;_++){const v=Math.random()*2-1;i=.99886*i+v*.0555179,l=.99332*l+v*.0750759,u=.969*u+v*.153852,d=.8665*d+v*.3104856,f=.55*f+v*.5329522,p=-.7616*p-v*.016898,s[_]=i+l+u+d+f+p+m+v*.5362,s[_]*=.11,m=v*.115926}}jn.pink=new Ie().fromArray(o)}return jn.pink},get white(){if(!jn.white){const o=[];for(let e=0;e<Ku;e++){const s=new Float32Array(kr);o[e]=s;for(let i=0;i<kr;i++)s[i]=Math.random()*2-1}jn.white=new Ie().fromArray(o)}return jn.white}};function Ys(o,e){return st(this,void 0,void 0,function*(){const s=e/o.context.sampleRate,i=new el(1,s,o.context.sampleRate);return new o.constructor(Object.assign(o.get(),{frequency:2/s,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class ba extends Dr{constructor(){super(Q(ba.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=Q(ba.getDefaults(),arguments,["frequency","type"]);ys(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Me({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Me({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Ue(this,["frequency","detune"])}static getDefaults(){return Object.assign(Dr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const s=this.toSeconds(e);return this.log("start",s),this._startGain(s),this._oscillator.start(s),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class nt extends Tt{constructor(){super(Q(nt.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=Q(nt.getDefaults(),arguments,["frequency","type"]);this.frequency=new Pe({context:this.context,units:"frequency",value:e.frequency}),Ue(this,"frequency"),this.detune=new Pe({context:this.context,units:"cents",value:e.detune}),Ue(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Tt.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const s=this.toSeconds(e),i=new ba({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(e){const s=this.toSeconds(e);this._oscillator&&this._oscillator.stop(s)}_restart(e){const s=this.toSeconds(e);return this.log("restart",s),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return nt._periodicWaveCache.find(s=>s.phase===this._phase&&D1(s.partials,this._partials));{const e=nt._periodicWaveCache.find(s=>s.type===this._type&&s.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const s=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&s)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const i=this._getCachedPeriodicWave();if(ke(i)){const{partials:l,wave:u}=i;this._wave=u,this._partials=l,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[l,u]=this._getRealImaginary(e,this._phase),d=this.context.createPeriodicWave(l,u);this._wave=d,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),nt._periodicWaveCache.push({imag:u,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:l,type:this._type,wave:this._wave}),nt._periodicWaveCache.length>100&&nt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){En(e,0);let s=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(s=i[1]),this._type!=="custom")e===0?this.type=s:this.type=s+e.toString();else{const l=new Float32Array(e);this._partials.forEach((u,d)=>l[d]=u),this._partials=Array.from(l),this.type=this._type}}_getRealImaginary(e,s){let l=2048;const u=new Float32Array(l),d=new Float32Array(l);let f=1;if(e==="custom"){if(f=this._partials.length+1,this._partialCount=this._partials.length,l=f,this._partials.length===0)return[u,d]}else{const p=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);p?(f=parseInt(p[2],10)+1,this._partialCount=parseInt(p[2],10),e=p[1],f=Math.max(f,2),l=f):this._partialCount=0,this._partials=[]}for(let p=1;p<l;++p){const m=2/(p*Math.PI);let _;switch(e){case"sine":_=p<=f?1:0,this._partials[p-1]=_;break;case"square":_=p&1?2*m:0,this._partials[p-1]=_;break;case"sawtooth":_=m*(p&1?1:-1),this._partials[p-1]=_;break;case"triangle":p&1?_=2*(m*m)*(p-1>>1&1?-1:1):_=0,this._partials[p-1]=_;break;case"custom":_=this._partials[p-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}_!==0?(u[p]=-_*Math.sin(s*p),d[p]=_*Math.cos(s*p)):(u[p]=0,d[p]=0)}return[u,d]}_inverseFFT(e,s,i){let l=0;const u=e.length;for(let d=0;d<u;d++)l+=e[d]*Math.cos(d*i)+s[d]*Math.sin(d*i);return l}getInitialValue(){const[e,s]=this._getRealImaginary(this._type,0);let i=0;const l=Math.PI*2,u=32;for(let d=0;d<u;d++)i=Math.max(this._inverseFFT(e,s,d/u*l),i);return I1(-this._inverseFFT(e,s,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return st(this,void 0,void 0,function*(){return Ys(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}nt._periodicWaveCache=[];class Y1 extends Bn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Gs({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Un extends Pe{constructor(){super(Object.assign(Q(Un.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=Q(Un.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new be({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Pe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Pi extends Tt{constructor(){super(Q(Pi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Y1({context:this.context}),this._modulationNode=new be({context:this.context});const e=Q(Pi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new nt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new nt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Un({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ue(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(nt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return st(this,void 0,void 0,function*(){return Ys(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ir extends Tt{constructor(){super(Q(Ir.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new be({context:this.context,gain:0});const e=Q(Ir.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new nt({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Pe({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new nt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Un({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Un({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ue(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(nt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return st(this,void 0,void 0,function*(){return Ys(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Mr extends Tt{constructor(){super(Q(Mr.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new be({context:this.context,gain:0}),this._thresh=new Gs({context:this.context,mapping:s=>s<=0?-1:1});const e=Q(Mr.getDefaults(),arguments,["frequency","width"]);this.width=new Pe({context:this.context,units:"audioRange",value:e.width}),this._triangle=new nt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ue(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Tt.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return st(this,void 0,void 0,function*(){return Ys(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class bi extends Tt{constructor(){super(Q(bi.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=Q(bi.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Pe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Pe({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Ue(this,["frequency","detune"])}static getDefaults(){return Object.assign(nt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(s=>s.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(s=>s.stop(e))}_restart(e){this._forEach(s=>s.restart(e))}_forEach(e){for(let s=0;s<this._oscillators.length;s++)e(this._oscillators[s],s)}get type(){return this._type}set type(e){this._type=e,this._forEach(s=>s.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const s=-e/2,i=e/(this._oscillators.length-1);this._forEach((l,u)=>l.detune.value=s+i*u)}}get count(){return this._oscillators.length}set count(e){if(En(e,1),this._oscillators.length!==e){this._forEach(s=>s.dispose()),this._oscillators=[];for(let s=0;s<e;s++){const i=new nt({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+s/e*360,partialCount:this._partialCount,onstop:s===0?()=>this.onstop(this):Ae});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[s]=i}this.spread=this._spread,this.state==="started"&&this._forEach(s=>s.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((s,i)=>s.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(s=>s.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(s=>s.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(s=>s.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return st(this,void 0,void 0,function*(){return Ys(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Fi extends Tt{constructor(){super(Q(Fi.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Un({context:this.context,value:2});const e=Q(Fi.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Mr({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new nt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ue(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Tt.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return st(this,void 0,void 0,function*(){return Ys(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Zf={am:Pi,fat:bi,fm:Ir,oscillator:nt,pulse:Mr,pwm:Fi};class Vi extends Tt{constructor(){super(Q(Vi.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=Q(Vi.getDefaults(),arguments,["frequency","type"]);this.frequency=new Pe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Pe({context:this.context,units:"cents",value:e.detune}),Ue(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(nt.getDefaults(),Ir.getDefaults(),Pi.getDefaults(),bi.getDefaults(),Mr.getDefaults(),Fi.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(s=>this._sourceType===s)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const s=Zf[e],i=this.now();if(this._oscillator){const l=this._oscillator;l.stop(i),this.context.setTimeout(()=>l.dispose(),this.blockTime)}this._oscillator=new s({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let s="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(s=this._oscillator.type),e==="fm"?this.type="fm"+s:e==="am"?this.type="am"+s:e==="fat"?this.type="fat"+s:e==="oscillator"?this.type=s:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,s){return e instanceof Zf[s]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&fn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&fn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Cn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return st(this,void 0,void 0,function*(){return Ys(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Mc extends Pe{constructor(){super(Object.assign(Q(Mc.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new be({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ri(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Pe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Fa extends Bn{constructor(){super(Object.assign(Q(Fa.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=Q(Fa.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Un({context:this.context,value:e.max-e.min}),this._add=this.output=new Mc({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Bn.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function om(o,e=1/0){const s=new WeakMap;return function(i,l){Reflect.defineProperty(i,l,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(u){En(u,o,e),s.set(this,u)}})}}function Hn(o,e=1/0){const s=new WeakMap;return function(i,l){Reflect.defineProperty(i,l,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(u){En(this.toSeconds(u),o,e),s.set(this,u)}})}}class Li extends Tt{constructor(){super(Q(Li.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=Q(Li.getDefaults(),arguments,["url","onload"]);this._buffer=new Ie({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Tt.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Ae,onerror:Ae,playbackRate:1,reverse:!1})}load(e){return st(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Ae){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,s,i){return super.start(e,s,i),this}_start(e,s,i){this._loop?s=Tn(s,this._loopStart):s=Tn(s,0);const l=this.toSeconds(s),u=i;i=Tn(i,Math.max(this._buffer.duration-l,0));let d=this.toSeconds(i);d=d/this._playbackRate,e=this.toSeconds(e);const f=new Rr({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+d),this._state.setStateAtTime("stopped",e+d,{implicitEnd:!0})),this._activeSources.add(f),this._loop&&Ut(u)?f.start(e,l):f.start(e,l,d-this.toSeconds(this.fadeOut))}_stop(e){const s=this.toSeconds(e);this._activeSources.forEach(i=>i.stop(s))}restart(e,s,i){return super.restart(e,s,i),this}_restart(e,s,i){var l;(l=[...this._activeSources].pop())===null||l===void 0||l.stop(e),this._start(e,s,i)}seek(e,s){const i=this.toSeconds(s);if(this._state.getValueAtTime(i)==="started"){const l=this.toSeconds(e);this._stop(i),this._start(i,l)}return this}setLoopPoints(e,s){return this.loopStart=e,this.loopEnd=s,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&En(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&En(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(s=>{s.loop=e}),e)){const s=this._state.getNextState("stopped",this.now());s&&this._state.cancel(s.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const s=this.now(),i=this._state.getNextState("stopped",s);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(l=>l.cancelStop())),this._activeSources.forEach(l=>{l.playbackRate.setValueAtTime(e,s)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}_n([Hn(0)],Li.prototype,"fadeIn",void 0);_n([Hn(0)],Li.prototype,"fadeOut",void 0);class X1 extends Bn{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Gs({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class en extends ve{constructor(){super(Q(en.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Pe({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=Q(en.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(ve.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,s){if(Cn(e))return e;{let i;for(i in pa)if(pa[i][s]===e)return i;return e}}_setCurve(e,s,i){if(Cn(i)&&Reflect.has(pa,i)){const l=pa[i];gs(l)?e!=="_decayCurve"&&(this[e]=l[s]):this[e]=l}else if(St(i)&&e!=="_decayCurve")this[e]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,s=1){this.log("triggerAttack",e,s),e=this.toSeconds(e);let l=this.toSeconds(this.attack);const u=this.toSeconds(this.decay),d=this.getValueAtTime(e);if(d>0){const f=1/l;l=(1-d)/f}if(l<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(s,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(s,l,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(s,l,e);else{this._sig.cancelAndHoldAtTime(e);let f=this._attackCurve;for(let p=1;p<f.length;p++)if(f[p-1]<=d&&d<=f[p]){f=this._attackCurve.slice(p),f[0]=d;break}this._sig.setValueCurveAtTime(f,e,l,s)}if(u&&this.sustain<1){const f=s*this.sustain,p=e+l;this.log("decay",p),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(f,u+p):this._sig.exponentialApproachValueAtTime(f,p,u)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const s=this.getValueAtTime(e);if(s>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,e):(_e(St(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,i,s))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,s,i=1){return s=this.toSeconds(s),this.triggerAttack(s,i),this.triggerRelease(s+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,s=0,i=0){return Dc(this,e,s,i),this}asArray(e=1024){return st(this,void 0,void 0,function*(){const s=e/this.context.sampleRate,i=new el(1,s,this.context.sampleRate),l=this.toSeconds(this.attack)+this.toSeconds(this.decay),u=l+this.toSeconds(this.release),d=u*.1,f=u+d,p=new this.constructor(Object.assign(this.get(),{attack:s*this.toSeconds(this.attack)/f,decay:s*this.toSeconds(this.decay)/f,release:s*this.toSeconds(this.release)/f,context:i}));return p._sig.toDestination(),p.triggerAttackRelease(s*(l+d)/f,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}_n([Hn(0)],en.prototype,"attack",void 0);_n([Hn(0)],en.prototype,"decay",void 0);_n([om(0,1)],en.prototype,"sustain",void 0);_n([Hn(0)],en.prototype,"release",void 0);const pa=(()=>{let e,s;const i=[];for(e=0;e<128;e++)i[e]=Math.sin(e/127*(Math.PI/2));const l=[],u=6.4;for(e=0;e<127;e++){s=e/127;const y=Math.sin(s*(Math.PI*2)*u-Math.PI/2)+1;l[e]=y/10+s*.83}l[127]=1;const d=[],f=5;for(e=0;e<128;e++)d[e]=Math.ceil(e/127*f)/f;const p=[];for(e=0;e<128;e++)s=e/127,p[e]=.5*(1-Math.cos(Math.PI*s));const m=[];for(e=0;e<128;e++){s=e/127;const y=Math.pow(s,3)*4+.2,k=Math.cos(y*Math.PI*2*s);m[e]=Math.abs(k*(1-s))}function _(y){const k=new Array(y.length);for(let w=0;w<y.length;w++)k[w]=1-y[w];return k}function v(y){return y.slice(0).reverse()}return{bounce:{In:_(m),Out:m},cosine:{In:i,Out:v(i)},exponential:"exponential",linear:"linear",ripple:{In:l,Out:_(l)},sine:{In:p,Out:_(p)},step:{In:d,Out:_(d)}}})();class pn extends ve{constructor(){super(Q(pn.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=s=>this._original_triggerRelease(s);const e=Q(pn.getDefaults(),arguments);this._volume=this.output=new Us({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Ue(this,"volume")}static getDefaults(){return Object.assign(ve.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,s){const i=this["_original_"+e]=this[e];this[e]=(...l)=>{const u=l[s],d=this.context.transport.schedule(f=>{l[s]=f,i.apply(this,l)},u);this._scheduledEvents.push(d)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,s,i,l){const u=this.toSeconds(i),d=this.toSeconds(s);return this.triggerAttack(e,u,l),this.triggerRelease(u+d),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Nn extends pn{constructor(){super(Q(Nn.getDefaults(),arguments));const e=Q(Nn.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(pn.getDefaults(),{detune:0,onsilence:Ae,portamento:0})}triggerAttack(e,s,i=1){this.log("triggerAttack",e,s,i);const l=this.toSeconds(s);return this._triggerEnvelopeAttack(l,i),this.setNote(e,l),this}triggerRelease(e){this.log("triggerRelease",e);const s=this.toSeconds(e);return this._triggerEnvelopeRelease(s),this}setNote(e,s){const i=this.toSeconds(s),l=e instanceof Bt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const u=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(l,u,i)}else this.frequency.setValueAtTime(l,i);return this}}_n([Hn(0)],Nn.prototype,"portamento",void 0);class nl extends en{constructor(){super(Q(nl.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new be({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class $s extends Nn{constructor(){super(Q($s.getDefaults(),arguments)),this.name="Synth";const e=Q($s.getDefaults(),arguments);this.oscillator=new Vi(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new nl(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Ue(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Nn.getDefaults(),{envelope:Object.assign(Bs(en.getDefaults(),Object.keys(ve.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Bs(Vi.getDefaults(),[...Object.keys(Tt.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,s){if(this.envelope.triggerAttack(e,s),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),l=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+l)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class ji extends ve{constructor(){super(Q(ji.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=Q(ji.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Me({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Me({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Me({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Me({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(ve.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){_e(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const s=new Float32Array(e);for(let d=0;d<e;d++){const p=Math.pow(d/e,2)*19980+20;s[d]=p}const i=new Float32Array(e),l=new Float32Array(e),u=this.context.createBiquadFilter();return u.type=this.type,u.Q.value=this.Q.value,u.frequency.value=this.frequency.value,u.gain.value=this.gain.value,u.getFrequencyResponse(s,i,l),i}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Pr extends ve{constructor(){super(Q(Pr.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new be({context:this.context}),this.output=new be({context:this.context}),this._filters=[];const e=Q(Pr.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new Pe({context:this.context,units:"positive",value:e.Q}),this.frequency=new Pe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Pe({context:this.context,units:"cents",value:e.detune}),this.gain=new Pe({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Ue(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(ve.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){_e(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(i=>i.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const s=fn(e)?e:parseInt(e,10),i=[-12,-24,-48,-96];let l=i.indexOf(s);_e(l!==-1,`rolloff can only be ${i.join(", ")}`),l+=1,this._rolloff=s,this.input.disconnect(),this._filters.forEach(u=>u.disconnect()),this._filters=new Array(l);for(let u=0;u<l;u++){const d=new ji({context:this.context});d.type=this._type,this.frequency.connect(d.frequency),this.detune.connect(d.detune),this.Q.connect(d.Q),this.gain.connect(d.gain),this._filters[u]=d}this._internalChannels=this._filters,Ri(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const s=new ji({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),i=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{s.getFrequencyResponse(e).forEach((u,d)=>i[d]*=u)}),s.dispose(),i}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Ac(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}const Kf=[1,1.483,1.932,2.546,2.63,3.897];class Va extends Nn{constructor(){super(Q(Va.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const e=Q(Va.getDefaults(),arguments);this.detune=new Pe({context:this.context,units:"cents",value:e.detune}),this.frequency=new Pe({context:this.context,units:"frequency"}),this._amplitude=new be({context:this.context,gain:0}).connect(this.output),this._highpass=new Pr({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let s=0;s<Kf.length;s++){const i=new Ir({context:this.context,harmonicity:e.harmonicity,modulationIndex:e.modulationIndex,modulationType:"square",onstop:s===0?()=>this.onsilence(this):Ae,type:"square"});i.connect(this._highpass),this._oscillators[s]=i;const l=new Un({context:this.context,value:Kf[s]});this._freqMultipliers[s]=l,this.frequency.chain(l,i.frequency),this.detune.connect(i.detune)}this._filterFreqScaler=new Fa({context:this.context,max:7e3,min:this.toFrequency(e.resonance)}),this.envelope=new en({attack:e.envelope.attack,attackCurve:"linear",context:this.context,decay:e.envelope.decay,release:e.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=e.octaves,this.octaves=e.octaves}static getDefaults(){return vs(Nn.getDefaults(),{envelope:Object.assign(Bs(en.getDefaults(),Object.keys(ve.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(e,s=1){return this.envelope.triggerAttack(e,s),this._oscillators.forEach(i=>i.start(e)),this.envelope.sustain===0&&this._oscillators.forEach(i=>{i.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(e){return this.envelope.triggerRelease(e),this._oscillators.forEach(s=>s.stop(e+this.toSeconds(this.envelope.release))),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(e){this._oscillators.forEach(s=>s.modulationIndex.value=e)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(e){this._oscillators.forEach(s=>s.harmonicity.value=e)}get resonance(){return this._filterFreqScaler.min}set resonance(e){this._filterFreqScaler.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,e)}dispose(){return super.dispose(),this._oscillators.forEach(e=>e.dispose()),this._freqMultipliers.forEach(e=>e.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class br extends $s{constructor(){super(Q(br.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=Q(br.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Ue(this,["oscillator","envelope"])}static getDefaults(){return vs(Nn.getDefaults(),$s.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,s){const i=this.toSeconds(s),l=this.toFrequency(e instanceof Bt?e.toFrequency():e),u=l*this.octaves;return this.oscillator.frequency.setValueAtTime(u,i),this.oscillator.frequency.exponentialRampToValueAtTime(l,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}_n([om(0)],br.prototype,"octaves",void 0);_n([Hn(0)],br.prototype,"pitchDecay",void 0);class La extends pn{constructor(){super(Q(La.getDefaults(),arguments)),this.name="NoiseSynth";const e=Q(La.getDefaults(),arguments);this.noise=new Ss(Object.assign({context:this.context},e.noise)),this.envelope=new nl(Object.assign({context:this.context},e.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(pn.getDefaults(),{envelope:Object.assign(Bs(en.getDefaults(),Object.keys(ve.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Bs(Ss.getDefaults(),Object.keys(Tt.getDefaults())),{type:"white"})})}triggerAttack(e,s=1){return e=this.toSeconds(e),this.envelope.triggerAttack(e,s),this.noise.start(e),this.envelope.sustain===0&&this.noise.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this.noise.stop(e+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(e,s,i=1){return s=this.toSeconds(s),e=this.toSeconds(e),this.triggerAttack(s,i),this.triggerRelease(s+e),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const am=new Set;function Pc(o){am.add(o)}function lm(o,e){const s=`registerProcessor("${o}", ${e})`;am.add(s)}const Z1=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Pc(Z1);const K1=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Pc(K1);const J1=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Pc(J1);const eS="feedback-comb-filter",tS=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;lm(eS,tS);class ja extends pn{constructor(){super(Q(ja.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=l=>this.releaseAll(l);const e=Q(ja.getDefaults(),arguments,["voice","options"]);_e(!fn(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const s=e.voice.getDefaults();this.options=Object.assign(s,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const i=this._voices.indexOf(this._dummyVoice);this._voices.splice(i,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(pn.getDefaults(),{maxPolyphony:32,options:{},voice:$s})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const s=this._activeVoices.findIndex(i=>i.voice===e);this._activeVoices.splice(s,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return _e(e instanceof Nn,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Za("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),s=this._voices.indexOf(e);this._voices.splice(s,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,s,i){e.forEach(l=>{const u=new Ia(this.context,l).toMidi(),d=this._getNextAvailableVoice();d&&(d.triggerAttack(l,s,i),this._activeVoices.push({midi:u,voice:d,released:!1}),this.log("triggerAttack",l,s))})}_triggerRelease(e,s){e.forEach(i=>{const l=new Ia(this.context,i).toMidi(),u=this._activeVoices.find(({midi:d,released:f})=>d===l&&!f);u&&(u.voice.triggerRelease(s),u.released=!0,this.log("triggerRelease",i,s))})}_scheduleEvent(e,s,i,l){_e(!this.disposed,"Synth was already disposed"),i<=this.now()?e==="attack"?this._triggerAttack(s,i,l):this._triggerRelease(s,i):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,s,i,l)},i-this.now())}triggerAttack(e,s,i){Array.isArray(e)||(e=[e]);const l=this.toSeconds(s);return this._scheduleEvent("attack",e,l,i),this}triggerRelease(e,s){Array.isArray(e)||(e=[e]);const i=this.toSeconds(s);return this._scheduleEvent("release",e,i),this}triggerAttackRelease(e,s,i,l){const u=this.toSeconds(i);if(this.triggerAttack(e,u,l),St(s)){_e(St(e),"If the duration is an array, the notes must also be an array"),e=e;for(let d=0;d<e.length;d++){const f=s[Math.min(d,s.length-1)],p=this.toSeconds(f);_e(p>0,"The duration must be greater than 0"),this.triggerRelease(e[d],u+p)}}else{const d=this.toSeconds(s);_e(d>0,"The duration must be greater than 0"),this.triggerRelease(e,u+d)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const s=Bs(e,["onsilence","context"]);return this.options=vs(this.options,s),this._voices.forEach(i=>i.set(s)),this._dummyVoice.set(s),this}get(){return this._dummyVoice.get()}releaseAll(e){const s=this.toSeconds(e);return this._activeVoices.forEach(({voice:i})=>{i.triggerRelease(s)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class zi extends pn{constructor(){super(Q(zi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=Q(zi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),s={};Object.keys(e.urls).forEach(i=>{const l=parseInt(i,10);if(_e(fa(i)||fn(l)&&isFinite(l),`url key is neither a note or midi pitch: ${i}`),fa(i)){const u=new Bt(this.context,i).toMidi();s[u]=e.urls[i]}else fn(l)&&isFinite(l)&&(s[l]=e.urls[l])}),this._buffers=new Rc({urls:s,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(pn.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Ae,onerror:Ae,release:.1,urls:{}})}_findClosest(e){let i=0;for(;i<96;){if(this._buffers.has(e+i))return-i;if(this._buffers.has(e-i))return i;i++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,s,i=1){return this.log("triggerAttack",e,s,i),Array.isArray(e)||(e=[e]),e.forEach(l=>{const u=rm(new Bt(this.context,l).toFrequency()),d=Math.round(u),f=u-d,p=this._findClosest(d),m=d-p,_=this._buffers.get(m),v=sm(p+f),y=new Rr({url:_,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:v}).connect(this.output);y.start(s,0,_.duration/v,i),St(this._activeSources.get(d))||this._activeSources.set(d,[]),this._activeSources.get(d).push(y),y.onended=()=>{if(this._activeSources&&this._activeSources.has(d)){const k=this._activeSources.get(d),w=k.indexOf(y);w!==-1&&k.splice(w,1)}}}),this}triggerRelease(e,s){return this.log("triggerRelease",e,s),Array.isArray(e)||(e=[e]),e.forEach(i=>{const l=new Bt(this.context,i).toMidi();if(this._activeSources.has(l)&&this._activeSources.get(l).length){const u=this._activeSources.get(l);s=this.toSeconds(s),u.forEach(d=>{d.stop(s)}),this._activeSources.set(l,[])}}),this}releaseAll(e){const s=this.toSeconds(e);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(s)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,s,i,l=1){const u=this.toSeconds(i);return this.triggerAttack(e,u,l),St(s)?(_e(St(e),"notes must be an array when duration is array"),e.forEach((d,f)=>{const p=s[Math.min(f,s.length-1)];this.triggerRelease(d,u+this.toSeconds(p))})):this.triggerRelease(e,u+this.toSeconds(s)),this}add(e,s,i){if(_e(fa(e)||isFinite(e),`note must be a pitch or midi: ${e}`),fa(e)){const l=new Bt(this.context,e).toMidi();this._buffers.add(l,s,i)}else this._buffers.add(e,s,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(s=>s.dispose())}),this._activeSources.clear(),this}}_n([Hn(0)],zi.prototype,"attack",void 0);_n([Hn(0)],zi.prototype,"release",void 0);class Wn extends kt{constructor(){super(Q(Wn.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new Ki("stopped"),this._startOffset=0;const e=Q(Wn.getDefaults(),arguments,["callback","value"]);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(kt.getDefaults(),{callback:Ae,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,s=>{let i;if(s.state==="started"){s.id!==-1&&this.context.transport.clear(s.id);const l=s.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||fn(this._loop)&&this._loop>1){i=1/0,fn(this._loop)&&(i=this._loop*this._getLoopDuration());const u=this._state.getAfter(l);u!==null&&(i=Math.min(i,u.time-l)),i!==1/0&&(i=new Ze(this.context,i));const d=new Ze(this.context,this._getLoopDuration());s.id=this.context.transport.scheduleRepeat(this._tick.bind(this),d,new Ze(this.context,l),i)}else s.id=this.context.transport.schedule(this._tick.bind(this),new Ze(this.context,l))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const s=this.toTicks(e);return this._state.getValueAtTime(s)==="stopped"&&(this._state.add({id:-1,state:"started",time:s}),this._rescheduleEvents(s)),this}stop(e){this.cancel(e);const s=this.toTicks(e);if(this._state.getValueAtTime(s)==="started"){this._state.setStateAtTime("stopped",s,{id:-1});const i=this._state.getBefore(s);let l=s;i!==null&&(l=i.time),this._rescheduleEvents(l)}return this}cancel(e){e=Tn(e,-1/0);const s=this.toTicks(e);return this._state.forEachFrom(s,i=>{this.context.transport.clear(i.id)}),this._state.cancel(s),this}_tick(e){const s=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(s)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let i=.02;Yp(this.humanize)||(i=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*i}this.callback(e,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new Ze(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new Ze(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,s=this._state.get(e);if(s!==null&&s.state==="started"){const i=this._getLoopDuration();return(e-s.time)%i/i}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Ni extends Wn{constructor(){super(Q(Ni.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new Ki("stopped"),this._events=new Set;const e=Q(Ni.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,e.events.forEach(s=>{St(s)?this.add(s[0],s[1]):this.add(s)})}static getDefaults(){return Object.assign(Wn.getDefaults(),{events:[]})}start(e,s){const i=this.toTicks(e);if(this._state.getValueAtTime(i)!=="started"){s=Tn(s,this._loop?this._loopStart:0),this._loop?s=Tn(s,this._loopStart):s=Tn(s,0);const l=this.toTicks(s);this._state.add({id:-1,offset:l,state:"started",time:i}),this._forEach(u=>{this._startNote(u,i,l)})}return this}_startNote(e,s,i){s-=i,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<i&&(s+=this._getLoopDuration()),e.start(new Ze(this.context,s))):e.startOffset<this._loopStart&&e.startOffset>=i&&(e.loop=!1,e.start(new Ze(this.context,s))):e.startOffset>=i&&e.start(new Ze(this.context,s))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(s=>{s.startOffset+=this._startOffset})}stop(e){const s=this.toTicks(e);return this._state.cancel(s),this._state.setStateAtTime("stopped",s),this._forEach(i=>{i.stop(e)}),this}at(e,s){const i=new Er(this.context,e).toTicks(),l=new Ze(this.context,1).toSeconds(),u=this._events.values();let d=u.next();for(;!d.done;){const f=d.value;if(Math.abs(i-f.startOffset)<l)return ke(s)&&(f.value=s),f;d=u.next()}return ke(s)?(this.add(e,s),this.at(e)):null}add(e,s){e instanceof Object&&Reflect.has(e,"time")&&(s=e,e=s.time);const i=this.toTicks(e);let l;return s instanceof Wn?(l=s,l.callback=this._tick.bind(this)):l=new Wn({callback:this._tick.bind(this),context:this.context,value:s}),l.startOffset=i,l.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(l),this._restartEvent(l),this}_restartEvent(e){this._state.forEach(s=>{s.state==="started"?this._startNote(e,s.time,s.offset):e.stop(new Ze(this.context,s.time))})}remove(e,s){return gs(e)&&e.hasOwnProperty("time")&&(s=e,e=s.time),e=this.toTicks(e),this._events.forEach(i=>{i.startOffset===e&&(Ut(s)||ke(s)&&i.value===s)&&(this._events.delete(i),i.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(s=>s.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(s=>{s instanceof Ni?s._forEach(e):e(s)}),this}_setAll(e,s){this._forEach(i=>{i[e]=s})}_tick(e,s){this.mute||this.callback(e,s)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):e.state==="stopped"&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(s=>{s.loopStart=this.loopStart,s.loopEnd=this.loopEnd,s.loop=e,this._testLoopBoundries(s)})}get loopEnd(){return new Ze(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(s=>{s.loopEnd=e,this._testLoopBoundries(s)})}get loopStart(){return new Ze(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(s=>{s.loopStart=this.loopStart,this._testLoopBoundries(s)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class Wi extends Wn{constructor(){super(Q(Wi.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new Ni({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const e=Q(Wi.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(e.subdivision),this.events=e.events,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.playbackRate=e.playbackRate,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate}static getDefaults(){return Object.assign(Bs(Wn.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(e,s){s!==null&&!this.mute&&this.callback(e,s)}get events(){return this._events}set events(e){this.clear(),this._eventsArray=e,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(e,s){return this._part.start(e,s&&this._indexTime(s)),this}stop(e){return this._part.stop(e),this}get subdivision(){return new Ze(this.context,this._subdivision).toSeconds()}_createSequence(e){return new Proxy(e,{get:(s,i)=>s[i],set:(s,i,l)=>(Cn(i)&&isFinite(parseInt(i,10))&&St(l)?s[i]=this._createSequence(l):s[i]=l,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(e,s,i){e.forEach((l,u)=>{const d=u*s+i;if(St(l))this._rescheduleSequence(l,s/l.length,d);else{const f=new Ze(this.context,d,"i").toSeconds();this._part.add(f,l)}})}_indexTime(e){return new Ze(this.context,e*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(e){this._part.loop=e}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this._part.loopStart=this._indexTime(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,e===0?this._part.loopEnd=this._indexTime(this._eventsArray.length):this._part.loopEnd=this._indexTime(e)}get startOffset(){return this._part.startOffset}set startOffset(e){this._part.startOffset=e}get playbackRate(){return this._part.playbackRate}set playbackRate(e){this._part.playbackRate=e}get probability(){return this._part.probability}set probability(e){this._part.probability=e}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(e){this._part.humanize=e}get length(){return this._part.length}}class za extends ve{constructor(){super(Object.assign(Q(za.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new X1({context:this.context}),this.a=new be({context:this.context,gain:0}),this.b=new be({context:this.context,gain:0}),this.output=new be({context:this.context}),this._internalChannels=[this.a,this.b];const e=Q(za.getDefaults(),arguments,["fade"]);this.fade=new Pe({context:this.context,units:"normalRange",value:e.fade}),Ue(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",ys(this._split,this.a.gain,0),ys(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ve.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Jf extends ve{constructor(e){super(e),this.name="Effect",this._dryWet=new za({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new be({context:this.context}),this.effectReturn=new be({context:this.context}),this.input=new be({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ue(this,"wet")}static getDefaults(){return Object.assign(ve.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Wa extends ve{constructor(){super(Object.assign(Q(Wa.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=Q(Wa.getDefaults(),arguments,["pan"]);this.pan=new Me({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Ue(this,"pan")}static getDefaults(){return Object.assign(ve.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const nS="bit-crusher",sS=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;lm(nS,sS);class qa extends ve{constructor(){super(Q(qa.getDefaults(),arguments,["channels"])),this.name="Merge";const e=Q(qa.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(ve.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Ba extends Jf{constructor(){super(Q(Ba.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const e=Q(Ba.getDefaults(),arguments,["decay"]);this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Jf.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),En(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),En(e,0),this._preDelay=e,this.generate()}generate(){return st(this,void 0,void 0,function*(){const e=this.ready,s=new el(2,this._decay+this._preDelay,this.context.sampleRate),i=new Ss({context:s}),l=new Ss({context:s}),u=new qa({context:s});i.connect(u,0,0),l.connect(u,0,1);const d=new be({context:s}).toDestination();u.connect(d),i.start(0),l.start(0),d.gain.setValueAtTime(0,0),d.gain.setValueAtTime(1,this._preDelay),d.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const f=s.render();return this.ready=f.then(Ae),yield e,this._convolver.buffer=(yield f).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class tt extends ve{constructor(){super(Q(tt.getDefaults(),arguments,["solo"])),this.name="Solo";const e=Q(tt.getDefaults(),arguments,["solo"]);this.input=this.output=new be({context:this.context}),tt._allSolos.has(this.context)||tt._allSolos.set(this.context,new Set),tt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(ve.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),tt._allSolos.get(this.context).forEach(s=>s._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){tt._soloed.has(this.context)||tt._soloed.set(this.context,new Set),tt._soloed.get(this.context).add(this)}_removeSolo(){tt._soloed.has(this.context)&&tt._soloed.get(this.context).delete(this)}_isSoloed(){return tt._soloed.has(this.context)&&tt._soloed.get(this.context).has(this)}_noSolos(){return!tt._soloed.has(this.context)||tt._soloed.has(this.context)&&tt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),tt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}tt._allSolos=new Map;tt._soloed=new Map;class Ua extends ve{constructor(){super(Q(Ua.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=Q(Ua.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Wa({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Us({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Ue(this,["pan","volume"])}static getDefaults(){return Object.assign(ve.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Vs extends ve{constructor(){super(Q(Vs.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=Q(Vs.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new tt({solo:e.solo,context:this.context}),this._panVol=this.output=new Ua({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ue(this,["pan","volume"])}static getDefaults(){return Object.assign(ve.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Vs.buses.has(e)||Vs.buses.set(e,new be({context:this.context})),Vs.buses.get(e)}send(e,s=0){const i=this._getBus(e),l=new be({context:this.context,units:"decibels",gain:s});return this.connect(l),l.connect(i),l}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Vs.buses=new Map;class rS extends ve{constructor(){super(...arguments),this.name="Listener",this.positionX=new Me({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Me({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Me({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Me({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Me({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Me({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Me({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Me({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Me({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ve.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Ka(o=>{o.listener=new rS({context:o})});Ja(o=>{o.listener.dispose()});const ma=cn().transport;cn().destination;cn().destination;cn().listener;cn().draw;cn();const ep={Cmaj7:["C4","E4","G4","B4"],Dm7:["D4","F4","A4","C5"],Em7:["E4","G4","B4","D5"],Fmaj7:["F4","A4","C5","E5"],G7:["G3","B3","D4","F4"],Am7:["A3","C4","E4","G4"],Bm7b5:["B3","D4","F4","A4"],Dm9:["D4","F4","A4","C5","E5"],Gm7:["G3","Bb3","D4","F4"],Cm7:["C4","Eb4","G4","Bb4"],Fm7:["F3","Ab3","C4","Eb4"],Bb7:["Bb3","D4","F4","Ab4"],Ebmaj7:["Eb4","G4","Bb4","D5"],Abmaj7:["Ab3","C4","Eb4","G4"]},tp={"Classic Lo-Fi":["Dm7","G7","Cmaj7","Am7"],"Jazzy Nights":["Fmaj7","Em7","Dm7","Cmaj7"],"Rainy Day":["Am7","Fmaj7","Cmaj7","G7"],"Sunset Vibes":["Dm9","G7","Cmaj7","Fmaj7"],Melancholy:["Cm7","Fm7","Bb7","Ebmaj7"],"Late Night":["Am7","Dm7","G7","Cmaj7"]};function Tr({label:o,value:e,onChange:s,min:i,max:l,step:u=1,unit:d=""}){return xe.jsxs("div",{className:"mb-3",children:[xe.jsxs("label",{className:"block text-amber-200 text-xs mb-1",children:[o,": ",e,d]}),xe.jsx("input",{type:"range",min:i,max:l,step:u,value:e,onChange:f=>s(Number(f.target.value)),className:"w-full h-2 bg-amber-900 rounded-lg appearance-none cursor-pointer accent-amber-500"})]})}function iS(){const[o,e]=qe.useState(!1),[s,i]=qe.useState(!1),[l,u]=qe.useState(75),[d,f]=qe.useState(800),[p,m]=qe.useState(-20),[_,v]=qe.useState(.5),[y,k]=qe.useState(-6),[w,T]=qe.useState(-12),[x,O]=qe.useState(-1),[V,L]=qe.useState(-1),[z,N]=qe.useState(["Dm7","G7","Cmaj7","Am7"]),[I,P]=qe.useState("Classic Lo-Fi"),[D,Y]=qe.useState(null),W=qe.useRef(null),U=qe.useRef(null),q=qe.useRef(z);qe.useEffect(()=>{q.current=z},[z]),qe.useEffect(()=>{const G=new Pr(d,"lowpass").toDestination(),Z=new Ba({decay:2,wet:.3}).connect(G),j=new Ss("brown").toDestination();j.volume.value=p;const $=new Pr(2e3,"bandpass");j.disconnect(),j.connect($),$.toDestination();const B=new br({pitchDecay:.05,octaves:4,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:.4}}).connect(Z),C=new La({noise:{type:"white"},envelope:{attack:.001,decay:.2,sustain:0,release:.1}}).connect(Z);C.volume.value=-10;const F=new Va({frequency:250,envelope:{attack:.001,decay:.05,release:.01},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5}).connect(Z);F.volume.value=-20;const de=new ja($s,{oscillator:{type:"triangle"},envelope:{attack:.1,decay:.3,sustain:.4,release:1.5}}).connect(Z);de.volume.value=w,W.current={masterFilter:G,masterReverb:Z,vinylNoise:j,vinylFilter:$,kick:B,snare:C,hihat:F,chordSynth:de};const fe=[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],se=[0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],he=[1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],we=new Wi((Se,Oe)=>{O(Oe),fe[Oe]&&B.triggerAttackRelease("C1","8n",Se),se[Oe]&&C.triggerAttackRelease("8n",Se),he[Oe]&&F.triggerAttackRelease("C6","16n",Se)},[...Array(16).keys()],"16n"),ee=new Wi((Se,Oe)=>{L(Oe);const Lt=q.current[Oe],Gt=ep[Lt];Gt&&de.triggerAttackRelease(Gt,"2n",Se)},[0,1,2,3],"1n");return U.current={drumSeq:we,chordSeq:ee},i(!0),()=>{we.dispose(),ee.dispose(),Object.values(W.current).forEach(Se=>Se.dispose())}},[]),qe.useEffect(()=>{ma.bpm.value=l},[l]),qe.useEffect(()=>{ma.swing=_},[_]),qe.useEffect(()=>{var G;(G=W.current)!=null&&G.masterFilter&&(W.current.masterFilter.frequency.value=d)},[d]),qe.useEffect(()=>{var G;(G=W.current)!=null&&G.vinylNoise&&(W.current.vinylNoise.volume.value=p)},[p]),qe.useEffect(()=>{var G;(G=W.current)!=null&&G.kick&&(W.current.kick.volume.value=y,W.current.snare.volume.value=y-4,W.current.hihat.volume.value=y-14)},[y]),qe.useEffect(()=>{var G;(G=W.current)!=null&&G.chordSynth&&(W.current.chordSynth.volume.value=w)},[w]);const te=async()=>{await V1(),o?(ma.stop(),U.current.drumSeq.stop(),U.current.chordSeq.stop(),W.current.vinylNoise.stop(),O(-1),L(-1)):(W.current.vinylNoise.start(),U.current.drumSeq.start(0),U.current.chordSeq.start(0),ma.start()),e(!o)},ne=G=>{P(G),N([...tp[G]]),Y(null)},le=(G,Z)=>{const j=[...z];j[G]=Z,N(j),P("Custom"),Y(null)};return xe.jsx("div",{className:"min-h-screen bg-gradient-to-br from-stone-900 via-amber-950 to-stone-900 p-4 font-mono",children:xe.jsxs("div",{className:"max-w-lg mx-auto",children:[xe.jsx("h1",{className:"text-2xl font-bold text-amber-200 mb-1 text-center",children:"Lo-Fi Beat Maker"}),xe.jsx("p",{className:"text-amber-600 text-xs text-center mb-4",children:"chill beats to relax/study to"}),xe.jsx("div",{className:"flex justify-center gap-1 mb-4",children:[...Array(16)].map((G,Z)=>xe.jsx("div",{className:`w-2.5 h-2.5 rounded-full transition-all duration-75 ${x===Z?"bg-amber-400 shadow-lg shadow-amber-400/50":Z%4===0?"bg-amber-700":"bg-amber-900"}`},Z))}),xe.jsx("button",{onClick:te,disabled:!s,className:`w-full py-3 rounded-xl text-lg font-bold transition-all mb-4 ${o?"bg-amber-600 text-stone-900 hover:bg-amber-500":"bg-amber-800 text-amber-100 hover:bg-amber-700"} disabled:opacity-50`,children:s?o?" Stop":" Play":"Loading..."}),xe.jsxs("div",{className:"bg-stone-800/50 rounded-xl p-4 backdrop-blur mb-4",children:[xe.jsx("h2",{className:"text-amber-400 font-bold mb-3",children:"Chord Progression"}),xe.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:z.map((G,Z)=>xe.jsxs("div",{className:"relative",children:[xe.jsx("button",{onClick:()=>Y(D===Z?null:Z),className:`w-full py-3 px-2 rounded-lg text-sm font-bold transition-all ${V===Z?"bg-amber-500 text-stone-900 scale-105 shadow-lg shadow-amber-500/30":D===Z?"bg-amber-700 text-amber-100 ring-2 ring-amber-400":"bg-stone-700 text-amber-200 hover:bg-stone-600"}`,children:G}),xe.jsx("span",{className:"absolute -top-2 -left-1 text-xs text-amber-600",children:Z+1})]},Z))}),D!==null&&xe.jsxs("div",{className:"mb-4 p-3 bg-stone-900/50 rounded-lg",children:[xe.jsxs("p",{className:"text-amber-300 text-xs mb-2",children:["Select chord for slot ",D+1,":"]}),xe.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:Object.keys(ep).map(G=>xe.jsx("button",{onClick:()=>le(D,G),className:`py-1.5 px-1 rounded text-xs transition-all ${z[D]===G?"bg-amber-500 text-stone-900 font-bold":"bg-stone-700 text-amber-200 hover:bg-stone-600"}`,children:G},G))})]}),xe.jsxs("div",{children:[xe.jsx("p",{className:"text-amber-300 text-xs mb-2",children:"Presets:"}),xe.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[Object.keys(tp).map(G=>xe.jsx("button",{onClick:()=>ne(G),className:`py-1.5 px-3 rounded-full text-xs transition-all ${I===G?"bg-amber-500 text-stone-900 font-bold":"bg-stone-700 text-amber-200 hover:bg-stone-600"}`,children:G},G)),I==="Custom"&&xe.jsx("span",{className:"py-1.5 px-3 rounded-full text-xs bg-amber-700 text-amber-100",children:"Custom"})]})]})]}),xe.jsxs("div",{className:"bg-stone-800/50 rounded-xl p-4 backdrop-blur",children:[xe.jsx("h2",{className:"text-amber-400 font-bold mb-3",children:"Sound Controls"}),xe.jsxs("div",{className:"grid grid-cols-2 gap-x-4",children:[xe.jsx(Tr,{label:"Tempo",value:l,onChange:u,min:60,max:100,unit:" BPM"}),xe.jsx(Tr,{label:"Filter",value:d,onChange:f,min:200,max:2e3,step:50,unit:" Hz"}),xe.jsx(Tr,{label:"Swing",value:_,onChange:v,min:0,max:1,step:.1}),xe.jsx(Tr,{label:"Vinyl",value:p,onChange:m,min:-40,max:-5,unit:" dB"}),xe.jsx(Tr,{label:"Drums",value:y,onChange:k,min:-20,max:0,unit:" dB"}),xe.jsx(Tr,{label:"Chords",value:w,onChange:T,min:-24,max:-3,unit:" dB"})]})]}),xe.jsx("p",{className:"text-amber-800 text-xs text-center mt-3",children:"Built with Tone.js  Click chords to edit"})]})})}f_.createRoot(document.getElementById("root")).render(xe.jsx(qe.StrictMode,{children:xe.jsx(iS,{})}));
